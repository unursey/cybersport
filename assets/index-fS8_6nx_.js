var Rt=Object.defineProperty;var Gt=(n,e,t)=>e in n?Rt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var pt=(n,e,t)=>(Gt(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const p of o)if(p.type==="childList")for(const a of p.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const p={};return o.integrity&&(p.integrity=o.integrity),o.referrerPolicy&&(p.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?p.credentials="include":o.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function i(o){if(o.ep)return;o.ep=!0;const p=t(o);fetch(o.href,p)}})();const Se=class Se{constructor(){if(Se.instance)return Se.instance;this.timeout=3e3,Se.instance=this}static getInstance(){return Se.instance||(Se.instance=new Se),Se.instance}show(e,t){const i=this.createNotification(e,t);document.body.append(i),this.animationNotification(i,!0),setTimeout(()=>{this.animationNotification(i,!1).then(()=>{i.remove()})},this.timeout)}createNotification(e,t){const i=document.createElement("div");return i.className=`notification ${t?"notification_success":"notification_error"}`,i.textContent=e,i}animationNotification(e,t){return new Promise(i=>{t?requestAnimationFrame(()=>{e.classList.add("notification_show"),i()}):(e.classList.remove("notification_show"),setTimeout(i,500))})}};pt(Se,"instance");let Ie=Se;const Ht=async()=>{try{const n=await fetch("http://localhost:8080/games");if(!n.ok)throw new Error(`Серевер вернул ошибку ${n.status}`);return n.json()}catch(n){console.error(`Проблема с fetch запросом ${n.message}`),Ie.getInstance().show("Возникла ошибка, попробуйте позже")}},ht=async(n,e,t)=>{try{const i=await fetch(`http://localhost:8080/clients${t?`/${t}`:""}`,{method:n,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!i.ok){const o=await i.text();throw new Error(`${o}`)}return!0}catch(i){return console.error(`Проблема с fetch запросом ${i.message}`),Ie.getInstance().show(`${i.message}`),!1}};var qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ct={exports:{}};/*!
 * dist/inputmask
 * https://github.com/RobinHerbots/Inputmask
 * Copyright (c) 2010 - 2023 Robin Herbots
 * Licensed under the MIT license
 * Version: 5.0.8
 */(function(n,e){(function(t,i){n.exports=i()})(typeof self<"u"?self:qt,function(){return function(){var t={8741:function(a,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var k=!(typeof window>"u"||!window.document||!window.document.createElement);f.default=k},3976:function(a,f,k){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var u=k(2839),y={_maxTestPos:500,placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:function(){},onincomplete:function(){},oncleared:function(){},repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,insertModeVisual:!0,clearIncomplete:!1,alias:null,onKeyDown:function(){},onBeforeMask:null,onBeforePaste:function(S,M){return typeof M.onBeforeMask=="function"?M.onBeforeMask.call(this,S,M):S},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:function(){},skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],ignorables:[u.keys.Backspace,u.keys.Tab,u.keys.Pause,u.keys.Escape,u.keys.PageUp,u.keys.PageDown,u.keys.End,u.keys.Home,u.keys.ArrowLeft,u.keys.ArrowUp,u.keys.ArrowRight,u.keys.ArrowDown,u.keys.Insert,u.keys.Delete,u.keys.ContextMenu,u.keys.F1,u.keys.F2,u.keys.F3,u.keys.F4,u.keys.F5,u.keys.F6,u.keys.F7,u.keys.F8,u.keys.F9,u.keys.F10,u.keys.F11,u.keys.F12,u.keys.Process,u.keys.Unidentified,u.keys.Shift,u.keys.Control,u.keys.Alt,u.keys.Tab,u.keys.AltGraph,u.keys.CapsLock],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"text",importDataAttributes:!0,shiftPositions:!0,usePrototypeDefinitions:!0,validationEventTimeOut:3e3,substitutes:{}};f.default=y},7392:function(a,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,f.default={9:{validator:"[0-9０-９]",definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",definitionSymbol:"*"},"*":{validator:"[0-9０-９A-Za-zА-яЁёÀ-ÿµ]"}}},253:function(a,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=function(k,u,y){if(y===void 0)return k.__data?k.__data[u]:null;k.__data=k.__data||{},k.__data[u]=y}},3776:function(a,f,k){Object.defineProperty(f,"__esModule",{value:!0}),f.Event=void 0,f.off=function(h,d){var s,b;return x(this[0])&&h&&(s=this[0].eventRegistry,b=this[0],h.split(" ").forEach(function(l){var r=T(l.split("."),2);(function(c,v){var g,_,m=[];if(c.length>0)if(d===void 0)for(g=0,_=s[c][v].length;g<_;g++)m.push({ev:c,namespace:v&&v.length>0?v:"global",handler:s[c][v][g]});else m.push({ev:c,namespace:v&&v.length>0?v:"global",handler:d});else if(v.length>0){for(var w in s)for(var F in s[w])if(F===v)if(d===void 0)for(g=0,_=s[w][F].length;g<_;g++)m.push({ev:w,namespace:F,handler:s[w][F][g]});else m.push({ev:w,namespace:F,handler:d})}return m})(r[0],r[1]).forEach(function(c){var v=c.ev,g=c.handler;(function(_,m,w){if(_ in s==1)if(b.removeEventListener?b.removeEventListener(_,w,!1):b.detachEvent&&b.detachEvent("on".concat(_),w),m==="global")for(var F in s[_])s[_][F].splice(s[_][F].indexOf(w),1);else s[_][m].splice(s[_][m].indexOf(w),1)})(v,c.namespace,g)})})),this},f.on=function(h,d){if(x(this[0])){var s=this[0].eventRegistry,b=this[0];h.split(" ").forEach(function(l){var r=T(l.split("."),2),c=r[0],v=r[1];(function(g,_){b.addEventListener?b.addEventListener(g,d,!1):b.attachEvent&&b.attachEvent("on".concat(g),d),s[g]=s[g]||{},s[g][_]=s[g][_]||[],s[g][_].push(d)})(c,v===void 0?"global":v)})}return this},f.trigger=function(h){var d=arguments;if(x(this[0]))for(var s=this[0].eventRegistry,b=this[0],l=typeof h=="string"?h.split(" "):[h.type],r=0;r<l.length;r++){var c=l[r].split("."),v=c[0],g=c[1]||"global";if(document!==void 0&&g==="global"){var _,m={bubbles:!0,cancelable:!0,composed:!0,detail:arguments[1]};if(document.createEvent){try{v==="input"?(m.inputType="insertText",_=new InputEvent(v,m)):_=new CustomEvent(v,m)}catch{(_=document.createEvent("CustomEvent")).initCustomEvent(v,m.bubbles,m.cancelable,m.detail)}h.type&&(0,y.default)(_,h),b.dispatchEvent(_)}else(_=document.createEventObject()).eventType=v,_.detail=arguments[1],h.type&&(0,y.default)(_,h),b.fireEvent("on"+_.eventType,_)}else if(s[v]!==void 0){arguments[0]=arguments[0].type?arguments[0]:M.default.Event(arguments[0]),arguments[0].detail=arguments.slice(1);var w=s[v];(g==="global"?Object.values(w).flat():w[g]).forEach(function(F){return F.apply(b,d)})}}return this};var u,y=O(k(600)),S=O(k(9380)),M=O(k(4963)),j=O(k(8741));function T(h,d){return function(s){if(Array.isArray(s))return s}(h)||function(s,b){var l=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(l!=null){var r,c,v,g,_=[],m=!0,w=!1;try{if(v=(l=l.call(s)).next,b===0){if(Object(l)!==l)return;m=!1}else for(;!(m=(r=v.call(l)).done)&&(_.push(r.value),_.length!==b);m=!0);}catch(F){w=!0,c=F}finally{try{if(!m&&l.return!=null&&(g=l.return(),Object(g)!==g))return}finally{if(w)throw c}}return _}}(h,d)||function(s,b){if(s){if(typeof s=="string")return C(s,b);var l=Object.prototype.toString.call(s).slice(8,-1);if(l==="Object"&&s.constructor&&(l=s.constructor.name),l==="Map"||l==="Set")return Array.from(s);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return C(s,b)}}(h,d)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function C(h,d){(d==null||d>h.length)&&(d=h.length);for(var s=0,b=new Array(d);s<d;s++)b[s]=h[s];return b}function O(h){return h&&h.__esModule?h:{default:h}}function x(h){return h instanceof Element}f.Event=u,typeof S.default.CustomEvent=="function"?f.Event=u=S.default.CustomEvent:j.default&&(f.Event=u=function(h,d){d=d||{bubbles:!1,cancelable:!1,composed:!0,detail:void 0};var s=document.createEvent("CustomEvent");return s.initCustomEvent(h,d.bubbles,d.cancelable,d.detail),s},u.prototype=S.default.Event.prototype)},600:function(a,f){function k(u){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},k(u)}Object.defineProperty(f,"__esModule",{value:!0}),f.default=function u(){var y,S,M,j,T,C,O=arguments[0]||{},x=1,h=arguments.length,d=!1;for(typeof O=="boolean"&&(d=O,O=arguments[x]||{},x++),k(O)!=="object"&&typeof O!="function"&&(O={});x<h;x++)if((y=arguments[x])!=null)for(S in y)M=O[S],O!==(j=y[S])&&(d&&j&&(Object.prototype.toString.call(j)==="[object Object]"||(T=Array.isArray(j)))?(T?(T=!1,C=M&&Array.isArray(M)?M:[]):C=M&&Object.prototype.toString.call(M)==="[object Object]"?M:{},O[S]=u(d,C,j)):j!==void 0&&(O[S]=j));return O}},4963:function(a,f,k){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var u=j(k(600)),y=j(k(9380)),S=j(k(253)),M=k(3776);function j(x){return x&&x.__esModule?x:{default:x}}var T=y.default.document;function C(x){return x instanceof C?x:this instanceof C?void(x!=null&&x!==y.default&&(this[0]=x.nodeName?x:x[0]!==void 0&&x[0].nodeName?x[0]:T.querySelector(x),this[0]!==void 0&&this[0]!==null&&(this[0].eventRegistry=this[0].eventRegistry||{}))):new C(x)}C.prototype={on:M.on,off:M.off,trigger:M.trigger},C.extend=u.default,C.data=S.default,C.Event=M.Event;var O=C;f.default=O},9845:function(a,f,k){Object.defineProperty(f,"__esModule",{value:!0}),f.mobile=f.iphone=f.ie=void 0;var u,y=(u=k(9380))&&u.__esModule?u:{default:u},S=y.default.navigator&&y.default.navigator.userAgent||"",M=S.indexOf("MSIE ")>0||S.indexOf("Trident/")>0,j=navigator.userAgentData&&navigator.userAgentData.mobile||y.default.navigator&&y.default.navigator.maxTouchPoints||"ontouchstart"in y.default,T=/iphone/i.test(S);f.iphone=T,f.mobile=j,f.ie=M},7184:function(a,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=function(u){return u.replace(k,"\\$1")};var k=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim")},6030:function(a,f,k){Object.defineProperty(f,"__esModule",{value:!0}),f.EventHandlers=void 0;var u=k(8711),y=k(2839),S=k(9845),M=k(7215),j=k(7760),T=k(4713);function C(h,d){var s=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!s){if(Array.isArray(h)||(s=function(g,_){if(g){if(typeof g=="string")return O(g,_);var m=Object.prototype.toString.call(g).slice(8,-1);if(m==="Object"&&g.constructor&&(m=g.constructor.name),m==="Map"||m==="Set")return Array.from(g);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return O(g,_)}}(h))||d&&h&&typeof h.length=="number"){s&&(h=s);var b=0,l=function(){};return{s:l,n:function(){return b>=h.length?{done:!0}:{done:!1,value:h[b++]}},e:function(g){throw g},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r,c=!0,v=!1;return{s:function(){s=s.call(h)},n:function(){var g=s.next();return c=g.done,g},e:function(g){v=!0,r=g},f:function(){try{c||s.return==null||s.return()}finally{if(v)throw r}}}}function O(h,d){(d==null||d>h.length)&&(d=h.length);for(var s=0,b=new Array(d);s<d;s++)b[s]=h[s];return b}var x={keyEvent:function(h,d,s,b,l){var r=this.inputmask,c=r.opts,v=r.dependencyLib,g=r.maskset,_=this,m=v(_),w=h.key,F=u.caret.call(r,_),I=c.onKeyDown.call(this,h,u.getBuffer.call(r),F,c);if(I!==void 0)return I;if(w===y.keys.Backspace||w===y.keys.Delete||S.iphone&&w===y.keys.BACKSPACE_SAFARI||h.ctrlKey&&w===y.keys.x&&!("oncut"in _))h.preventDefault(),M.handleRemove.call(r,_,w,F),(0,j.writeBuffer)(_,u.getBuffer.call(r,!0),g.p,h,_.inputmask._valueGet()!==u.getBuffer.call(r).join(""));else if(w===y.keys.End||w===y.keys.PageDown){h.preventDefault();var L=u.seekNext.call(r,u.getLastValidPosition.call(r));u.caret.call(r,_,h.shiftKey?F.begin:L,L,!0)}else w===y.keys.Home&&!h.shiftKey||w===y.keys.PageUp?(h.preventDefault(),u.caret.call(r,_,0,h.shiftKey?F.begin:0,!0)):c.undoOnEscape&&w===y.keys.Escape&&h.altKey!==!0?((0,j.checkVal)(_,!0,!1,r.undoValue.split("")),m.trigger("click")):w!==y.keys.Insert||h.shiftKey||h.ctrlKey||r.userOptions.insertMode!==void 0?c.tabThrough===!0&&w===y.keys.Tab?h.shiftKey===!0?(F.end=u.seekPrevious.call(r,F.end,!0),T.getTest.call(r,F.end-1).match.static===!0&&F.end--,F.begin=u.seekPrevious.call(r,F.end,!0),F.begin>=0&&F.end>0&&(h.preventDefault(),u.caret.call(r,_,F.begin,F.end))):(F.begin=u.seekNext.call(r,F.begin,!0),F.end=u.seekNext.call(r,F.begin,!0),F.end<g.maskLength&&F.end--,F.begin<=g.maskLength&&(h.preventDefault(),u.caret.call(r,_,F.begin,F.end))):h.shiftKey||c.insertModeVisual&&c.insertMode===!1&&(w===y.keys.ArrowRight?setTimeout(function(){var A=u.caret.call(r,_);u.caret.call(r,_,A.begin)},0):w===y.keys.ArrowLeft&&setTimeout(function(){var A=u.translatePosition.call(r,_.inputmask.caretPos.begin);u.translatePosition.call(r,_.inputmask.caretPos.end),r.isRTL?u.caret.call(r,_,A+(A===g.maskLength?0:1)):u.caret.call(r,_,A-(A===0?0:1))},0)):M.isSelection.call(r,F)?c.insertMode=!c.insertMode:(c.insertMode=!c.insertMode,u.caret.call(r,_,F.begin,F.begin));return r.isComposing=w==y.keys.Process||w==y.keys.Unidentified,r.ignorable=c.ignorables.includes(w),x.keypressEvent.call(this,h,d,s,b,l)},keypressEvent:function(h,d,s,b,l){var r=this.inputmask||this,c=r.opts,v=r.dependencyLib,g=r.maskset,_=r.el,m=v(_),w=h.key;if(d===!0||h.ctrlKey&&h.altKey||!(h.ctrlKey||h.metaKey||r.ignorable)){if(w){var F,I=d?{begin:l,end:l}:u.caret.call(r,_);w=c.substitutes[w]||w,g.writeOutBuffer=!0;var L=M.isValid.call(r,I,w,b,void 0,void 0,void 0,d);if(L!==!1&&(u.resetMaskSet.call(r,!0),F=L.caret!==void 0?L.caret:u.seekNext.call(r,L.pos.begin?L.pos.begin:L.pos),g.p=F),F=c.numericInput&&L.caret===void 0?u.seekPrevious.call(r,F):F,s!==!1&&(setTimeout(function(){c.onKeyValidation.call(_,w,L)},0),g.writeOutBuffer&&L!==!1)){var A=u.getBuffer.call(r);(0,j.writeBuffer)(_,A,F,h,d!==!0)}if(h.preventDefault(),d)return L!==!1&&(L.forwardPosition=F),L}}else w===y.keys.Enter&&r.undoValue!==r._valueGet(!0)&&(r.undoValue=r._valueGet(!0),setTimeout(function(){m.trigger("change")},0))},pasteEvent:function(h){var d,s=this.inputmask,b=s.opts,l=s._valueGet(!0),r=u.caret.call(s,this);s.isRTL&&(d=r.end,r.end=u.translatePosition.call(s,r.begin),r.begin=u.translatePosition.call(s,d));var c=l.substr(0,r.begin),v=l.substr(r.end,l.length);if(c==(s.isRTL?u.getBufferTemplate.call(s).slice().reverse():u.getBufferTemplate.call(s)).slice(0,r.begin).join("")&&(c=""),v==(s.isRTL?u.getBufferTemplate.call(s).slice().reverse():u.getBufferTemplate.call(s)).slice(r.end).join("")&&(v=""),window.clipboardData&&window.clipboardData.getData)l=c+window.clipboardData.getData("Text")+v;else{if(!h.clipboardData||!h.clipboardData.getData)return!0;l=c+h.clipboardData.getData("text/plain")+v}var g=l;if(s.isRTL){g=g.split("");var _,m=C(u.getBufferTemplate.call(s));try{for(m.s();!(_=m.n()).done;){var w=_.value;g[0]===w&&g.shift()}}catch(F){m.e(F)}finally{m.f()}g=g.join("")}if(typeof b.onBeforePaste=="function"){if((g=b.onBeforePaste.call(s,g,b))===!1)return!1;g||(g=l)}(0,j.checkVal)(this,!0,!1,g.toString().split(""),h),h.preventDefault()},inputFallBackEvent:function(h){var d=this.inputmask,s=d.opts,b=d.dependencyLib,l,r=this,c=r.inputmask._valueGet(!0),v=(d.isRTL?u.getBuffer.call(d).slice().reverse():u.getBuffer.call(d)).join(""),g=u.caret.call(d,r,void 0,void 0,!0);if(v!==c){if(l=function(m,w,F){for(var I,L,A,N=m.substr(0,F.begin).split(""),E=m.substr(F.begin).split(""),P=w.substr(0,F.begin).split(""),V=w.substr(F.begin).split(""),D=N.length>=P.length?N.length:P.length,R=E.length>=V.length?E.length:V.length,H="",G=[],q="~";N.length<D;)N.push(q);for(;P.length<D;)P.push(q);for(;E.length<R;)E.unshift(q);for(;V.length<R;)V.unshift(q);var $=N.concat(E),K=P.concat(V);for(L=0,I=$.length;L<I;L++)switch(A=T.getPlaceholder.call(d,u.translatePosition.call(d,L)),H){case"insertText":K[L-1]===$[L]&&F.begin==$.length-1&&G.push($[L]),L=I;break;case"insertReplacementText":case"deleteContentBackward":$[L]===q?F.end++:L=I;break;default:$[L]!==K[L]&&($[L+1]!==q&&$[L+1]!==A&&$[L+1]!==void 0||(K[L]!==A||K[L+1]!==q)&&K[L]!==q?K[L+1]===q&&K[L]===$[L+1]?(H="insertText",G.push($[L]),F.begin--,F.end--):$[L]!==A&&$[L]!==q&&($[L+1]===q||K[L]!==$[L]&&K[L+1]===$[L+1])?(H="insertReplacementText",G.push($[L]),F.begin--):$[L]===q?(H="deleteContentBackward",(u.isMask.call(d,u.translatePosition.call(d,L),!0)||K[L]===s.radixPoint)&&F.end++):L=I:(H="insertText",G.push($[L]),F.begin--,F.end--))}return{action:H,data:G,caret:F}}(c,v,g),(r.inputmask.shadowRoot||r.ownerDocument).activeElement!==r&&r.focus(),(0,j.writeBuffer)(r,u.getBuffer.call(d)),u.caret.call(d,r,g.begin,g.end,!0),!S.mobile&&d.skipNextInsert&&h.inputType==="insertText"&&l.action==="insertText"&&d.isComposing)return!1;switch(h.inputType==="insertCompositionText"&&l.action==="insertText"&&d.isComposing?d.skipNextInsert=!0:d.skipNextInsert=!1,l.action){case"insertText":case"insertReplacementText":l.data.forEach(function(m,w){var F=new b.Event("keypress");F.key=m,d.ignorable=!1,x.keypressEvent.call(r,F)}),setTimeout(function(){d.$el.trigger("keyup")},0);break;case"deleteContentBackward":var _=new b.Event("keydown");_.key=y.keys.Backspace,x.keyEvent.call(r,_);break;default:(0,j.applyInputValue)(r,c),u.caret.call(d,r,g.begin,g.end,!0)}h.preventDefault()}},setValueEvent:function(h){var d=this.inputmask,s=this,b=h&&h.detail?h.detail[0]:arguments[1];b===void 0&&(b=s.inputmask._valueGet(!0)),(0,j.applyInputValue)(s,b),(h.detail&&h.detail[1]!==void 0||arguments[2]!==void 0)&&u.caret.call(d,s,h.detail?h.detail[1]:arguments[2])},focusEvent:function(h){var d=this.inputmask,s=d.opts,b=d==null?void 0:d._valueGet();s.showMaskOnFocus&&b!==u.getBuffer.call(d).join("")&&(0,j.writeBuffer)(this,u.getBuffer.call(d),u.seekNext.call(d,u.getLastValidPosition.call(d))),s.positionCaretOnTab!==!0||d.mouseEnter!==!1||M.isComplete.call(d,u.getBuffer.call(d))&&u.getLastValidPosition.call(d)!==-1||x.clickEvent.apply(this,[h,!0]),d.undoValue=d==null?void 0:d._valueGet(!0)},invalidEvent:function(h){this.inputmask.validationEvent=!0},mouseleaveEvent:function(){var h=this.inputmask,d=h.opts,s=this;h.mouseEnter=!1,d.clearMaskOnLostFocus&&(s.inputmask.shadowRoot||s.ownerDocument).activeElement!==s&&(0,j.HandleNativePlaceholder)(s,h.originalPlaceholder)},clickEvent:function(h,d){var s=this.inputmask;s.clicked++;var b=this;if((b.inputmask.shadowRoot||b.ownerDocument).activeElement===b){var l=u.determineNewCaretPosition.call(s,u.caret.call(s,b),d);l!==void 0&&u.caret.call(s,b,l)}},cutEvent:function(h){var d=this.inputmask,s=d.maskset,b=this,l=u.caret.call(d,b),r=d.isRTL?u.getBuffer.call(d).slice(l.end,l.begin):u.getBuffer.call(d).slice(l.begin,l.end),c=d.isRTL?r.reverse().join(""):r.join("");window.navigator.clipboard?window.navigator.clipboard.writeText(c):window.clipboardData&&window.clipboardData.getData&&window.clipboardData.setData("Text",c),M.handleRemove.call(d,b,y.keys.Delete,l),(0,j.writeBuffer)(b,u.getBuffer.call(d),s.p,h,d.undoValue!==d._valueGet(!0))},blurEvent:function(h){var d=this.inputmask,s=d.opts,b=d.dependencyLib;d.clicked=0;var l=b(this),r=this;if(r.inputmask){(0,j.HandleNativePlaceholder)(r,d.originalPlaceholder);var c=r.inputmask._valueGet(),v=u.getBuffer.call(d).slice();c!==""&&(s.clearMaskOnLostFocus&&(u.getLastValidPosition.call(d)===-1&&c===u.getBufferTemplate.call(d).join("")?v=[]:j.clearOptionalTail.call(d,v)),M.isComplete.call(d,v)===!1&&(setTimeout(function(){l.trigger("incomplete")},0),s.clearIncomplete&&(u.resetMaskSet.call(d),v=s.clearMaskOnLostFocus?[]:u.getBufferTemplate.call(d).slice())),(0,j.writeBuffer)(r,v,void 0,h)),d.undoValue!==d._valueGet(!0)&&(d.undoValue=d._valueGet(!0),l.trigger("change"))}},mouseenterEvent:function(){var h=this.inputmask,d=h.opts.showMaskOnHover,s=this;if(h.mouseEnter=!0,(s.inputmask.shadowRoot||s.ownerDocument).activeElement!==s){var b=(h.isRTL?u.getBufferTemplate.call(h).slice().reverse():u.getBufferTemplate.call(h)).join("");d&&(0,j.HandleNativePlaceholder)(s,b)}},submitEvent:function(){var h=this.inputmask,d=h.opts;h.undoValue!==h._valueGet(!0)&&h.$el.trigger("change"),u.getLastValidPosition.call(h)===-1&&h._valueGet&&h._valueGet()===u.getBufferTemplate.call(h).join("")&&h._valueSet(""),d.clearIncomplete&&M.isComplete.call(h,u.getBuffer.call(h))===!1&&h._valueSet(""),d.removeMaskOnSubmit&&(h._valueSet(h.unmaskedvalue(),!0),setTimeout(function(){(0,j.writeBuffer)(h.el,u.getBuffer.call(h))},0))},resetEvent:function(){var h=this.inputmask;h.refreshValue=!0,setTimeout(function(){(0,j.applyInputValue)(h.el,h._valueGet(!0))},0)}};f.EventHandlers=x},9716:function(a,f,k){Object.defineProperty(f,"__esModule",{value:!0}),f.EventRuler=void 0;var u,y=(u=k(2394))&&u.__esModule?u:{default:u},S=k(2839),M=k(8711),j=k(7760),T={on:function(C,O,x){var h=C.inputmask.dependencyLib,d=function(s){s.originalEvent&&(s=s.originalEvent||s,arguments[0]=s);var b,l=this,r=l.inputmask,c=r?r.opts:void 0;if(r===void 0&&this.nodeName!=="FORM"){var v=h.data(l,"_inputmask_opts");h(l).off(),v&&new y.default(v).mask(l)}else{if(["submit","reset","setvalue"].includes(s.type)||this.nodeName==="FORM"||!(l.disabled||l.readOnly&&!(s.type==="keydown"&&s.ctrlKey&&s.key===S.keys.c||c.tabThrough===!1&&s.key===S.keys.Tab))){switch(s.type){case"input":if(r.skipInputEvent===!0)return r.skipInputEvent=!1,s.preventDefault();break;case"click":case"focus":return r.validationEvent?(r.validationEvent=!1,C.blur(),(0,j.HandleNativePlaceholder)(C,(r.isRTL?M.getBufferTemplate.call(r).slice().reverse():M.getBufferTemplate.call(r)).join("")),setTimeout(function(){C.focus()},c.validationEventTimeOut),!1):(b=arguments,void setTimeout(function(){C.inputmask&&x.apply(l,b)},0))}var g=x.apply(l,arguments);return g===!1&&(s.preventDefault(),s.stopPropagation()),g}s.preventDefault()}};["submit","reset"].includes(O)?(d=d.bind(C),C.form!==null&&h(C.form).on(O,d)):h(C).on(O,d),C.inputmask.events[O]=C.inputmask.events[O]||[],C.inputmask.events[O].push(d)},off:function(C,O){if(C.inputmask&&C.inputmask.events){var x=C.inputmask.dependencyLib,h=C.inputmask.events;for(var d in O&&((h=[])[O]=C.inputmask.events[O]),h){for(var s=h[d];s.length>0;){var b=s.pop();["submit","reset"].includes(d)?C.form!==null&&x(C.form).off(d,b):x(C).off(d,b)}delete C.inputmask.events[d]}}}};f.EventRuler=T},219:function(a,f,k){var u=h(k(2394)),y=k(2839),S=h(k(7184)),M=k(8711),j=k(4713);function T(E,P){return function(V){if(Array.isArray(V))return V}(E)||function(V,D){var R=V==null?null:typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(R!=null){var H,G,q,$,K=[],z=!0,Q=!1;try{if(q=(R=R.call(V)).next,D===0){if(Object(R)!==R)return;z=!1}else for(;!(z=(H=q.call(R)).done)&&(K.push(H.value),K.length!==D);z=!0);}catch(B){Q=!0,G=B}finally{try{if(!z&&R.return!=null&&($=R.return(),Object($)!==$))return}finally{if(Q)throw G}}return K}}(E,P)||function(V,D){if(V){if(typeof V=="string")return C(V,D);var R=Object.prototype.toString.call(V).slice(8,-1);if(R==="Object"&&V.constructor&&(R=V.constructor.name),R==="Map"||R==="Set")return Array.from(V);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return C(V,D)}}(E,P)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function C(E,P){(P==null||P>E.length)&&(P=E.length);for(var V=0,D=new Array(P);V<P;V++)D[V]=E[V];return D}function O(E){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},O(E)}function x(E,P){for(var V=0;V<P.length;V++){var D=P[V];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(E,(R=D.key,H=void 0,H=function(G,q){if(O(G)!=="object"||G===null)return G;var $=G[Symbol.toPrimitive];if($!==void 0){var K=$.call(G,q||"default");if(O(K)!=="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)(G)}(R,"string"),O(H)==="symbol"?H:String(H)),D)}var R,H}function h(E){return E&&E.__esModule?E:{default:E}}var d=u.default.dependencyLib,s=function(){function E(D,R,H){(function(G,q){if(!(G instanceof q))throw new TypeError("Cannot call a class as a function")})(this,E),this.mask=D,this.format=R,this.opts=H,this._date=new Date(1,0,1),this.initDateObject(D,this.opts)}var P,V;return P=E,(V=[{key:"date",get:function(){return this._date===void 0&&(this._date=new Date(1,0,1),this.initDateObject(void 0,this.opts)),this._date}},{key:"initDateObject",value:function(D,R){var H;for(m(R).lastIndex=0;H=m(R).exec(this.format);){var G=new RegExp("\\d+$").exec(H[0]),q=G?H[0][0]+"x":H[0],$=void 0;if(D!==void 0){if(G){var K=m(R).lastIndex,z=N(H.index,R);m(R).lastIndex=K,$=D.slice(0,D.indexOf(z.nextMatch[0]))}else $=D.slice(0,r[q]&&r[q][4]||q.length);D=D.slice($.length)}Object.prototype.hasOwnProperty.call(r,q)&&this.setValue(this,$,q,r[q][2],r[q][1])}}},{key:"setValue",value:function(D,R,H,G,q){if(R!==void 0&&(D[G]=G==="ampm"?R:R.replace(/[^0-9]/g,"0"),D["raw"+G]=R.replace(/\s/g,"_")),q!==void 0){var $=D[G];(G==="day"&&parseInt($)===29||G==="month"&&parseInt($)===2)&&(parseInt(D.day)!==29||parseInt(D.month)!==2||D.year!==""&&D.year!==void 0||D._date.setFullYear(2012,1,29)),G==="day"&&(l=!0,parseInt($)===0&&($=1)),G==="month"&&(l=!0),G==="year"&&(l=!0,$.length<4&&($=I($,4,!0))),$===""||isNaN($)||q.call(D._date,$),G==="ampm"&&q.call(D._date,$)}}},{key:"reset",value:function(){this._date=new Date(1,0,1)}},{key:"reInit",value:function(){this._date=void 0,this.date}}])&&x(P.prototype,V),Object.defineProperty(P,"prototype",{writable:!1}),E}(),b=new Date().getFullYear(),l=!1,r={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return I(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",function(E){var P=E?parseInt(E):0;return P>0&&P--,Date.prototype.setMonth.call(this,P)},"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",function(E){var P=E?parseInt(E):0;return P>0&&P--,Date.prototype.setMonth.call(this,P)},"month",function(){return I(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return I(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return I(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return I(Date.prototype.getHours.call(this),2)}],hx:[function(E){return"[0-9]{".concat(E,"}")},Date.prototype.setHours,"hours",function(E){return Date.prototype.getHours}],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return I(Date.prototype.getHours.call(this),2)}],Hx:[function(E){return"[0-9]{".concat(E,"}")},Date.prototype.setHours,"hours",function(E){return function(){return I(Date.prototype.getHours.call(this),E)}}],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return I(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setSeconds,"seconds",function(){return I(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return I(Date.prototype.getMilliseconds.call(this),3)},3],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return I(Date.prototype.getMilliseconds.call(this),2)},2],t:["[ap]",v,"ampm",g,1],tt:["[ap]m",v,"ampm",g,2],T:["[AP]",v,"ampm",g,1],TT:["[AP]M",v,"ampm",g,2],Z:[".*",void 0,"Z",function(){var E=this.toString().match(/\((.+)\)/)[1];return E.includes(" ")&&(E=(E=E.replace("-"," ").toUpperCase()).split(" ").map(function(P){return T(P,1)[0]}).join("")),E}],o:[""],S:[""]},c={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function v(E){var P=this.getHours();E.toLowerCase().includes("p")?this.setHours(P+12):E.toLowerCase().includes("a")&&P>=12&&this.setHours(P-12)}function g(){var E=this.getHours();return(E=E||12)>=12?"PM":"AM"}function _(E){var P=new RegExp("\\d+$").exec(E[0]);if(P&&P[0]!==void 0){var V=r[E[0][0]+"x"].slice("");return V[0]=V[0](P[0]),V[3]=V[3](P[0]),V}if(r[E[0]])return r[E[0]]}function m(E){if(!E.tokenizer){var P=[],V=[];for(var D in r)if(/\.*x$/.test(D)){var R=D[0]+"\\d+";V.indexOf(R)===-1&&V.push(R)}else P.indexOf(D[0])===-1&&P.push(D[0]);E.tokenizer="("+(V.length>0?V.join("|")+"|":"")+P.join("+|")+")+?|.",E.tokenizer=new RegExp(E.tokenizer,"g")}return E.tokenizer}function w(E,P,V){if(!l)return!0;if(E.rawday===void 0||!isFinite(E.rawday)&&new Date(E.date.getFullYear(),isFinite(E.rawmonth)?E.month:E.date.getMonth()+1,0).getDate()>=E.day||E.day=="29"&&(!isFinite(E.rawyear)||E.rawyear===void 0||E.rawyear==="")||new Date(E.date.getFullYear(),isFinite(E.rawmonth)?E.month:E.date.getMonth()+1,0).getDate()>=E.day)return P;if(E.day=="29"){var D=N(P.pos,V);if(D.targetMatch[0]==="yyyy"&&P.pos-D.targetMatchIndex==2)return P.remove=P.pos+1,P}else if(E.month=="02"&&E.day=="30"&&P.c!==void 0)return E.day="03",E.date.setDate(3),E.date.setMonth(1),P.insert=[{pos:P.pos,c:"0"},{pos:P.pos+1,c:P.c}],P.caret=M.seekNext.call(this,P.pos+1),P;return!1}function F(E,P,V,D){var R,H,G="";for(m(V).lastIndex=0;R=m(V).exec(E);)if(P===void 0)if(H=_(R))G+="("+H[0]+")";else switch(R[0]){case"[":G+="(";break;case"]":G+=")?";break;default:G+=(0,S.default)(R[0])}else(H=_(R))?D!==!0&&H[3]?G+=H[3].call(P.date):H[2]?G+=P["raw"+H[2]]:G+=R[0]:G+=R[0];return G}function I(E,P,V){for(E=String(E),P=P||2;E.length<P;)E=V?E+"0":"0"+E;return E}function L(E,P,V){return typeof E=="string"?new s(E,P,V):E&&O(E)==="object"&&Object.prototype.hasOwnProperty.call(E,"date")?E:void 0}function A(E,P){return F(P.inputFormat,{date:E},P)}function N(E,P){var V,D,R=0,H=0;for(m(P).lastIndex=0;D=m(P).exec(P.inputFormat);){var G=new RegExp("\\d+$").exec(D[0]);if((R+=H=G?parseInt(G[0]):D[0].length)>=E+1){V=D,D=m(P).exec(P.inputFormat);break}}return{targetMatchIndex:R-H,nextMatch:D,targetMatch:V}}u.default.extendAliases({datetime:{mask:function(E){return E.numericInput=!1,r.S=E.i18n.ordinalSuffix.join("|"),E.inputFormat=c[E.inputFormat]||E.inputFormat,E.displayFormat=c[E.displayFormat]||E.displayFormat||E.inputFormat,E.outputFormat=c[E.outputFormat]||E.outputFormat||E.inputFormat,E.placeholder=E.placeholder!==""?E.placeholder:E.inputFormat.replace(/[[\]]/,""),E.regex=F(E.inputFormat,void 0,E),E.min=L(E.min,E.inputFormat,E),E.max=L(E.max,E.inputFormat,E),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:null,outputFormat:null,min:null,max:null,skipOptionalPartCharacter:"",i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},preValidation:function(E,P,V,D,R,H,G,q){if(q)return!0;if(isNaN(V)&&E[P]!==V){var $=N(P,R);if($.nextMatch&&$.nextMatch[0]===V&&$.targetMatch[0].length>1){var K=r[$.targetMatch[0]][0];if(new RegExp(K).test("0"+E[P-1]))return E[P]=E[P-1],E[P-1]="0",{fuzzy:!0,buffer:E,refreshFromBuffer:{start:P-1,end:P+1},pos:P+1}}}return!0},postValidation:function(E,P,V,D,R,H,G,q){var $,K;if(G)return!0;if(D===!1&&((($=N(P+1,R)).targetMatch&&$.targetMatchIndex===P&&$.targetMatch[0].length>1&&r[$.targetMatch[0]]!==void 0||($=N(P+2,R)).targetMatch&&$.targetMatchIndex===P+1&&$.targetMatch[0].length>1&&r[$.targetMatch[0]]!==void 0)&&(K=r[$.targetMatch[0]][0]),K!==void 0&&(H.validPositions[P+1]!==void 0&&new RegExp(K).test(V+"0")?(E[P]=V,E[P+1]="0",D={pos:P+2,caret:P}):new RegExp(K).test("0"+V)&&(E[P]="0",E[P+1]=V,D={pos:P+2})),D===!1))return D;if(D.fuzzy&&(E=D.buffer,P=D.pos),($=N(P,R)).targetMatch&&$.targetMatch[0]&&r[$.targetMatch[0]]!==void 0){var z=r[$.targetMatch[0]];K=z[0];var Q=E.slice($.targetMatchIndex,$.targetMatchIndex+$.targetMatch[0].length);if(new RegExp(K).test(Q.join(""))===!1&&$.targetMatch[0].length===2&&H.validPositions[$.targetMatchIndex]&&H.validPositions[$.targetMatchIndex+1]&&(H.validPositions[$.targetMatchIndex+1].input="0"),z[2]=="year")for(var B=j.getMaskTemplate.call(this,!1,1,void 0,!0),U=P+1;U<E.length;U++)E[U]=B[U],delete H.validPositions[U]}var W=D,le=L(E.join(""),R.inputFormat,R);return W&&!isNaN(le.date.getTime())&&(R.prefillYear&&(W=function(Y,ie,ce){if(Y.year!==Y.rawyear){var Z=b.toString(),ee=Y.rawyear.replace(/[^0-9]/g,""),J=Z.slice(0,ee.length),X=Z.slice(ee.length);if(ee.length===2&&ee===J){var re=new Date(b,Y.month-1,Y.day);Y.day==re.getDate()&&(!ce.max||ce.max.date.getTime()>=re.getTime())&&(Y.date.setFullYear(b),Y.year=Z,ie.insert=[{pos:ie.pos+1,c:X[0]},{pos:ie.pos+2,c:X[1]}])}}return ie}(le,W,R)),W=function(Y,ie,ce,Z,ee){if(!ie)return ie;if(ie&&ce.min&&!isNaN(ce.min.date.getTime())){var J;for(Y.reset(),m(ce).lastIndex=0;J=m(ce).exec(ce.inputFormat);){var X;if((X=_(J))&&X[3]){for(var re=X[1],ve=Y[X[2]],ue=ce.min[X[2]],Ce=ce.max?ce.max[X[2]]:ue,fe=[],he=!1,me=0;me<ue.length;me++)Z.validPositions[me+J.index]!==void 0||he?(fe[me]=ve[me],he=he||ve[me]>ue[me]):(fe[me]=ue[me],X[2]==="year"&&ve.length-1==me&&ue!=Ce&&(fe=(parseInt(fe.join(""))+1).toString().split("")),X[2]==="ampm"&&ue!=Ce&&ce.min.date.getTime()>Y.date.getTime()&&(fe[me]=Ce[me]));re.call(Y._date,fe.join(""))}}ie=ce.min.date.getTime()<=Y.date.getTime(),Y.reInit()}return ie&&ce.max&&(isNaN(ce.max.date.getTime())||(ie=ce.max.date.getTime()>=Y.date.getTime())),ie}(le,W=w.call(this,le,W,R),R,H)),P!==void 0&&W&&D.pos!==P?{buffer:F(R.inputFormat,le,R).split(""),refreshFromBuffer:{start:P,end:D.pos},pos:D.caret||D.pos}:W},onKeyDown:function(E,P,V,D){E.ctrlKey&&E.key===y.keys.ArrowRight&&(this.inputmask._valueSet(A(new Date,D)),d(this).trigger("setvalue"))},onUnMask:function(E,P,V){return P&&F(V.outputFormat,L(E,V.inputFormat,V),V,!0)},casing:function(E,P,V,D){return P.nativeDef.indexOf("[ap]")==0?E.toLowerCase():P.nativeDef.indexOf("[AP]")==0?E.toUpperCase():E},onBeforeMask:function(E,P){return Object.prototype.toString.call(E)==="[object Date]"&&(E=A(E,P)),E},insertMode:!1,insertModeVisual:!1,shiftPositions:!1,keepStatic:!1,inputmode:"numeric",prefillYear:!0}})},3851:function(a,f,k){var u,y=(u=k(2394))&&u.__esModule?u:{default:u},S=k(8711),M=k(4713);y.default.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}});var j=new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]");function T(C,O,x,h,d){return x-1>-1&&O.buffer[x-1]!=="."?(C=O.buffer[x-1]+C,C=x-2>-1&&O.buffer[x-2]!=="."?O.buffer[x-2]+C:"0"+C):C="00"+C,j.test(C)}y.default.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)://.*",autoUnmask:!1,keepStatic:!1,tabThrough:!0},ip:{mask:"i{1,3}.j{1,3}.k{1,3}.l{1,3}",definitions:{i:{validator:T},j:{validator:T},k:{validator:T},l:{validator:T}},onUnMask:function(C,O,x){return C},inputmode:"decimal",substitutes:{",":"."}},email:{mask:function(C){var O=C.separator,x=C.quantifier,h="*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",d=h;if(O)for(var s=0;s<x;s++)d+="[".concat(O).concat(h,"]");return d},greedy:!1,casing:"lower",separator:null,quantifier:5,skipOptionalPartCharacter:"",onBeforePaste:function(C,O){return(C=C.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(C,O,x){return C},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0},ssn:{mask:"999-99-9999",postValidation:function(C,O,x,h,d,s,b){var l=M.getMaskTemplate.call(this,!0,S.getLastValidPosition.call(this),!0,!0);return/^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(l.join(""))}}})},207:function(a,f,k){var u=j(k(2394)),y=j(k(7184)),S=k(8711),M=k(2839);function j(s){return s&&s.__esModule?s:{default:s}}var T=u.default.dependencyLib;function C(s,b){for(var l="",r=0;r<s.length;r++)u.default.prototype.definitions[s.charAt(r)]||b.definitions[s.charAt(r)]||b.optionalmarker[0]===s.charAt(r)||b.optionalmarker[1]===s.charAt(r)||b.quantifiermarker[0]===s.charAt(r)||b.quantifiermarker[1]===s.charAt(r)||b.groupmarker[0]===s.charAt(r)||b.groupmarker[1]===s.charAt(r)||b.alternatormarker===s.charAt(r)?l+="\\"+s.charAt(r):l+=s.charAt(r);return l}function O(s,b,l,r){if(s.length>0&&b>0&&(!l.digitsOptional||r)){var c=s.indexOf(l.radixPoint),v=!1;l.negationSymbol.back===s[s.length-1]&&(v=!0,s.length--),c===-1&&(s.push(l.radixPoint),c=s.length-1);for(var g=1;g<=b;g++)isFinite(s[c+g])||(s[c+g]="0")}return v&&s.push(l.negationSymbol.back),s}function x(s,b){var l=0;for(var r in s==="+"&&(l=S.seekNext.call(this,b.validPositions.length-1)),b.tests)if((r=parseInt(r))>=l){for(var c=0,v=b.tests[r].length;c<v;c++)if((b.validPositions[r]===void 0||s==="-")&&b.tests[r][c].match.def===s)return r+(b.validPositions[r]!==void 0&&s!=="-"?1:0)}return l}function h(s,b){for(var l=-1,r=0,c=b.validPositions.length;r<c;r++){var v=b.validPositions[r];if(v&&v.match.def===s){l=r;break}}return l}function d(s,b,l,r,c){var v=b.buffer?b.buffer.indexOf(c.radixPoint):-1,g=(v!==-1||r&&c.jitMasking)&&new RegExp(c.definitions[9].validator).test(s);return c._radixDance&&v!==-1&&g&&b.validPositions[v]==null?{insert:{pos:v===l?v+1:v,c:c.radixPoint},pos:l}:g}u.default.extendAliases({numeric:{mask:function(s){s.repeat=0,s.groupSeparator===s.radixPoint&&s.digits&&s.digits!=="0"&&(s.radixPoint==="."?s.groupSeparator=",":s.radixPoint===","?s.groupSeparator=".":s.groupSeparator=""),s.groupSeparator===" "&&(s.skipOptionalPartCharacter=void 0),s.placeholder.length>1&&(s.placeholder=s.placeholder.charAt(0)),s.positionCaretOnClick==="radixFocus"&&s.placeholder===""&&(s.positionCaretOnClick="lvp");var b="0",l=s.radixPoint;s.numericInput===!0&&s.__financeInput===void 0?(b="1",s.positionCaretOnClick=s.positionCaretOnClick==="radixFocus"?"lvp":s.positionCaretOnClick,s.digitsOptional=!1,isNaN(s.digits)&&(s.digits=2),s._radixDance=!1,l=s.radixPoint===","?"?":"!",s.radixPoint!==""&&s.definitions[l]===void 0&&(s.definitions[l]={},s.definitions[l].validator="["+s.radixPoint+"]",s.definitions[l].placeholder=s.radixPoint,s.definitions[l].static=!0,s.definitions[l].generated=!0)):(s.__financeInput=!1,s.numericInput=!0);var r,c="[+]";if(c+=C(s.prefix,s),s.groupSeparator!==""?(s.definitions[s.groupSeparator]===void 0&&(s.definitions[s.groupSeparator]={},s.definitions[s.groupSeparator].validator="["+s.groupSeparator+"]",s.definitions[s.groupSeparator].placeholder=s.groupSeparator,s.definitions[s.groupSeparator].static=!0,s.definitions[s.groupSeparator].generated=!0),c+=s._mask(s)):c+="9{+}",s.digits!==void 0&&s.digits!==0){var v=s.digits.toString().split(",");isFinite(v[0])&&v[1]&&isFinite(v[1])?c+=l+b+"{"+s.digits+"}":(isNaN(s.digits)||parseInt(s.digits)>0)&&(s.digitsOptional||s.jitMasking?(r=c+l+b+"{0,"+s.digits+"}",s.keepStatic=!0):c+=l+b+"{"+s.digits+"}")}else s.inputmode="numeric";return c+=C(s.suffix,s),c+="[-]",r&&(c=[r+C(s.suffix,s)+"[-]",c]),s.greedy=!1,function(g){g.parseMinMaxOptions===void 0&&(g.min!==null&&(g.min=g.min.toString().replace(new RegExp((0,y.default)(g.groupSeparator),"g"),""),g.radixPoint===","&&(g.min=g.min.replace(g.radixPoint,".")),g.min=isFinite(g.min)?parseFloat(g.min):NaN,isNaN(g.min)&&(g.min=Number.MIN_VALUE)),g.max!==null&&(g.max=g.max.toString().replace(new RegExp((0,y.default)(g.groupSeparator),"g"),""),g.radixPoint===","&&(g.max=g.max.replace(g.radixPoint,".")),g.max=isFinite(g.max)?parseFloat(g.max):NaN,isNaN(g.max)&&(g.max=Number.MAX_VALUE)),g.parseMinMaxOptions="done")}(s),s.radixPoint!==""&&s.substituteRadixPoint&&(s.substitutes[s.radixPoint=="."?",":"."]=s.radixPoint),c},_mask:function(s){return"("+s.groupSeparator+"999){+|1}"},digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",_radixDance:!0,groupSeparator:"",allowMinus:!0,negationSymbol:{front:"-",back:""},prefix:"",suffix:"",min:null,max:null,SetMaxOnOverflow:!1,step:1,inputType:"text",unmaskAsNumber:!1,roundingFN:Math.round,inputmode:"decimal",shortcuts:{k:"1000",m:"1000000"},placeholder:"0",greedy:!1,rightAlign:!0,insertMode:!0,autoUnmask:!1,skipOptionalPartCharacter:"",usePrototypeDefinitions:!1,stripLeadingZeroes:!0,substituteRadixPoint:!0,definitions:{0:{validator:d},1:{validator:d,definitionSymbol:"9"},9:{validator:"[0-9０-９٠-٩۰-۹]",definitionSymbol:"*"},"+":{validator:function(s,b,l,r,c){return c.allowMinus&&(s==="-"||s===c.negationSymbol.front)}},"-":{validator:function(s,b,l,r,c){return c.allowMinus&&s===c.negationSymbol.back}}},preValidation:function(s,b,l,r,c,v,g,_){if(c.__financeInput!==!1&&l===c.radixPoint)return!1;var m=s.indexOf(c.radixPoint),w=b;if(b=function(A,N,E,P,V){return V._radixDance&&V.numericInput&&N!==V.negationSymbol.back&&A<=E&&(E>0||N==V.radixPoint)&&(P.validPositions[A-1]===void 0||P.validPositions[A-1].input!==V.negationSymbol.back)&&(A-=1),A}(b,l,m,v,c),l==="-"||l===c.negationSymbol.front){if(c.allowMinus!==!0)return!1;var F=!1,I=h("+",v),L=h("-",v);return I!==-1&&(F=[I,L]),F!==!1?{remove:F,caret:w-c.negationSymbol.back.length}:{insert:[{pos:x.call(this,"+",v),c:c.negationSymbol.front,fromIsValid:!0},{pos:x.call(this,"-",v),c:c.negationSymbol.back,fromIsValid:void 0}],caret:w+c.negationSymbol.back.length}}if(l===c.groupSeparator)return{caret:w};if(_)return!0;if(m!==-1&&c._radixDance===!0&&r===!1&&l===c.radixPoint&&c.digits!==void 0&&(isNaN(c.digits)||parseInt(c.digits)>0)&&m!==b)return{caret:c._radixDance&&b===m-1?m+1:m};if(c.__financeInput===!1){if(r){if(c.digitsOptional)return{rewritePosition:g.end};if(!c.digitsOptional){if(g.begin>m&&g.end<=m)return l===c.radixPoint?{insert:{pos:m+1,c:"0",fromIsValid:!0},rewritePosition:m}:{rewritePosition:m+1};if(g.begin<m)return{rewritePosition:g.begin-1}}}else if(!c.showMaskOnHover&&!c.showMaskOnFocus&&!c.digitsOptional&&c.digits>0&&this.__valueGet.call(this.el)==="")return{rewritePosition:m}}return{rewritePosition:b}},postValidation:function(s,b,l,r,c,v,g){if(r===!1)return r;if(g)return!0;if(c.min!==null||c.max!==null){var _=c.onUnMask(s.slice().reverse().join(""),void 0,T.extend({},c,{unmaskAsNumber:!0}));if(c.min!==null&&_<c.min&&(_.toString().length>c.min.toString().length||_<0))return!1;if(c.max!==null&&_>c.max)return!!c.SetMaxOnOverflow&&{refreshFromBuffer:!0,buffer:O(c.max.toString().replace(".",c.radixPoint).split(""),c.digits,c).reverse()}}return r},onUnMask:function(s,b,l){if(b===""&&l.nullable===!0)return b;var r=s.replace(l.prefix,"");return r=(r=r.replace(l.suffix,"")).replace(new RegExp((0,y.default)(l.groupSeparator),"g"),""),l.placeholder.charAt(0)!==""&&(r=r.replace(new RegExp(l.placeholder.charAt(0),"g"),"0")),l.unmaskAsNumber?(l.radixPoint!==""&&r.indexOf(l.radixPoint)!==-1&&(r=r.replace(y.default.call(this,l.radixPoint),".")),r=(r=r.replace(new RegExp("^"+(0,y.default)(l.negationSymbol.front)),"-")).replace(new RegExp((0,y.default)(l.negationSymbol.back)+"$"),""),Number(r)):r},isComplete:function(s,b){var l=(b.numericInput?s.slice().reverse():s).join("");return l=(l=(l=(l=(l=l.replace(new RegExp("^"+(0,y.default)(b.negationSymbol.front)),"-")).replace(new RegExp((0,y.default)(b.negationSymbol.back)+"$"),"")).replace(b.prefix,"")).replace(b.suffix,"")).replace(new RegExp((0,y.default)(b.groupSeparator)+"([0-9]{3})","g"),"$1"),b.radixPoint===","&&(l=l.replace((0,y.default)(b.radixPoint),".")),isFinite(l)},onBeforeMask:function(s,b){var l=b.radixPoint||",";isFinite(b.digits)&&(b.digits=parseInt(b.digits)),typeof s!="number"&&b.inputType!=="number"||l===""||(s=s.toString().replace(".",l));var r=s.charAt(0)==="-"||s.charAt(0)===b.negationSymbol.front,c=s.split(l),v=c[0].replace(/[^\-0-9]/g,""),g=c.length>1?c[1].replace(/[^0-9]/g,""):"",_=c.length>1;s=v+(g!==""?l+g:g);var m=0;if(l!==""&&(m=b.digitsOptional?b.digits<g.length?b.digits:g.length:b.digits,g!==""||!b.digitsOptional)){var w=Math.pow(10,m||1);s=s.replace((0,y.default)(l),"."),isNaN(parseFloat(s))||(s=(b.roundingFN(parseFloat(s)*w)/w).toFixed(m)),s=s.toString().replace(".",l)}if(b.digits===0&&s.indexOf(l)!==-1&&(s=s.substring(0,s.indexOf(l))),b.min!==null||b.max!==null){var F=s.toString().replace(l,".");b.min!==null&&F<b.min?s=b.min.toString().replace(".",l):b.max!==null&&F>b.max&&(s=b.max.toString().replace(".",l))}return r&&s.charAt(0)!=="-"&&(s="-"+s),O(s.toString().split(""),m,b,_).join("")},onBeforeWrite:function(s,b,l,r){function c(A,N){if(r.__financeInput!==!1||N){var E=A.indexOf(r.radixPoint);E!==-1&&A.splice(E,1)}if(r.groupSeparator!=="")for(;(E=A.indexOf(r.groupSeparator))!==-1;)A.splice(E,1);return A}var v,g;if(r.stripLeadingZeroes&&(g=function(A,N){var E=new RegExp("(^"+(N.negationSymbol.front!==""?(0,y.default)(N.negationSymbol.front)+"?":"")+(0,y.default)(N.prefix)+")(.*)("+(0,y.default)(N.suffix)+(N.negationSymbol.back!=""?(0,y.default)(N.negationSymbol.back)+"?":"")+"$)").exec(A.slice().reverse().join("")),P=E?E[2]:"",V=!1;return P&&(P=P.split(N.radixPoint.charAt(0))[0],V=new RegExp("^[0"+N.groupSeparator+"]*").exec(P)),!(!V||!(V[0].length>1||V[0].length>0&&V[0].length<P.length))&&V}(b,r)))for(var _=b.join("").lastIndexOf(g[0].split("").reverse().join(""))-(g[0]==g.input?0:1),m=g[0]==g.input?1:0,w=g[0].length-m;w>0;w--)delete this.maskset.validPositions[_+w],delete b[_+w];if(s)switch(s.type){case"blur":case"checkval":if(r.min!==null){var F=r.onUnMask(b.slice().reverse().join(""),void 0,T.extend({},r,{unmaskAsNumber:!0}));if(r.min!==null&&F<r.min)return{refreshFromBuffer:!0,buffer:O(r.min.toString().replace(".",r.radixPoint).split(""),r.digits,r).reverse()}}if(b[b.length-1]===r.negationSymbol.front){var I=new RegExp("(^"+(r.negationSymbol.front!=""?(0,y.default)(r.negationSymbol.front)+"?":"")+(0,y.default)(r.prefix)+")(.*)("+(0,y.default)(r.suffix)+(r.negationSymbol.back!=""?(0,y.default)(r.negationSymbol.back)+"?":"")+"$)").exec(c(b.slice(),!0).reverse().join(""));(I?I[2]:"")==0&&(v={refreshFromBuffer:!0,buffer:[0]})}else r.radixPoint!==""&&b.indexOf(r.radixPoint)===r.suffix.length&&(v&&v.buffer?v.buffer.splice(0,1+r.suffix.length):(b.splice(0,1+r.suffix.length),v={refreshFromBuffer:!0,buffer:c(b)}));if(r.enforceDigitsOnBlur){var L=(v=v||{})&&v.buffer||b.slice().reverse();v.refreshFromBuffer=!0,v.buffer=O(L,r.digits,r,!0).reverse()}}return v},onKeyDown:function(s,b,l,r){var c,v=T(this);if(s.location!=3){var g,_=s.key;if((g=r.shortcuts&&r.shortcuts[_])&&g.length>1)return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())*parseInt(g)),v.trigger("setvalue"),!1}if(s.ctrlKey)switch(s.key){case M.keys.ArrowUp:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())+parseInt(r.step)),v.trigger("setvalue"),!1;case M.keys.ArrowDown:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())-parseInt(r.step)),v.trigger("setvalue"),!1}if(!s.shiftKey&&(s.key===M.keys.Delete||s.key===M.keys.Backspace||s.key===M.keys.BACKSPACE_SAFARI)&&l.begin!==b.length){if(b[s.key===M.keys.Delete?l.begin-1:l.end]===r.negationSymbol.front)return c=b.slice().reverse(),r.negationSymbol.front!==""&&c.shift(),r.negationSymbol.back!==""&&c.pop(),v.trigger("setvalue",[c.join(""),l.begin]),!1;if(r._radixDance===!0){var m=b.indexOf(r.radixPoint);if(r.digitsOptional){if(m===0)return(c=b.slice().reverse()).pop(),v.trigger("setvalue",[c.join(""),l.begin>=c.length?c.length:l.begin]),!1}else if(m!==-1&&(l.begin<m||l.end<m||s.key===M.keys.Delete&&(l.begin===m||l.begin-1===m))){var w=void 0;return l.begin===l.end&&(s.key===M.keys.Backspace||s.key===M.keys.BACKSPACE_SAFARI?l.begin++:s.key===M.keys.Delete&&l.begin-1===m&&(w=T.extend({},l),l.begin--,l.end--)),(c=b.slice().reverse()).splice(c.length-l.begin,l.begin-l.end+1),c=O(c,r.digits,r).join(""),w&&(l=w),v.trigger("setvalue",[c,l.begin>=c.length?m+1:l.begin]),!1}}}}},currency:{prefix:"",groupSeparator:",",alias:"numeric",digits:2,digitsOptional:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",inputmode:"numeric",digits:0},percentage:{alias:"numeric",min:0,max:100,suffix:" %",digits:0,allowMinus:!1},indianns:{alias:"numeric",_mask:function(s){return"("+s.groupSeparator+"99){*|1}("+s.groupSeparator+"999){1|1}"},groupSeparator:",",radixPoint:".",placeholder:"0",digits:2,digitsOptional:!1}})},9380:function(a,f,k){var u;Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var y=((u=k(8741))&&u.__esModule?u:{default:u}).default?window:{};f.default=y},7760:function(a,f,k){Object.defineProperty(f,"__esModule",{value:!0}),f.HandleNativePlaceholder=function(d,s){var b=d?d.inputmask:this;if(j.ie){if(d.inputmask._valueGet()!==s&&(d.placeholder!==s||d.placeholder==="")){var l=S.getBuffer.call(b).slice(),r=d.inputmask._valueGet();if(r!==s){var c=S.getLastValidPosition.call(b);c===-1&&r===S.getBufferTemplate.call(b).join("")?l=[]:c!==-1&&O.call(b,l),h(d,l)}}}else d.placeholder!==s&&(d.placeholder=s,d.placeholder===""&&d.removeAttribute("placeholder"))},f.applyInputValue=C,f.checkVal=x,f.clearOptionalTail=O,f.unmaskedvalue=function(d){var s=d?d.inputmask:this,b=s.opts,l=s.maskset;if(d){if(d.inputmask===void 0)return d.value;d.inputmask&&d.inputmask.refreshValue&&C(d,d.inputmask._valueGet(!0))}for(var r=[],c=l.validPositions,v=0,g=c.length;v<g;v++)c[v]&&c[v].match&&(c[v].match.static!=1||Array.isArray(l.metadata)&&c[v].generatedInput!==!0)&&r.push(c[v].input);var _=r.length===0?"":(s.isRTL?r.reverse():r).join("");if(typeof b.onUnMask=="function"){var m=(s.isRTL?S.getBuffer.call(s).slice().reverse():S.getBuffer.call(s)).join("");_=b.onUnMask.call(s,m,_,b)}return _},f.writeBuffer=h;var u=k(2839),y=k(4713),S=k(8711),M=k(7215),j=k(9845),T=k(6030);function C(d,s){var b=d?d.inputmask:this,l=b.opts;d.inputmask.refreshValue=!1,typeof l.onBeforeMask=="function"&&(s=l.onBeforeMask.call(b,s,l)||s),x(d,!0,!1,s=(s||"").toString().split("")),b.undoValue=b._valueGet(!0),(l.clearMaskOnLostFocus||l.clearIncomplete)&&d.inputmask._valueGet()===S.getBufferTemplate.call(b).join("")&&S.getLastValidPosition.call(b)===-1&&d.inputmask._valueSet("")}function O(d){d.length=0;for(var s,b=y.getMaskTemplate.call(this,!0,0,!0,void 0,!0);(s=b.shift())!==void 0;)d.push(s);return d}function x(d,s,b,l,r){var c=d?d.inputmask:this,v=c.maskset,g=c.opts,_=c.dependencyLib,m=l.slice(),w="",F=-1,I=void 0,L=g.skipOptionalPartCharacter;g.skipOptionalPartCharacter="",S.resetMaskSet.call(c),v.tests={},F=g.radixPoint?S.determineNewCaretPosition.call(c,{begin:0,end:0},!1,g.__financeInput===!1?"radixFocus":void 0).begin:0,v.p=F,c.caretPos={begin:F};var A=[],N=c.caretPos;if(m.forEach(function(H,G){if(H!==void 0){var q=new _.Event("_checkval");q.key=H,w+=H;var $=S.getLastValidPosition.call(c,void 0,!0);(function(K,z){for(var Q=y.getMaskTemplate.call(c,!0,0).slice(K,S.seekNext.call(c,K,!1,!1)).join("").replace(/'/g,""),B=Q.indexOf(z);B>0&&Q[B-1]===" ";)B--;var U=B===0&&!S.isMask.call(c,K)&&(y.getTest.call(c,K).match.nativeDef===z.charAt(0)||y.getTest.call(c,K).match.static===!0&&y.getTest.call(c,K).match.nativeDef==="'"+z.charAt(0)||y.getTest.call(c,K).match.nativeDef===" "&&(y.getTest.call(c,K+1).match.nativeDef===z.charAt(0)||y.getTest.call(c,K+1).match.static===!0&&y.getTest.call(c,K+1).match.nativeDef==="'"+z.charAt(0)));if(!U&&B>0&&!S.isMask.call(c,K,!1,!0)){var W=S.seekNext.call(c,K);c.caretPos.begin<W&&(c.caretPos={begin:W})}return U})(F,w)?I=T.EventHandlers.keypressEvent.call(c,q,!0,!1,b,$+1):(I=T.EventHandlers.keypressEvent.call(c,q,!0,!1,b,c.caretPos.begin))&&(F=c.caretPos.begin+1,w=""),I?(I.pos!==void 0&&v.validPositions[I.pos]&&v.validPositions[I.pos].match.static===!0&&v.validPositions[I.pos].alternation===void 0&&(A.push(I.pos),c.isRTL||(I.forwardPosition=I.pos+1)),h.call(c,void 0,S.getBuffer.call(c),I.forwardPosition,q,!1),c.caretPos={begin:I.forwardPosition,end:I.forwardPosition},N=c.caretPos):v.validPositions[G]===void 0&&m[G]===y.getPlaceholder.call(c,G)&&S.isMask.call(c,G,!0)?c.caretPos.begin++:c.caretPos=N}}),A.length>0){var E,P,V=S.seekNext.call(c,-1,void 0,!1);if(!M.isComplete.call(c,S.getBuffer.call(c))&&A.length<=V||M.isComplete.call(c,S.getBuffer.call(c))&&A.length>0&&A.length!==V&&A[0]===0)for(var D=V;(E=A.shift())!==void 0;){var R=new _.Event("_checkval");if((P=v.validPositions[E]).generatedInput=!0,R.key=P.input,(I=T.EventHandlers.keypressEvent.call(c,R,!0,!1,b,D))&&I.pos!==void 0&&I.pos!==E&&v.validPositions[I.pos]&&v.validPositions[I.pos].match.static===!0)A.push(I.pos);else if(!I)break;D++}}s&&h.call(c,d,S.getBuffer.call(c),I?I.forwardPosition:c.caretPos.begin,r||new _.Event("checkval"),r&&(r.type==="input"&&c.undoValue!==S.getBuffer.call(c).join("")||r.type==="paste")),g.skipOptionalPartCharacter=L}function h(d,s,b,l,r){var c=d?d.inputmask:this,v=c.opts,g=c.dependencyLib;if(l&&typeof v.onBeforeWrite=="function"){var _=v.onBeforeWrite.call(c,l,s,b,v);if(_){if(_.refreshFromBuffer){var m=_.refreshFromBuffer;M.refreshFromBuffer.call(c,m===!0?m:m.start,m.end,_.buffer||s),s=S.getBuffer.call(c,!0)}b!==void 0&&(b=_.caret!==void 0?_.caret:b)}}if(d!==void 0&&(d.inputmask._valueSet(s.join("")),b===void 0||l!==void 0&&l.type==="blur"||S.caret.call(c,d,b,void 0,void 0,l!==void 0&&l.type==="keydown"&&(l.key===u.keys.Delete||l.key===u.keys.Backspace)),r===!0)){var w=g(d),F=d.inputmask._valueGet();d.inputmask.skipInputEvent=!0,w.trigger("input"),setTimeout(function(){F===S.getBufferTemplate.call(c).join("")?w.trigger("cleared"):M.isComplete.call(c,s)===!0&&w.trigger("complete")},0)}}},2394:function(a,f,k){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var u=k(157),y=l(k(4963)),S=l(k(9380)),M=k(2391),j=k(4713),T=k(8711),C=k(7215),O=k(7760),x=k(9716),h=l(k(7392)),d=l(k(3976)),s=l(k(8741));function b(m){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},b(m)}function l(m){return m&&m.__esModule?m:{default:m}}var r=S.default.document,c="_inputmask_opts";function v(m,w,F){if(s.default){if(!(this instanceof v))return new v(m,w,F);this.dependencyLib=y.default,this.el=void 0,this.events={},this.maskset=void 0,F!==!0&&(Object.prototype.toString.call(m)==="[object Object]"?w=m:(w=w||{},m&&(w.alias=m)),this.opts=y.default.extend(!0,{},this.defaults,w),this.noMasksCache=w&&w.definitions!==void 0,this.userOptions=w||{},g(this.opts.alias,w,this.opts)),this.refreshValue=!1,this.undoValue=void 0,this.$el=void 0,this.skipInputEvent=!1,this.validationEvent=!1,this.ignorable=!1,this.maxLength,this.mouseEnter=!1,this.clicked=0,this.originalPlaceholder=void 0,this.isComposing=!1,this.hasAlternator=!1}}function g(m,w,F){var I=v.prototype.aliases[m];return I?(I.alias&&g(I.alias,void 0,F),y.default.extend(!0,F,I),y.default.extend(!0,F,w),!0):(F.mask===null&&(F.mask=m),!1)}v.prototype={dataAttribute:"data-inputmask",defaults:d.default,definitions:h.default,aliases:{},masksCache:{},get isRTL(){return this.opts.isRTL||this.opts.numericInput},mask:function(m){var w=this;return typeof m=="string"&&(m=r.getElementById(m)||r.querySelectorAll(m)),(m=m.nodeName?[m]:Array.isArray(m)?m:[].slice.call(m)).forEach(function(F,I){var L=y.default.extend(!0,{},w.opts);if(function(N,E,P,V){function D(K,z){var Q=V===""?K:V+"-"+K;(z=z!==void 0?z:N.getAttribute(Q))!==null&&(typeof z=="string"&&(K.indexOf("on")===0?z=S.default[z]:z==="false"?z=!1:z==="true"&&(z=!0)),P[K]=z)}if(E.importDataAttributes===!0){var R,H,G,q,$=N.getAttribute(V);if($&&$!==""&&($=$.replace(/'/g,'"'),H=JSON.parse("{"+$+"}")),H){for(q in G=void 0,H)if(q.toLowerCase()==="alias"){G=H[q];break}}for(R in D("alias",G),P.alias&&g(P.alias,P,E),E){if(H){for(q in G=void 0,H)if(q.toLowerCase()===R.toLowerCase()){G=H[q];break}}D(R,G)}}return y.default.extend(!0,E,P),(N.dir==="rtl"||E.rightAlign)&&(N.style.textAlign="right"),(N.dir==="rtl"||E.numericInput)&&(N.dir="ltr",N.removeAttribute("dir"),E.isRTL=!0),Object.keys(P).length}(F,L,y.default.extend(!0,{},w.userOptions),w.dataAttribute)){var A=(0,M.generateMaskSet)(L,w.noMasksCache);A!==void 0&&(F.inputmask!==void 0&&(F.inputmask.opts.autoUnmask=!0,F.inputmask.remove()),F.inputmask=new v(void 0,void 0,!0),F.inputmask.opts=L,F.inputmask.noMasksCache=w.noMasksCache,F.inputmask.userOptions=y.default.extend(!0,{},w.userOptions),F.inputmask.el=F,F.inputmask.$el=(0,y.default)(F),F.inputmask.maskset=A,y.default.data(F,c,w.userOptions),u.mask.call(F.inputmask))}}),m&&m[0]&&m[0].inputmask||this},option:function(m,w){return typeof m=="string"?this.opts[m]:b(m)==="object"?(y.default.extend(this.userOptions,m),this.el&&w!==!0&&this.mask(this.el),this):void 0},unmaskedvalue:function(m){if(this.maskset=this.maskset||(0,M.generateMaskSet)(this.opts,this.noMasksCache),this.el===void 0||m!==void 0){var w=(typeof this.opts.onBeforeMask=="function"&&this.opts.onBeforeMask.call(this,m,this.opts)||m).split("");O.checkVal.call(this,void 0,!1,!1,w),typeof this.opts.onBeforeWrite=="function"&&this.opts.onBeforeWrite.call(this,void 0,T.getBuffer.call(this),0,this.opts)}return O.unmaskedvalue.call(this,this.el)},remove:function(){if(this.el){y.default.data(this.el,c,null);var m=this.opts.autoUnmask?(0,O.unmaskedvalue)(this.el):this._valueGet(this.opts.autoUnmask);m!==T.getBufferTemplate.call(this).join("")?this._valueSet(m,this.opts.autoUnmask):this._valueSet(""),x.EventRuler.off(this.el),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el),"value")&&this.__valueGet&&Object.defineProperty(this.el,"value",{get:this.__valueGet,set:this.__valueSet,configurable:!0}):r.__lookupGetter__&&this.el.__lookupGetter__("value")&&this.__valueGet&&(this.el.__defineGetter__("value",this.__valueGet),this.el.__defineSetter__("value",this.__valueSet)),this.el.inputmask=void 0}return this.el},getemptymask:function(){return this.maskset=this.maskset||(0,M.generateMaskSet)(this.opts,this.noMasksCache),(this.isRTL?T.getBufferTemplate.call(this).reverse():T.getBufferTemplate.call(this)).join("")},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||(0,M.generateMaskSet)(this.opts,this.noMasksCache),C.isComplete.call(this,T.getBuffer.call(this))},getmetadata:function(){if(this.maskset=this.maskset||(0,M.generateMaskSet)(this.opts,this.noMasksCache),Array.isArray(this.maskset.metadata)){var m=j.getMaskTemplate.call(this,!0,0,!1).join("");return this.maskset.metadata.forEach(function(w){return w.mask!==m||(m=w,!1)}),m}return this.maskset.metadata},isValid:function(m){if(this.maskset=this.maskset||(0,M.generateMaskSet)(this.opts,this.noMasksCache),m){var w=(typeof this.opts.onBeforeMask=="function"&&this.opts.onBeforeMask.call(this,m,this.opts)||m).split("");O.checkVal.call(this,void 0,!0,!1,w)}else m=this.isRTL?T.getBuffer.call(this).slice().reverse().join(""):T.getBuffer.call(this).join("");for(var F=T.getBuffer.call(this),I=T.determineLastRequiredPosition.call(this),L=F.length-1;L>I&&!T.isMask.call(this,L);L--);return F.splice(I,L+1-I),C.isComplete.call(this,F)&&m===(this.isRTL?T.getBuffer.call(this).slice().reverse().join(""):T.getBuffer.call(this).join(""))},format:function(m,w){this.maskset=this.maskset||(0,M.generateMaskSet)(this.opts,this.noMasksCache);var F=(typeof this.opts.onBeforeMask=="function"&&this.opts.onBeforeMask.call(this,m,this.opts)||m).split("");O.checkVal.call(this,void 0,!0,!1,F);var I=this.isRTL?T.getBuffer.call(this).slice().reverse().join(""):T.getBuffer.call(this).join("");return w?{value:I,metadata:this.getmetadata()}:I},setValue:function(m){this.el&&(0,y.default)(this.el).trigger("setvalue",[m])},analyseMask:M.analyseMask},v.extendDefaults=function(m){y.default.extend(!0,v.prototype.defaults,m)},v.extendDefinitions=function(m){y.default.extend(!0,v.prototype.definitions,m)},v.extendAliases=function(m){y.default.extend(!0,v.prototype.aliases,m)},v.format=function(m,w,F){return v(w).format(m,F)},v.unmask=function(m,w){return v(w).unmaskedvalue(m)},v.isValid=function(m,w){return v(w).isValid(m)},v.remove=function(m){typeof m=="string"&&(m=r.getElementById(m)||r.querySelectorAll(m)),(m=m.nodeName?[m]:m).forEach(function(w){w.inputmask&&w.inputmask.remove()})},v.setValue=function(m,w){typeof m=="string"&&(m=r.getElementById(m)||r.querySelectorAll(m)),(m=m.nodeName?[m]:m).forEach(function(F){F.inputmask?F.inputmask.setValue(w):(0,y.default)(F).trigger("setvalue",[w])})},v.dependencyLib=y.default,S.default.Inputmask=v;var _=v;f.default=_},5296:function(a,f,k){function u(l){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},u(l)}var y=d(k(9380)),S=d(k(2394)),M=d(k(8741));function j(l){var r=O();return function(){var c,v=h(l);if(r){var g=h(this).constructor;c=Reflect.construct(v,arguments,g)}else c=v.apply(this,arguments);return function(_,m){if(m&&(u(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(_)}(this,c)}}function T(l){var r=typeof Map=="function"?new Map:void 0;return T=function(c){if(c===null||(v=c,Function.toString.call(v).indexOf("[native code]")===-1))return c;var v;if(typeof c!="function")throw new TypeError("Super expression must either be null or a function");if(r!==void 0){if(r.has(c))return r.get(c);r.set(c,g)}function g(){return C(c,arguments,h(this).constructor)}return g.prototype=Object.create(c.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),x(g,c)},T(l)}function C(l,r,c){return C=O()?Reflect.construct.bind():function(v,g,_){var m=[null];m.push.apply(m,g);var w=new(Function.bind.apply(v,m));return _&&x(w,_.prototype),w},C.apply(null,arguments)}function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function x(l,r){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,v){return c.__proto__=v,c},x(l,r)}function h(l){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h(l)}function d(l){return l&&l.__esModule?l:{default:l}}var s=y.default.document;if(M.default&&s&&s.head&&s.head.attachShadow&&y.default.customElements&&y.default.customElements.get("input-mask")===void 0){var b=function(l){(function(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),_&&x(g,_)})(v,l);var r,c=j(v);function v(){var g;(function(L,A){if(!(L instanceof A))throw new TypeError("Cannot call a class as a function")})(this,v);var _=(g=c.call(this)).getAttributeNames(),m=g.attachShadow({mode:"closed"}),w=s.createElement("input");for(var F in w.type="text",m.appendChild(w),_)Object.prototype.hasOwnProperty.call(_,F)&&w.setAttribute(_[F],g.getAttribute(_[F]));var I=new S.default;return I.dataAttribute="",I.mask(w),w.inputmask.shadowRoot=m,g}return r=v,Object.defineProperty(r,"prototype",{writable:!1}),r}(T(HTMLElement));y.default.customElements.define("input-mask",b)}},2839:function(a,f){function k(j,T){return function(C){if(Array.isArray(C))return C}(j)||function(C,O){var x=C==null?null:typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(x!=null){var h,d,s,b,l=[],r=!0,c=!1;try{if(s=(x=x.call(C)).next,O===0){if(Object(x)!==x)return;r=!1}else for(;!(r=(h=s.call(x)).done)&&(l.push(h.value),l.length!==O);r=!0);}catch(v){c=!0,d=v}finally{try{if(!r&&x.return!=null&&(b=x.return(),Object(b)!==b))return}finally{if(c)throw d}}return l}}(j,T)||function(C,O){if(C){if(typeof C=="string")return u(C,O);var x=Object.prototype.toString.call(C).slice(8,-1);if(x==="Object"&&C.constructor&&(x=C.constructor.name),x==="Map"||x==="Set")return Array.from(C);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return u(C,O)}}(j,T)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function u(j,T){(T==null||T>j.length)&&(T=j.length);for(var C=0,O=new Array(T);C<T;C++)O[C]=j[C];return O}Object.defineProperty(f,"__esModule",{value:!0}),f.keys=f.keyCode=void 0,f.toKey=function(j,T){return S[j]||(T?String.fromCharCode(j):String.fromCharCode(j).toLowerCase())},f.toKeyCode=function(j){return y[j]};var y={AltGraph:18,ArrowDown:40,ArrowLeft:37,ArrowRight:39,ArrowUp:38,Backspace:8,BACKSPACE_SAFARI:127,CapsLock:20,Delete:46,End:35,Enter:13,Escape:27,Home:36,Insert:45,PageDown:34,PageUp:33,Space:32,Tab:9,c:67,x:88,z:90,Shift:16,Control:17,Alt:18,Pause:19,Meta_LEFT:91,Meta_RIGHT:92,ContextMenu:93,Process:229,Unidentified:229,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123};f.keyCode=y;var S=Object.entries(y).reduce(function(j,T){var C=k(T,2),O=C[0],x=C[1];return j[x]=j[x]===void 0?O:j[x],j},{}),M=Object.entries(y).reduce(function(j,T){var C=k(T,2),O=C[0];return C[1],j[O]=O==="Space"?" ":O,j},{});f.keys=M},2391:function(a,f,k){Object.defineProperty(f,"__esModule",{value:!0}),f.analyseMask=function(C,O,x){var h,d,s,b,l,r,c=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,v=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,g=!1,_=new y.default,m=[],w=[],F=!1;function I(Q,B,U){U=U!==void 0?U:Q.matches.length;var W=Q.matches[U-1];if(O){if(B.indexOf("[")===0||g&&/\\d|\\s|\\w|\\p/i.test(B)||B==="."){var le=x.casing?"i":"";/^\\p\{.*}$/i.test(B)&&(le+="u"),Q.matches.splice(U++,0,{fn:new RegExp(B,le),static:!1,optionality:!1,newBlockMarker:W===void 0?"master":W.def!==B,casing:null,def:B,placeholder:void 0,nativeDef:B})}else g&&(B=B[B.length-1]),B.split("").forEach(function(ie,ce){W=Q.matches[U-1],Q.matches.splice(U++,0,{fn:/[a-z]/i.test(x.staticDefinitionSymbol||ie)?new RegExp("["+(x.staticDefinitionSymbol||ie)+"]",x.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:W===void 0?"master":W.def!==ie&&W.static!==!0,casing:null,def:x.staticDefinitionSymbol||ie,placeholder:x.staticDefinitionSymbol!==void 0?ie:void 0,nativeDef:(g?"'":"")+ie})});g=!1}else{var Y=x.definitions&&x.definitions[B]||x.usePrototypeDefinitions&&S.default.prototype.definitions[B];Y&&!g?Q.matches.splice(U++,0,{fn:Y.validator?typeof Y.validator=="string"?new RegExp(Y.validator,x.casing?"i":""):new function(){this.test=Y.validator}:new RegExp("."),static:Y.static||!1,optionality:Y.optional||!1,defOptionality:Y.optional||!1,newBlockMarker:W===void 0||Y.optional?"master":W.def!==(Y.definitionSymbol||B),casing:Y.casing,def:Y.definitionSymbol||B,placeholder:Y.placeholder,nativeDef:B,generated:Y.generated}):(Q.matches.splice(U++,0,{fn:/[a-z]/i.test(x.staticDefinitionSymbol||B)?new RegExp("["+(x.staticDefinitionSymbol||B)+"]",x.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:W===void 0?"master":W.def!==B&&W.static!==!0,casing:null,def:x.staticDefinitionSymbol||B,placeholder:x.staticDefinitionSymbol!==void 0?B:void 0,nativeDef:(g?"'":"")+B}),g=!1)}}function L(){if(m.length>0){if(I(b=m[m.length-1],d),b.isAlternator){l=m.pop();for(var Q=0;Q<l.matches.length;Q++)l.matches[Q].isGroup&&(l.matches[Q].isGroup=!1);m.length>0?(b=m[m.length-1]).matches.push(l):_.matches.push(l)}}else I(_,d)}function A(Q){var B=new y.default(!0);return B.openGroup=!1,B.matches=Q,B}function N(){if((s=m.pop()).openGroup=!1,s!==void 0)if(m.length>0){if((b=m[m.length-1]).matches.push(s),b.isAlternator){for(var Q=(l=m.pop()).matches[0].matches?l.matches[0].matches.length:1,B=0;B<l.matches.length;B++)l.matches[B].isGroup=!1,l.matches[B].alternatorGroup=!1,x.keepStatic===null&&Q<(l.matches[B].matches?l.matches[B].matches.length:1)&&(x.keepStatic=!0),Q=l.matches[B].matches?l.matches[B].matches.length:1;m.length>0?(b=m[m.length-1]).matches.push(l):_.matches.push(l)}}else _.matches.push(s);else L()}function E(Q){var B=Q.pop();return B.isQuantifier&&(B=A([Q.pop(),B])),B}for(O&&(x.optionalmarker[0]=void 0,x.optionalmarker[1]=void 0);h=O?v.exec(C):c.exec(C);){if(d=h[0],O){switch(d.charAt(0)){case"?":d="{0,1}";break;case"+":case"*":d="{"+d+"}";break;case"|":if(m.length===0){var P=A(_.matches);P.openGroup=!0,m.push(P),_.matches=[],F=!0}}switch(d){case"\\d":d="[0-9]";break;case"\\p":d+=v.exec(C)[0],d+=v.exec(C)[0]}}if(g)L();else switch(d.charAt(0)){case"$":case"^":O||L();break;case x.escapeChar:g=!0,O&&L();break;case x.optionalmarker[1]:case x.groupmarker[1]:N();break;case x.optionalmarker[0]:m.push(new y.default(!1,!0));break;case x.groupmarker[0]:m.push(new y.default(!0));break;case x.quantifiermarker[0]:var V=new y.default(!1,!1,!0),D=(d=d.replace(/[{}?]/g,"")).split("|"),R=D[0].split(","),H=isNaN(R[0])?R[0]:parseInt(R[0]),G=R.length===1?H:isNaN(R[1])?R[1]:parseInt(R[1]),q=isNaN(D[1])?D[1]:parseInt(D[1]);H!=="*"&&H!=="+"||(H=G==="*"?0:1),V.quantifier={min:H,max:G,jit:q};var $=m.length>0?m[m.length-1].matches:_.matches;(h=$.pop()).isGroup||(h=A([h])),$.push(h),$.push(V);break;case x.alternatormarker:if(m.length>0){var K=(b=m[m.length-1]).matches[b.matches.length-1];r=b.openGroup&&(K.matches===void 0||K.isGroup===!1&&K.isAlternator===!1)?m.pop():E(b.matches)}else r=E(_.matches);if(r.isAlternator)m.push(r);else if(r.alternatorGroup?(l=m.pop(),r.alternatorGroup=!1):l=new y.default(!1,!1,!1,!0),l.matches.push(r),m.push(l),r.openGroup){r.openGroup=!1;var z=new y.default(!0);z.alternatorGroup=!0,m.push(z)}break;default:L()}}for(F&&N();m.length>0;)s=m.pop(),_.matches.push(s);return _.matches.length>0&&(function Q(B){B&&B.matches&&B.matches.forEach(function(U,W){var le=B.matches[W+1];(le===void 0||le.matches===void 0||le.isQuantifier===!1)&&U&&U.isGroup&&(U.isGroup=!1,O||(I(U,x.groupmarker[0],0),U.openGroup!==!0&&I(U,x.groupmarker[1]))),Q(U)})}(_),w.push(_)),(x.numericInput||x.isRTL)&&function Q(B){for(var U in B.matches=B.matches.reverse(),B.matches)if(Object.prototype.hasOwnProperty.call(B.matches,U)){var W=parseInt(U);if(B.matches[U].isQuantifier&&B.matches[W+1]&&B.matches[W+1].isGroup){var le=B.matches[U];B.matches.splice(U,1),B.matches.splice(W+1,0,le)}B.matches[U].matches!==void 0?B.matches[U]=Q(B.matches[U]):B.matches[U]=((Y=B.matches[U])===x.optionalmarker[0]?Y=x.optionalmarker[1]:Y===x.optionalmarker[1]?Y=x.optionalmarker[0]:Y===x.groupmarker[0]?Y=x.groupmarker[1]:Y===x.groupmarker[1]&&(Y=x.groupmarker[0]),Y)}var Y;return B}(w[0]),w},f.generateMaskSet=function(C,O){var x;function h(b,l){var r=l.repeat,c=l.groupmarker,v=l.quantifiermarker,g=l.keepStatic;if(r>0||r==="*"||r==="+"){var _=r==="*"?0:r==="+"?1:r;b=c[0]+b+c[1]+v[0]+_+","+r+v[1]}if(g===!0){var m=b.match(new RegExp("(.)\\[([^\\]]*)\\]","g"));m&&m.forEach(function(w,F){var I=function(N,E){return function(P){if(Array.isArray(P))return P}(N)||function(P,V){var D=P==null?null:typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(D!=null){var R,H,G,q,$=[],K=!0,z=!1;try{if(G=(D=D.call(P)).next,V===0){if(Object(D)!==D)return;K=!1}else for(;!(K=(R=G.call(D)).done)&&($.push(R.value),$.length!==V);K=!0);}catch(Q){z=!0,H=Q}finally{try{if(!K&&D.return!=null&&(q=D.return(),Object(q)!==q))return}finally{if(z)throw H}}return $}}(N,E)||function(P,V){if(P){if(typeof P=="string")return j(P,V);var D=Object.prototype.toString.call(P).slice(8,-1);if(D==="Object"&&P.constructor&&(D=P.constructor.name),D==="Map"||D==="Set")return Array.from(P);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return j(P,V)}}(N,E)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(w.split("["),2),L=I[0],A=I[1];A=A.replace("]",""),b=b.replace(new RegExp("".concat((0,M.default)(L),"\\[").concat((0,M.default)(A),"\\]")),L.charAt(0)===A.charAt(0)?"(".concat(L,"|").concat(L).concat(A,")"):"".concat(L,"[").concat(A,"]"))})}return b}function d(b,l,r){var c,v,g=!1;return b!==null&&b!==""||((g=r.regex!==null)?b=(b=r.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(g=!0,b=".*")),b.length===1&&r.greedy===!1&&r.repeat!==0&&(r.placeholder=""),b=h(b,r),v=g?"regex_"+r.regex:r.numericInput?b.split("").reverse().join(""):b,r.keepStatic!==null&&(v="ks_"+r.keepStatic+v),S.default.prototype.masksCache[v]===void 0||O===!0?(c={mask:b,maskToken:S.default.prototype.analyseMask(b,g,r),validPositions:[],_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:l,maskLength:void 0,jitOffset:{}},O!==!0&&(S.default.prototype.masksCache[v]=c,c=u.default.extend(!0,{},S.default.prototype.masksCache[v]))):c=u.default.extend(!0,{},S.default.prototype.masksCache[v]),c}if(typeof C.mask=="function"&&(C.mask=C.mask(C)),Array.isArray(C.mask)){if(C.mask.length>1){C.keepStatic===null&&(C.keepStatic=!0);var s=C.groupmarker[0];return(C.isRTL?C.mask.reverse():C.mask).forEach(function(b){s.length>1&&(s+=C.alternatormarker),b.mask!==void 0&&typeof b.mask!="function"?s+=b.mask:s+=b}),d(s+=C.groupmarker[1],C.mask,C)}C.mask=C.mask.pop()}return x=C.mask&&C.mask.mask!==void 0&&typeof C.mask.mask!="function"?d(C.mask.mask,C.mask,C):d(C.mask,C.mask,C),C.keepStatic===null&&(C.keepStatic=!1),x};var u=T(k(4963)),y=T(k(9695)),S=T(k(2394)),M=T(k(7184));function j(C,O){(O==null||O>C.length)&&(O=C.length);for(var x=0,h=new Array(O);x<O;x++)h[x]=C[x];return h}function T(C){return C&&C.__esModule?C:{default:C}}},157:function(a,f,k){Object.defineProperty(f,"__esModule",{value:!0}),f.mask=function(){var O=this,x=this.opts,h=this.el,d=this.dependencyLib;M.EventRuler.off(h);var s=function(r,c){r.tagName.toLowerCase()!=="textarea"&&c.ignorables.push(u.keys.Enter);var v=r.getAttribute("type"),g=r.tagName.toLowerCase()==="input"&&c.supportsInputType.includes(v)||r.isContentEditable||r.tagName.toLowerCase()==="textarea";if(!g)if(r.tagName.toLowerCase()==="input"){var _=document.createElement("input");_.setAttribute("type",v),g=_.type==="text",_=null}else g="partial";return g!==!1?function(m){var w,F;function I(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():y.getLastValidPosition.call(O)!==-1||c.nullable!==!0?(this.inputmask.shadowRoot||this.ownerDocument).activeElement===this&&c.clearMaskOnLostFocus?(O.isRTL?S.clearOptionalTail.call(O,y.getBuffer.call(O).slice()).reverse():S.clearOptionalTail.call(O,y.getBuffer.call(O).slice())).join(""):w.call(this):"":w.call(this)}function L(N){F.call(this,N),this.inputmask&&(0,S.applyInputValue)(this,N)}if(!m.inputmask.__valueGet){if(c.noValuePatching!==!0){if(Object.getOwnPropertyDescriptor){var A=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(m),"value"):void 0;A&&A.get&&A.set?(w=A.get,F=A.set,Object.defineProperty(m,"value",{get:I,set:L,configurable:!0})):m.tagName.toLowerCase()!=="input"&&(w=function(){return this.textContent},F=function(N){this.textContent=N},Object.defineProperty(m,"value",{get:I,set:L,configurable:!0}))}else document.__lookupGetter__&&m.__lookupGetter__("value")&&(w=m.__lookupGetter__("value"),F=m.__lookupSetter__("value"),m.__defineGetter__("value",I),m.__defineSetter__("value",L));m.inputmask.__valueGet=w,m.inputmask.__valueSet=F}m.inputmask._valueGet=function(N){return O.isRTL&&N!==!0?w.call(this.el).split("").reverse().join(""):w.call(this.el)},m.inputmask._valueSet=function(N,E){F.call(this.el,N==null?"":E!==!0&&O.isRTL?N.split("").reverse().join(""):N)},w===void 0&&(w=function(){return this.value},F=function(N){this.value=N},function(N){if(d.valHooks&&(d.valHooks[N]===void 0||d.valHooks[N].inputmaskpatch!==!0)){var E=d.valHooks[N]&&d.valHooks[N].get?d.valHooks[N].get:function(V){return V.value},P=d.valHooks[N]&&d.valHooks[N].set?d.valHooks[N].set:function(V,D){return V.value=D,V};d.valHooks[N]={get:function(V){if(V.inputmask){if(V.inputmask.opts.autoUnmask)return V.inputmask.unmaskedvalue();var D=E(V);return y.getLastValidPosition.call(O,void 0,void 0,V.inputmask.maskset.validPositions)!==-1||c.nullable!==!0?D:""}return E(V)},set:function(V,D){var R=P(V,D);return V.inputmask&&(0,S.applyInputValue)(V,D),R},inputmaskpatch:!0}}}(m.type),function(N){M.EventRuler.on(N,"mouseenter",function(){var E=this,P=E.inputmask._valueGet(!0);P!=(E.inputmask.isRTL?y.getBuffer.call(E.inputmask).slice().reverse():y.getBuffer.call(E.inputmask)).join("")&&(0,S.applyInputValue)(E,P)})}(m))}}(r):r.inputmask=void 0,g}(h,x);if(s!==!1){O.originalPlaceholder=h.placeholder,O.maxLength=h!==void 0?h.maxLength:void 0,O.maxLength===-1&&(O.maxLength=void 0),"inputMode"in h&&h.getAttribute("inputmode")===null&&(h.inputMode=x.inputmode,h.setAttribute("inputmode",x.inputmode)),s===!0&&(x.showMaskOnFocus=x.showMaskOnFocus&&["cc-number","cc-exp"].indexOf(h.autocomplete)===-1,j.iphone&&(x.insertModeVisual=!1,h.setAttribute("autocorrect","off")),M.EventRuler.on(h,"submit",C.EventHandlers.submitEvent),M.EventRuler.on(h,"reset",C.EventHandlers.resetEvent),M.EventRuler.on(h,"blur",C.EventHandlers.blurEvent),M.EventRuler.on(h,"focus",C.EventHandlers.focusEvent),M.EventRuler.on(h,"invalid",C.EventHandlers.invalidEvent),M.EventRuler.on(h,"click",C.EventHandlers.clickEvent),M.EventRuler.on(h,"mouseleave",C.EventHandlers.mouseleaveEvent),M.EventRuler.on(h,"mouseenter",C.EventHandlers.mouseenterEvent),M.EventRuler.on(h,"paste",C.EventHandlers.pasteEvent),M.EventRuler.on(h,"cut",C.EventHandlers.cutEvent),M.EventRuler.on(h,"complete",x.oncomplete),M.EventRuler.on(h,"incomplete",x.onincomplete),M.EventRuler.on(h,"cleared",x.oncleared),x.inputEventOnly!==!0&&M.EventRuler.on(h,"keydown",C.EventHandlers.keyEvent),(j.mobile||x.inputEventOnly)&&h.removeAttribute("maxLength"),M.EventRuler.on(h,"input",C.EventHandlers.inputFallBackEvent)),M.EventRuler.on(h,"setvalue",C.EventHandlers.setValueEvent),y.getBufferTemplate.call(O).join(""),O.undoValue=O._valueGet(!0);var b=(h.inputmask.shadowRoot||h.ownerDocument).activeElement;if(h.inputmask._valueGet(!0)!==""||x.clearMaskOnLostFocus===!1||b===h){(0,S.applyInputValue)(h,h.inputmask._valueGet(!0),x);var l=y.getBuffer.call(O).slice();T.isComplete.call(O,l)===!1&&x.clearIncomplete&&y.resetMaskSet.call(O),x.clearMaskOnLostFocus&&b!==h&&(y.getLastValidPosition.call(O)===-1?l=[]:S.clearOptionalTail.call(O,l)),(x.clearMaskOnLostFocus===!1||x.showMaskOnFocus&&b===h||h.inputmask._valueGet(!0)!=="")&&(0,S.writeBuffer)(h,l),b===h&&y.caret.call(O,h,y.seekNext.call(O,y.getLastValidPosition.call(O)))}}};var u=k(2839),y=k(8711),S=k(7760),M=k(9716),j=k(9845),T=k(7215),C=k(6030)},9695:function(a,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=function(k,u,y,S){this.matches=[],this.openGroup=k||!1,this.alternatorGroup=!1,this.isGroup=k||!1,this.isOptional=u||!1,this.isQuantifier=y||!1,this.isAlternator=S||!1,this.quantifier={min:1,max:1}}},3194:function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(a,f){if(this==null)throw new TypeError('"this" is null or not defined');var k=Object(this),u=k.length>>>0;if(u===0)return!1;for(var y=0|f,S=Math.max(y>=0?y:u-Math.abs(y),0);S<u;){if(k[S]===a)return!0;S++}return!1}})},9302:function(){var a=Function.bind.call(Function.call,Array.prototype.reduce),f=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),k=Function.bind.call(Function.call,Array.prototype.concat),u=Object.keys;Object.entries||(Object.entries=function(y){return a(u(y),function(S,M){return k(S,typeof M=="string"&&f(y,M)?[[M,y[M]]]:[])},[])})},7149:function(){function a(f){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},a(f)}typeof Object.getPrototypeOf!="function"&&(Object.getPrototypeOf=a("test".__proto__)==="object"?function(f){return f.__proto__}:function(f){return f.constructor.prototype})},4013:function(){String.prototype.includes||(String.prototype.includes=function(a,f){return typeof f!="number"&&(f=0),!(f+a.length>this.length)&&this.indexOf(a,f)!==-1})},8711:function(a,f,k){Object.defineProperty(f,"__esModule",{value:!0}),f.caret=function(O,x,h,d,s){var b,l=this,r=this.opts;if(x===void 0)return"selectionStart"in O&&"selectionEnd"in O?(x=O.selectionStart,h=O.selectionEnd):window.getSelection?(b=window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==O&&b.commonAncestorContainer!==O||(x=b.startOffset,h=b.endOffset):document.selection&&document.selection.createRange&&(h=(x=0-(b=document.selection.createRange()).duplicate().moveStart("character",-O.inputmask._valueGet().length))+b.text.length),{begin:d?x:C.call(l,x),end:d?h:C.call(l,h)};if(Array.isArray(x)&&(h=l.isRTL?x[0]:x[1],x=l.isRTL?x[1]:x[0]),x.begin!==void 0&&(h=l.isRTL?x.begin:x.end,x=l.isRTL?x.end:x.begin),typeof x=="number"){x=d?x:C.call(l,x),h=typeof(h=d?h:C.call(l,h))=="number"?h:x;var c=parseInt(((O.ownerDocument.defaultView||window).getComputedStyle?(O.ownerDocument.defaultView||window).getComputedStyle(O,null):O.currentStyle).fontSize)*h;if(O.scrollLeft=c>O.scrollWidth?c:0,O.inputmask.caretPos={begin:x,end:h},r.insertModeVisual&&r.insertMode===!1&&x===h&&(s||h++),O===(O.inputmask.shadowRoot||O.ownerDocument).activeElement)if("setSelectionRange"in O)O.setSelectionRange(x,h);else if(window.getSelection){if(b=document.createRange(),O.firstChild===void 0||O.firstChild===null){var v=document.createTextNode("");O.appendChild(v)}b.setStart(O.firstChild,x<O.inputmask._valueGet().length?x:O.inputmask._valueGet().length),b.setEnd(O.firstChild,h<O.inputmask._valueGet().length?h:O.inputmask._valueGet().length),b.collapse(!0);var g=window.getSelection();g.removeAllRanges(),g.addRange(b)}else O.createTextRange&&((b=O.createTextRange()).collapse(!0),b.moveEnd("character",h),b.moveStart("character",x),b.select())}},f.determineLastRequiredPosition=function(O){var x,h,d=this,s=d.maskset,b=d.dependencyLib,l=u.getMaskTemplate.call(d,!0,M.call(d),!0,!0),r=l.length,c=M.call(d),v={},g=s.validPositions[c],_=g!==void 0?g.locator.slice():void 0;for(x=c+1;x<l.length;x++)_=(h=u.getTestTemplate.call(d,x,_,x-1)).locator.slice(),v[x]=b.extend(!0,{},h);var m=g&&g.alternation!==void 0?g.locator[g.alternation]:void 0;for(x=r-1;x>c&&((h=v[x]).match.optionality||h.match.optionalQuantifier&&h.match.newBlockMarker||m&&(m!==v[x].locator[g.alternation]&&h.match.static!=1||h.match.static===!0&&h.locator[g.alternation]&&y.checkAlternationMatch.call(d,h.locator[g.alternation].toString().split(","),m.toString().split(","))&&u.getTests.call(d,x)[0].def!==""))&&l[x]===u.getPlaceholder.call(d,x,h.match);x--)r--;return O?{l:r,def:v[r]?v[r].match:void 0}:r},f.determineNewCaretPosition=function(O,x,h){var d=this,s=d.maskset,b=d.opts;if(x&&(d.isRTL?O.end=O.begin:O.begin=O.end),O.begin===O.end){switch(h=h||b.positionCaretOnClick){case"none":break;case"select":O={begin:0,end:S.call(d).length};break;case"ignore":O.end=O.begin=T.call(d,M.call(d));break;case"radixFocus":if(d.clicked>1&&s.validPositions.length==0)break;if(function(F){if(b.radixPoint!==""&&b.digits!==0){var I=s.validPositions;if(I[F]===void 0||I[F].input===u.getPlaceholder.call(d,F)){if(F<T.call(d,-1))return!0;var L=S.call(d).indexOf(b.radixPoint);if(L!==-1){for(var A=0,N=I.length;A<N;A++)if(I[A]&&L<A&&I[A].input!==u.getPlaceholder.call(d,A))return!1;return!0}}}return!1}(O.begin)){var l=S.call(d).join("").indexOf(b.radixPoint);O.end=O.begin=b.numericInput?T.call(d,l):l;break}default:var r=O.begin,c=M.call(d,r,!0),v=T.call(d,c!==-1||j.call(d,0)?c:-1);if(r<=v)O.end=O.begin=j.call(d,r,!1,!0)?r:T.call(d,r);else{var g=s.validPositions[c],_=u.getTestTemplate.call(d,v,g?g.match.locator:void 0,g),m=u.getPlaceholder.call(d,v,_.match);if(m!==""&&S.call(d)[v]!==m&&_.match.optionalQuantifier!==!0&&_.match.newBlockMarker!==!0||!j.call(d,v,b.keepStatic,!0)&&_.match.def===m){var w=T.call(d,v);(r>=w||r===v)&&(v=w)}O.end=O.begin=v}}return O}},f.getBuffer=S,f.getBufferTemplate=function(){var O=this.maskset;return O._buffer===void 0&&(O._buffer=u.getMaskTemplate.call(this,!1,1),O.buffer===void 0&&(O.buffer=O._buffer.slice())),O._buffer},f.getLastValidPosition=M,f.isMask=j,f.resetMaskSet=function(O){var x=this.maskset;x.buffer=void 0,O!==!0&&(x.validPositions=[],x.p=0)},f.seekNext=T,f.seekPrevious=function(O,x){var h=this,d=O-1;if(O<=0)return 0;for(;d>0&&(x===!0&&(u.getTest.call(h,d).match.newBlockMarker!==!0||!j.call(h,d,void 0,!0))||x!==!0&&!j.call(h,d,void 0,!0));)d--;return d},f.translatePosition=C;var u=k(4713),y=k(7215);function S(O){var x=this,h=x.maskset;return h.buffer!==void 0&&O!==!0||(h.buffer=u.getMaskTemplate.call(x,!0,M.call(x),!0),h._buffer===void 0&&(h._buffer=h.buffer.slice())),h.buffer}function M(O,x,h){var d=this.maskset,s=-1,b=-1,l=h||d.validPositions;O===void 0&&(O=-1);for(var r=0,c=l.length;r<c;r++)l[r]&&(x||l[r].generatedInput!==!0)&&(r<=O&&(s=r),r>=O&&(b=r));return s===-1||s==O?b:b==-1||O-s<b-O?s:b}function j(O,x,h){var d=this,s=this.maskset,b=u.getTestTemplate.call(d,O).match;if(b.def===""&&(b=u.getTest.call(d,O).match),b.static!==!0)return b.fn;if(h===!0&&s.validPositions[O]!==void 0&&s.validPositions[O].generatedInput!==!0)return!0;if(x!==!0&&O>-1){if(h){var l=u.getTests.call(d,O);return l.length>1+(l[l.length-1].match.def===""?1:0)}var r=u.determineTestTemplate.call(d,O,u.getTests.call(d,O)),c=u.getPlaceholder.call(d,O,r.match);return r.match.def!==c}return!1}function T(O,x,h){var d=this;h===void 0&&(h=!0);for(var s=O+1;u.getTest.call(d,s).match.def!==""&&(x===!0&&(u.getTest.call(d,s).match.newBlockMarker!==!0||!j.call(d,s,void 0,!0))||x!==!0&&!j.call(d,s,void 0,h));)s++;return s}function C(O){var x=this.opts,h=this.el;return!this.isRTL||typeof O!="number"||x.greedy&&x.placeholder===""||!h||(O=this._valueGet().length-O)<0&&(O=0),O}},4713:function(a,f,k){Object.defineProperty(f,"__esModule",{value:!0}),f.determineTestTemplate=C,f.getDecisionTaker=M,f.getMaskTemplate=function(d,s,b,l,r){var c=this,v=this.opts,g=this.maskset,_=v.greedy;r&&v.greedy&&(v.greedy=!1,c.maskset.tests={}),s=s||0;var m,w,F,I,L=[],A=0;do{if(d===!0&&g.validPositions[A])w=(F=r&&g.validPositions[A].match.optionality&&g.validPositions[A+1]===void 0&&(g.validPositions[A].generatedInput===!0||g.validPositions[A].input==v.skipOptionalPartCharacter&&A>0)?C.call(c,A,h.call(c,A,m,A-1)):g.validPositions[A]).match,m=F.locator.slice(),L.push(b===!0?F.input:b===!1?w.nativeDef:j.call(c,A,w));else{w=(F=T.call(c,A,m,A-1)).match,m=F.locator.slice();var N=l!==!0&&(v.jitMasking!==!1?v.jitMasking:w.jit);(I=(I&&w.static&&w.def!==v.groupSeparator&&w.fn===null||g.validPositions[A-1]&&w.static&&w.def!==v.groupSeparator&&w.fn===null)&&g.tests[A])||N===!1||N===void 0||typeof N=="number"&&isFinite(N)&&N>A?L.push(b===!1?w.nativeDef:j.call(c,L.length,w)):I=!1}A++}while(w.static!==!0||w.def!==""||s>A);return L[L.length-1]===""&&L.pop(),b===!1&&g.maskLength!==void 0||(g.maskLength=A-1),v.greedy=_,L},f.getPlaceholder=j,f.getTest=O,f.getTestTemplate=T,f.getTests=h,f.isSubsetOf=x;var u,y=(u=k(2394))&&u.__esModule?u:{default:u};function S(d,s){var b=(d.alternation!=null?d.mloc[M(d)]:d.locator).join("");if(b!=="")for(;b.length<s;)b+="0";return b}function M(d){var s=d.locator[d.alternation];return typeof s=="string"&&s.length>0&&(s=s.split(",")[0]),s!==void 0?s.toString():""}function j(d,s,b){var l=this.opts,r=this.maskset;if((s=s||O.call(this,d).match).placeholder!==void 0||b===!0)return typeof s.placeholder=="function"?s.placeholder(l):s.placeholder;if(s.static===!0){if(d>-1&&r.validPositions[d]===void 0){var c,v=h.call(this,d),g=[];if(v.length>1+(v[v.length-1].match.def===""?1:0)){for(var _=0;_<v.length;_++)if(v[_].match.def!==""&&v[_].match.optionality!==!0&&v[_].match.optionalQuantifier!==!0&&(v[_].match.static===!0||c===void 0||v[_].match.fn.test(c.match.def,r,d,!0,l)!==!1)&&(g.push(v[_]),v[_].match.static===!0&&(c=v[_]),g.length>1&&/[0-9a-bA-Z]/.test(g[0].match.def)))return l.placeholder.charAt(d%l.placeholder.length)}}return s.def}return l.placeholder.charAt(d%l.placeholder.length)}function T(d,s,b){return this.maskset.validPositions[d]||C.call(this,d,h.call(this,d,s&&s.slice(),b))}function C(d,s){var b=this.opts,l=0,r=function(I,L){var A=0,N=!1;return L.forEach(function(E){E.match.optionality&&(A!==0&&A!==E.match.optionality&&(N=!0),(A===0||A>E.match.optionality)&&(A=E.match.optionality))}),A&&(I==0||L.length==1?A=0:N||(A=0)),A}(d,s);d=d>0?d-1:0;var c,v,g,_=S(O.call(this,d));b.greedy&&s.length>1&&s[s.length-1].match.def===""&&(l=1);for(var m=0;m<s.length-l;m++){var w=s[m];c=S(w,_.length);var F=Math.abs(c-_);(v===void 0||c!==""&&F<v||g&&!b.greedy&&g.match.optionality&&g.match.optionality-r>0&&g.match.newBlockMarker==="master"&&(!w.match.optionality||w.match.optionality-r<1||!w.match.newBlockMarker)||g&&!b.greedy&&g.match.optionalQuantifier&&!w.match.optionalQuantifier)&&(v=F,g=w)}return g}function O(d,s){var b=this.maskset;return b.validPositions[d]?b.validPositions[d]:(s||h.call(this,d))[0]}function x(d,s,b){function l(r){for(var c,v=[],g=-1,_=0,m=r.length;_<m;_++)if(r.charAt(_)==="-")for(c=r.charCodeAt(_+1);++g<c;)v.push(String.fromCharCode(g));else g=r.charCodeAt(_),v.push(r.charAt(_));return v.join("")}return d.match.def===s.match.nativeDef||!(!(b.regex||d.match.fn instanceof RegExp&&s.match.fn instanceof RegExp)||d.match.static===!0||s.match.static===!0)&&l(s.match.fn.toString().replace(/[[\]/]/g,"")).indexOf(l(d.match.fn.toString().replace(/[[\]/]/g,"")))!==-1}function h(d,s,b){var l,r,c=this,v=this.dependencyLib,g=this.maskset,_=this.opts,m=this.el,w=g.maskToken,F=s?b:0,I=s?s.slice():[0],L=[],A=!1,N=s?s.join(""):"";function E(H,G,q,$){function K(B,U,W){function le(Z,ee){var J=ee.matches.indexOf(Z)===0;return J||ee.matches.every(function(X,re){return X.isQuantifier===!0?J=le(Z,ee.matches[re-1]):Object.prototype.hasOwnProperty.call(X,"matches")&&(J=le(Z,X)),!J}),J}function Y(Z,ee,J){var X,re;if((g.tests[Z]||g.validPositions[Z])&&(g.tests[Z]||[g.validPositions[Z]]).every(function(ue,Ce){if(ue.mloc[ee])return X=ue,!1;var fe=J!==void 0?J:ue.alternation,he=ue.locator[fe]!==void 0?ue.locator[fe].toString().indexOf(ee):-1;return(re===void 0||he<re)&&he!==-1&&(X=ue,re=he),!0}),X){var ve=X.locator[X.alternation];return(X.mloc[ee]||X.mloc[ve]||X.locator).slice((J!==void 0?J:X.alternation)+1)}return J!==void 0?Y(Z,ee):void 0}function ie(Z,ee){var J=Z.alternation,X=ee===void 0||J===ee.alternation&&Z.locator[J].toString().indexOf(ee.locator[J])===-1;if(!X&&J>ee.alternation){for(var re=ee.alternation;re<J;re++)if(Z.locator[re]!==ee.locator[re]){J=re,X=!0;break}}if(X){Z.mloc=Z.mloc||{};var ve=Z.locator[J];if(ve!==void 0){if(typeof ve=="string"&&(ve=ve.split(",")[0]),Z.mloc[ve]===void 0&&(Z.mloc[ve]=Z.locator.slice()),ee!==void 0){for(var ue in ee.mloc)typeof ue=="string"&&(ue=ue.split(",")[0]),Z.mloc[ue]===void 0&&(Z.mloc[ue]=ee.mloc[ue]);Z.locator[J]=Object.keys(Z.mloc).join(",")}return!0}Z.alternation=void 0}return!1}function ce(Z,ee){if(Z.locator.length!==ee.locator.length)return!1;for(var J=Z.alternation+1;J<Z.locator.length;J++)if(Z.locator[J]!==ee.locator[J])return!1;return!0}if(F>d+_._maxTestPos)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+g.mask;if(F===d&&B.matches===void 0){if(L.push({match:B,locator:U.reverse(),cd:N,mloc:{}}),!B.optionality||W!==void 0||!(_.definitions&&_.definitions[B.nativeDef]&&_.definitions[B.nativeDef].optional||y.default.prototype.definitions[B.nativeDef]&&y.default.prototype.definitions[B.nativeDef].optional))return!0;A=!0,F=d}else if(B.matches!==void 0){if(B.isGroup&&W!==B)return function(){if(B=K(H.matches[H.matches.indexOf(B)+1],U,W))return!0}();if(B.isOptional)return function(){var Z=B,ee=L.length;if(B=E(B,G,U,W),L.length>0){if(L.forEach(function(J,X){X>=ee&&(J.match.optionality=J.match.optionality?J.match.optionality+1:1)}),l=L[L.length-1].match,W!==void 0||!le(l,Z))return B;A=!0,F=d}}();if(B.isAlternator)return function(){c.hasAlternator=!0;var Z,ee,J,X=B,re=[],ve=L.slice(),ue=U.length,Ce=!1,fe=G.length>0?G.shift():-1;if(fe===-1||typeof fe=="string"){var he,me=F,dt=G.slice(),ke=[];if(typeof fe=="string")ke=fe.split(",");else for(he=0;he<X.matches.length;he++)ke.push(he.toString());if(g.excludes[d]!==void 0){for(var Nt=ke.slice(),Ze=0,$t=g.excludes[d].length;Ze<$t;Ze++){var ft=g.excludes[d][Ze].toString().split(":");U.length==ft[1]&&ke.splice(ke.indexOf(ft[0]),1)}ke.length===0&&(delete g.excludes[d],ke=Nt)}(_.keepStatic===!0||isFinite(parseInt(_.keepStatic))&&me>=_.keepStatic)&&(ke=ke.slice(0,1));for(var De=0;De<ke.length;De++){he=parseInt(ke[De]),L=[],G=typeof fe=="string"&&Y(F,he,ue)||dt.slice();var Le=X.matches[he];if(Le&&K(Le,[he].concat(U),W))B=!0;else if(De===0&&(Ce=!0),Le&&Le.matches&&Le.matches.length>X.matches[0].matches.length)break;Z=L.slice(),F=me,L=[];for(var We=0;We<Z.length;We++){var de=Z[We],Ve=!1;de.match.jit=de.match.jit||Ce,de.alternation=de.alternation||ue,ie(de);for(var Je=0;Je<re.length;Je++){var we=re[Je];if(typeof fe!="string"||de.alternation!==void 0&&ke.includes(de.locator[de.alternation].toString())){if(de.match.nativeDef===we.match.nativeDef){Ve=!0,ie(we,de);break}if(x(de,we,_)){ie(de,we)&&(Ve=!0,re.splice(re.indexOf(we),0,de));break}if(x(we,de,_)){ie(we,de);break}if(J=we,(ee=de).match.static===!0&&J.match.static!==!0&&J.match.fn.test(ee.match.def,g,d,!1,_,!1)){ce(de,we)||m.inputmask.userOptions.keepStatic!==void 0?ie(de,we)&&(Ve=!0,re.splice(re.indexOf(we),0,de)):_.keepStatic=!0;break}}}Ve||re.push(de)}}L=ve.concat(re),F=d,A=L.length>0,B=re.length>0,G=dt.slice()}else B=K(X.matches[fe]||H.matches[fe],[fe].concat(U),W);if(B)return!0}();if(B.isQuantifier&&W!==H.matches[H.matches.indexOf(B)-1])return function(){for(var Z=B,ee=!1,J=G.length>0?G.shift():0;J<(isNaN(Z.quantifier.max)?J+1:Z.quantifier.max)&&F<=d;J++){var X=H.matches[H.matches.indexOf(Z)-1];if(B=K(X,[J].concat(U),X)){if(L.forEach(function(re,ve){(l=P(X,re.match)?re.match:L[L.length-1].match).optionalQuantifier=J>=Z.quantifier.min,l.jit=(J+1)*(X.matches.indexOf(l)+1)>Z.quantifier.jit,l.optionalQuantifier&&le(l,X)&&(A=!0,F=d,_.greedy&&g.validPositions[d-1]==null&&J>Z.quantifier.min&&["*","+"].indexOf(Z.quantifier.max)!=-1&&(L.pop(),N=void 0),ee=!0,B=!1),!ee&&l.jit&&(g.jitOffset[d]=X.matches.length-X.matches.indexOf(l))}),ee)break;return!0}}}();if(B=E(B,G,U,W))return!0}else F++}for(var z=G.length>0?G.shift():0;z<H.matches.length;z++)if(H.matches[z].isQuantifier!==!0){var Q=K(H.matches[z],[z].concat(q),$);if(Q&&F===d)return Q;if(F>d)break}}function P(H,G){var q=H.matches.indexOf(G)!=-1;return q||H.matches.forEach(function($,K){$.matches===void 0||q||(q=P($,G))}),q}if(d>-1){if(s===void 0){for(var V,D=d-1;(V=g.validPositions[D]||g.tests[D])===void 0&&D>-1;)D--;V!==void 0&&D>-1&&(I=function(H,G){var q,$=[];return Array.isArray(G)||(G=[G]),G.length>0&&(G[0].alternation===void 0||_.keepStatic===!0?($=C.call(c,H,G.slice()).locator.slice()).length===0&&($=G[0].locator.slice()):G.forEach(function(K){K.def!==""&&($.length===0?(q=K.alternation,$=K.locator.slice()):K.locator[q]&&$[q].toString().indexOf(K.locator[q])===-1&&($[q]+=","+K.locator[q]))})),$}(D,V),N=I.join(""),F=D)}if(g.tests[d]&&g.tests[d][0].cd===N)return g.tests[d];for(var R=I.shift();R<w.length&&!(E(w[R],I,[R])&&F===d||F>d);R++);}return(L.length===0||A)&&L.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:N}),s!==void 0&&g.tests[d]?r=v.extend(!0,[],L):(g.tests[d]=v.extend(!0,[],L),r=g.tests[d]),L.forEach(function(H){H.match.optionality=H.match.defOptionality||!1}),r}},7215:function(a,f,k){Object.defineProperty(f,"__esModule",{value:!0}),f.alternate=j,f.checkAlternationMatch=function(l,r,c){for(var v,g=this.opts.greedy?r:r.slice(0,1),_=!1,m=c!==void 0?c.split(","):[],w=0;w<m.length;w++)(v=l.indexOf(m[w]))!==-1&&l.splice(v,1);for(var F=0;F<l.length;F++)if(g.includes(l[F])){_=!0;break}return _},f.handleRemove=function(l,r,c,v,g){var _=this,m=this.maskset,w=this.opts;if((w.numericInput||_.isRTL)&&(r===y.keys.Backspace?r=y.keys.Delete:r===y.keys.Delete&&(r=y.keys.Backspace),_.isRTL)){var F=c.end;c.end=c.begin,c.begin=F}var I,L=S.getLastValidPosition.call(_,void 0,!0);if(c.end>=S.getBuffer.call(_).length&&L>=c.end&&(c.end=L+1),r===y.keys.Backspace?c.end-c.begin<1&&(c.begin=S.seekPrevious.call(_,c.begin)):r===y.keys.Delete&&c.begin===c.end&&(c.end=S.isMask.call(_,c.end,!0,!0)?c.end+1:S.seekNext.call(_,c.end)+1),(I=b.call(_,c))!==!1){if(v!==!0&&w.keepStatic!==!1||w.regex!==null&&u.getTest.call(_,c.begin).match.def.indexOf("|")!==-1){var A=j.call(_,!0);if(A){var N=A.caret!==void 0?A.caret:A.pos?S.seekNext.call(_,A.pos.begin?A.pos.begin:A.pos):S.getLastValidPosition.call(_,-1,!0);(r!==y.keys.Delete||c.begin>N)&&c.begin}}v!==!0&&(m.p=r===y.keys.Delete?c.begin+I:c.begin,m.p=S.determineNewCaretPosition.call(_,{begin:m.p,end:m.p},!1,w.insertMode===!1&&r===y.keys.Backspace?"none":void 0).begin)}},f.isComplete=C,f.isSelection=O,f.isValid=x,f.refreshFromBuffer=d,f.revalidateMask=b;var u=k(4713),y=k(2839),S=k(8711),M=k(6030);function j(l,r,c,v,g,_){var m,w,F,I,L,A,N,E,P,V,D,R=this,H=this.dependencyLib,G=this.opts,q=R.maskset,$=H.extend(!0,[],q.validPositions),K=H.extend(!0,{},q.tests),z=!1,Q=!1,B=g!==void 0?g:S.getLastValidPosition.call(R);if(_&&(V=_.begin,D=_.end,_.begin>_.end&&(V=_.end,D=_.begin)),B===-1&&g===void 0)m=0,w=(I=u.getTest.call(R,m)).alternation;else for(;B>=0;B--)if((F=q.validPositions[B])&&F.alternation!==void 0){if(B<=(l||0)&&I&&I.locator[F.alternation]!==F.locator[F.alternation])break;m=B,w=q.validPositions[m].alternation,I=F}if(w!==void 0){N=parseInt(m),q.excludes[N]=q.excludes[N]||[],l!==!0&&q.excludes[N].push((0,u.getDecisionTaker)(I)+":"+I.alternation);var U=[],W=-1;for(L=N;L<S.getLastValidPosition.call(R,void 0,!0)+1;L++)W===-1&&l<=L&&r!==void 0&&(U.push(r),W=U.length-1),(A=q.validPositions[L])&&A.generatedInput!==!0&&(_===void 0||L<V||L>=D)&&U.push(A.input),delete q.validPositions[L];for(W===-1&&r!==void 0&&(U.push(r),W=U.length-1);q.excludes[N]!==void 0&&q.excludes[N].length<10;){for(q.tests={},S.resetMaskSet.call(R,!0),z=!0,L=0;L<U.length&&(E=z.caret||S.getLastValidPosition.call(R,void 0,!0)+1,P=U[L],z=x.call(R,E,P,!1,v,!0));L++)L===W&&(Q=z),l==1&&z&&(Q={caretPos:L});if(z)break;if(S.resetMaskSet.call(R),I=u.getTest.call(R,N),q.validPositions=H.extend(!0,[],$),q.tests=H.extend(!0,{},K),!q.excludes[N]){Q=j.call(R,l,r,c,v,N-1,_);break}var le=(0,u.getDecisionTaker)(I);if(q.excludes[N].indexOf(le+":"+I.alternation)!==-1){Q=j.call(R,l,r,c,v,N-1,_);break}for(q.excludes[N].push(le+":"+I.alternation),L=N;L<S.getLastValidPosition.call(R,void 0,!0)+1;L++)delete q.validPositions[L]}}return Q&&G.keepStatic===!1||delete q.excludes[N],Q}function T(l,r,c){var v=this.opts,g=this.maskset;switch(v.casing||r.casing){case"upper":l=l.toUpperCase();break;case"lower":l=l.toLowerCase();break;case"title":var _=g.validPositions[c-1];l=c===0||_&&_.input===String.fromCharCode(y.keyCode.Space)?l.toUpperCase():l.toLowerCase();break;default:if(typeof v.casing=="function"){var m=Array.prototype.slice.call(arguments);m.push(g.validPositions),l=v.casing.apply(this,m)}}return l}function C(l){var r=this,c=this.opts,v=this.maskset;if(typeof c.isComplete=="function")return c.isComplete(l,c);if(c.repeat!=="*"){var g=!1,_=S.determineLastRequiredPosition.call(r,!0),m=S.seekPrevious.call(r,_.l);if(_.def===void 0||_.def.newBlockMarker||_.def.optionality||_.def.optionalQuantifier){g=!0;for(var w=0;w<=m;w++){var F=u.getTestTemplate.call(r,w).match;if(F.static!==!0&&v.validPositions[w]===void 0&&F.optionality!==!0&&F.optionalQuantifier!==!0||F.static===!0&&l[w]!==u.getPlaceholder.call(r,w,F)){g=!1;break}}}return g}}function O(l){var r=this.opts.insertMode?0:1;return this.isRTL?l.begin-l.end>r:l.end-l.begin>r}function x(l,r,c,v,g,_,m){var w=this,F=this.dependencyLib,I=this.opts,L=w.maskset;c=c===!0;var A=l;function N(z){if(z!==void 0){if(z.remove!==void 0&&(Array.isArray(z.remove)||(z.remove=[z.remove]),z.remove.sort(function(B,U){return w.isRTL?B.pos-U.pos:U.pos-B.pos}).forEach(function(B){b.call(w,{begin:B,end:B+1})}),z.remove=void 0),z.insert!==void 0&&(Array.isArray(z.insert)||(z.insert=[z.insert]),z.insert.sort(function(B,U){return w.isRTL?U.pos-B.pos:B.pos-U.pos}).forEach(function(B){B.c!==""&&x.call(w,B.pos,B.c,B.strict===void 0||B.strict,B.fromIsValid!==void 0?B.fromIsValid:v)}),z.insert=void 0),z.refreshFromBuffer&&z.buffer){var Q=z.refreshFromBuffer;d.call(w,Q===!0?Q:Q.start,Q.end,z.buffer),z.refreshFromBuffer=void 0}z.rewritePosition!==void 0&&(A=z.rewritePosition,z=!0)}return z}function E(z,Q,B){var U=!1;return u.getTests.call(w,z).every(function(W,le){var Y=W.match;if(S.getBuffer.call(w,!0),(U=(!Y.jit||L.validPositions[S.seekPrevious.call(w,z)]!==void 0)&&(Y.fn!=null?Y.fn.test(Q,L,z,B,I,O.call(w,l)):(Q===Y.def||Q===I.skipOptionalPartCharacter)&&Y.def!==""&&{c:u.getPlaceholder.call(w,z,Y,!0)||Y.def,pos:z}))!==!1){var ie=U.c!==void 0?U.c:Q,ce=z;return ie=ie===I.skipOptionalPartCharacter&&Y.static===!0?u.getPlaceholder.call(w,z,Y,!0)||Y.def:ie,(U=N(U))!==!0&&U.pos!==void 0&&U.pos!==z&&(ce=U.pos),U!==!0&&U.pos===void 0&&U.c===void 0||b.call(w,l,F.extend({},W,{input:T.call(w,ie,Y,ce)}),v,ce)===!1&&(U=!1),!1}return!0}),U}l.begin!==void 0&&(A=w.isRTL?l.end:l.begin);var P=!0,V=F.extend(!0,{},L.validPositions);if(I.keepStatic===!1&&L.excludes[A]!==void 0&&g!==!0&&v!==!0)for(var D=A;D<(w.isRTL?l.begin:l.end);D++)L.excludes[D]!==void 0&&(L.excludes[D]=void 0,delete L.tests[D]);if(typeof I.preValidation=="function"&&v!==!0&&_!==!0&&(P=N(P=I.preValidation.call(w,S.getBuffer.call(w),A,r,O.call(w,l),I,L,l,c||g))),P===!0){if(P=E(A,r,c),(!c||v===!0)&&P===!1&&_!==!0){var R=L.validPositions[A];if(!R||R.match.static!==!0||R.match.def!==r&&r!==I.skipOptionalPartCharacter){if(I.insertMode||L.validPositions[S.seekNext.call(w,A)]===void 0||l.end>A){var H=!1;if(L.jitOffset[A]&&L.validPositions[S.seekNext.call(w,A)]===void 0&&(P=x.call(w,A+L.jitOffset[A],r,!0,!0))!==!1&&(g!==!0&&(P.caret=A),H=!0),l.end>A&&(L.validPositions[A]=void 0),!H&&!S.isMask.call(w,A,I.keepStatic&&A===0)){for(var G=A+1,q=S.seekNext.call(w,A,!1,A!==0);G<=q;G++)if((P=E(G,r,c))!==!1){P=s.call(w,A,P.pos!==void 0?P.pos:G)||P,A=G;break}}}}else P={caret:S.seekNext.call(w,A)}}w.hasAlternator&&g!==!0&&!c&&(P===!1&&I.keepStatic&&(C.call(w,S.getBuffer.call(w))||A===0)?P=j.call(w,A,r,c,v,void 0,l):(O.call(w,l)&&L.tests[A]&&L.tests[A].length>1&&I.keepStatic||P==1&&I.numericInput!==!0&&L.tests[A]&&L.tests[A].length>1&&S.getLastValidPosition.call(w,void 0,!0)>A)&&(P=j.call(w,!0))),P===!0&&(P={pos:A})}if(typeof I.postValidation=="function"&&v!==!0&&_!==!0){var $=I.postValidation.call(w,S.getBuffer.call(w,!0),l.begin!==void 0?w.isRTL?l.end:l.begin:l,r,P,I,L,c,m);$!==void 0&&(P=$===!0?P:$)}P&&P.pos===void 0&&(P.pos=A),P===!1||_===!0?(S.resetMaskSet.call(w,!0),L.validPositions=F.extend(!0,[],V)):s.call(w,void 0,A,!0);var K=N(P);return w.maxLength!==void 0&&S.getBuffer.call(w).length>w.maxLength&&!v&&(S.resetMaskSet.call(w,!0),L.validPositions=F.extend(!0,[],V),K=!1),K}function h(l,r,c){for(var v=this.maskset,g=!1,_=u.getTests.call(this,l),m=0;m<_.length;m++){if(_[m].match&&(_[m].match.nativeDef===r.match[c.shiftPositions?"def":"nativeDef"]&&(!c.shiftPositions||!r.match.static)||_[m].match.nativeDef===r.match.nativeDef||c.regex&&!_[m].match.static&&_[m].match.fn.test(r.input,v,l,!1,c))){g=!0;break}if(_[m].match&&_[m].match.def===r.match.nativeDef){g=void 0;break}}return g===!1&&v.jitOffset[l]!==void 0&&(g=h.call(this,l+v.jitOffset[l],r,c)),g}function d(l,r,c){var v,g,_=this,m=this.maskset,w=this.opts,F=this.dependencyLib,I=w.skipOptionalPartCharacter,L=_.isRTL?c.slice().reverse():c;if(w.skipOptionalPartCharacter="",l===!0)S.resetMaskSet.call(_),m.tests={},l=0,r=c.length,g=S.determineNewCaretPosition.call(_,{begin:0,end:0},!1).begin;else{for(v=l;v<r;v++)delete m.validPositions[v];g=l}var A=new F.Event("keypress");for(v=l;v<r;v++){A.key=L[v].toString(),_.ignorable=!1;var N=M.EventHandlers.keypressEvent.call(_,A,!0,!1,!1,g);N!==!1&&N!==void 0&&(g=N.forwardPosition)}w.skipOptionalPartCharacter=I}function s(l,r,c){var v=this,g=this.maskset,_=this.dependencyLib;if(l===void 0)for(l=r-1;l>0&&!g.validPositions[l];l--);for(var m=l;m<r;m++)if(g.validPositions[m]===void 0&&!S.isMask.call(v,m,!1)&&(m==0?u.getTest.call(v,m):g.validPositions[m-1])){var w=u.getTests.call(v,m).slice();w[w.length-1].match.def===""&&w.pop();var F,I=u.determineTestTemplate.call(v,m,w);if(I&&(I.match.jit!==!0||I.match.newBlockMarker==="master"&&(F=g.validPositions[m+1])&&F.match.optionalQuantifier===!0)&&((I=_.extend({},I,{input:u.getPlaceholder.call(v,m,I.match,!0)||I.match.def})).generatedInput=!0,b.call(v,m,I,!0),c!==!0)){var L=g.validPositions[r].input;return g.validPositions[r]=void 0,x.call(v,r,L,!0,!0)}}}function b(l,r,c,v){var g=this,_=this.maskset,m=this.opts,w=this.dependencyLib;function F($,K,z){var Q=K[$];if(Q!==void 0&&Q.match.static===!0&&Q.match.optionality!==!0&&(K[0]===void 0||K[0].alternation===void 0)){var B=z.begin<=$-1?K[$-1]&&K[$-1].match.static===!0&&K[$-1]:K[$-1],U=z.end>$+1?K[$+1]&&K[$+1].match.static===!0&&K[$+1]:K[$+1];return B&&U}return!1}var I=0,L=l.begin!==void 0?l.begin:l,A=l.end!==void 0?l.end:l,N=!0;if(l.begin>l.end&&(L=l.end,A=l.begin),v=v!==void 0?v:L,c===void 0&&(L!==A||m.insertMode&&_.validPositions[v]!==void 0||r===void 0||r.match.optionalQuantifier||r.match.optionality)){var E,P=w.extend(!0,{},_.validPositions),V=S.getLastValidPosition.call(g,void 0,!0);for(_.p=L,E=V;E>=L;E--)delete _.validPositions[E],r===void 0&&delete _.tests[E+1];var D,R,H=v,G=H;for(r&&(_.validPositions[v]=w.extend(!0,{},r),G++,H++),E=r?A:A-1;E<=V;E++){if((D=P[E])!==void 0&&D.generatedInput!==!0&&(E>=A||E>=L&&F(E,P,{begin:L,end:A}))){for(;u.getTest.call(g,G).match.def!=="";){if((R=h.call(g,G,D,m))!==!1||D.match.def==="+"){D.match.def==="+"&&S.getBuffer.call(g,!0);var q=x.call(g,G,D.input,D.match.def!=="+",!0);if(N=q!==!1,H=(q.pos||G)+1,!N&&R)break}else N=!1;if(N){r===void 0&&D.match.static&&E===l.begin&&I++;break}if(!N&&S.getBuffer.call(g),G>_.maskLength)break;G++}u.getTest.call(g,G).match.def==""&&(N=!1),G=H}if(!N)break}if(!N)return _.validPositions=w.extend(!0,[],P),S.resetMaskSet.call(g,!0),!1}else r&&u.getTest.call(g,v).match.cd===r.match.cd&&(_.validPositions[v]=w.extend(!0,{},r));return S.resetMaskSet.call(g,!0),I}}},i={};function o(a){var f=i[a];if(f!==void 0)return f.exports;var k=i[a]={exports:{}};return t[a](k,k.exports,o),k.exports}var p={};return function(){var a,f=p;Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,o(7149),o(3194),o(9302),o(4013),o(3851),o(219),o(207),o(5296);var k=((a=o(2394))&&a.__esModule?a:{default:a}).default;f.default=k}(),p}()})})(Ct);var zt=Ct.exports;const gt=Kt(zt);var Ut=Object.defineProperty,Qt=(n,e,t)=>e in n?Ut(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ne=(n,e,t)=>(Qt(n,typeof e!="symbol"?e+"":e,t),t);const Yt=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Zt=/^-?[0-9]\d*$/,Wt=/^(?=.*[A-Za-z])(?=.*\d).{8,}$/,Jt=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,Xt=n=>{let e=n;return typeof n=="string"&&(e=n.trim()),!e},ei=n=>Yt.test(n),ti=(n,e)=>n.length>e,ii=(n,e)=>n.length<e,ni=n=>typeof n!="string"?!1:!isNaN(+n)&&!isNaN(parseFloat(n)),ri=n=>Zt.test(n),si=n=>Wt.test(n),oi=n=>Jt.test(n),ai=(n,e)=>n>e,li=(n,e)=>n<e,Oe=n=>typeof n!="string"||n==="";var te=(n=>(n.Required="required",n.Email="email",n.MinLength="minLength",n.MaxLength="maxLength",n.Password="password",n.Number="number",n.Integer="integer",n.MaxNumber="maxNumber",n.MinNumber="minNumber",n.StrongPassword="strongPassword",n.CustomRegexp="customRegexp",n.MinFilesCount="minFilesCount",n.MaxFilesCount="maxFilesCount",n.Files="files",n))(te||{}),st=(n=>(n.Required="required",n))(st||{}),Ft=(n=>(n.Label="label",n.LabelArrow="labelArrow",n))(Ft||{});const vt=[{key:te.Required,dict:{en:"The field is required"}},{key:te.Email,dict:{en:"Email has invalid format"}},{key:te.MaxLength,dict:{en:"The field must contain a maximum of :value characters"}},{key:te.MinLength,dict:{en:"The field must contain a minimum of :value characters"}},{key:te.Password,dict:{en:"Password must contain minimum eight characters, at least one letter and one number"}},{key:te.StrongPassword,dict:{en:"Password should contain minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character"}},{key:te.Number,dict:{en:"Value should be a number"}},{key:te.MaxNumber,dict:{en:"Number should be less or equal than :value"}},{key:te.MinNumber,dict:{en:"Number should be more or equal than :value"}},{key:te.MinFilesCount,dict:{en:"Files count should be more or equal than :value"}},{key:te.MaxFilesCount,dict:{en:"Files count should be less or equal than :value"}},{key:te.Files,dict:{en:"Uploaded files have one or several invalid properties (extension/size/type etc)."}}],ci="Value is incorrect",Ae=n=>typeof n=="object"&&n!==null&&"then"in n&&typeof n.then=="function",ui=n=>{let e=n;const t=[];for(;e;)t.unshift(e),e=e.parentNode;return t},di=(n,e)=>{const t=[...e].reverse();for(let i=0,o=t.length;i<o;++i){const p=t[i];for(const a in n){const f=n[a];if(f.groupElem===p)return[a,f]}}return null},xe=n=>Array.isArray(n)?n.filter(e=>e.length>0):typeof n=="string"&&n.trim()?[...n.split(" ").filter(e=>e.length>0)]:[],Te=n=>n instanceof Element||n instanceof HTMLDocument,fi=".just-validate-error-label[data-tooltip=true]{position:fixed;padding:4px 8px;background:#423f3f;color:#fff;white-space:nowrap;z-index:10;border-radius:4px;transform:translateY(-5px)}.just-validate-error-label[data-tooltip=true]:before{content:'';width:0;height:0;border-left:solid 5px transparent;border-right:solid 5px transparent;border-bottom:solid 5px #423f3f;position:absolute;z-index:3;display:block;bottom:-5px;transform:rotate(180deg);left:calc(50% - 5px)}.just-validate-error-label[data-tooltip=true][data-direction=left]{transform:translateX(-5px)}.just-validate-error-label[data-tooltip=true][data-direction=left]:before{right:-7px;bottom:auto;left:auto;top:calc(50% - 2px);transform:rotate(90deg)}.just-validate-error-label[data-tooltip=true][data-direction=right]{transform:translateX(5px)}.just-validate-error-label[data-tooltip=true][data-direction=right]:before{right:auto;bottom:auto;left:-7px;top:calc(50% - 2px);transform:rotate(-90deg)}.just-validate-error-label[data-tooltip=true][data-direction=bottom]{transform:translateY(5px)}.just-validate-error-label[data-tooltip=true][data-direction=bottom]:before{right:auto;bottom:auto;left:calc(50% - 5px);top:-5px;transform:rotate(0)}",Be=5,Xe={errorFieldStyle:{color:"#b81111",border:"1px solid #B81111"},errorFieldCssClass:"just-validate-error-field",successFieldCssClass:"just-validate-success-field",errorLabelStyle:{color:"#b81111"},errorLabelCssClass:"just-validate-error-label",successLabelCssClass:"just-validate-success-label",focusInvalidField:!0,lockForm:!0,testingMode:!1,validateBeforeSubmitting:!1,submitFormAutomatically:!1};class pi{constructor(e,t,i){ne(this,"form",null),ne(this,"fields",{}),ne(this,"groupFields",{}),ne(this,"errors",{}),ne(this,"isValid",!1),ne(this,"isSubmitted",!1),ne(this,"globalConfig",Xe),ne(this,"errorLabels",{}),ne(this,"successLabels",{}),ne(this,"eventListeners",[]),ne(this,"dictLocale",vt),ne(this,"currentLocale","en"),ne(this,"customStyleTags",{}),ne(this,"onSuccessCallback"),ne(this,"onFailCallback"),ne(this,"onValidateCallback"),ne(this,"tooltips",[]),ne(this,"lastScrollPosition"),ne(this,"isScrollTick"),ne(this,"fieldIds",new Map),ne(this,"getKeyByFieldSelector",o=>this.fieldIds.get(o)),ne(this,"getFieldSelectorByKey",o=>{for(const[p,a]of this.fieldIds)if(o===a)return p}),ne(this,"getCompatibleFields",()=>{const o={};return Object.keys(this.fields).forEach(p=>{let a=p;const f=this.getFieldSelectorByKey(p);typeof f=="string"&&(a=f),o[a]={...this.fields[p]}}),o}),ne(this,"setKeyByFieldSelector",o=>{if(this.fieldIds.has(o))return this.fieldIds.get(o);const p=String(this.fieldIds.size+1);return this.fieldIds.set(o,p),p}),ne(this,"refreshAllTooltips",()=>{this.tooltips.forEach(o=>{o.refresh()})}),ne(this,"handleDocumentScroll",()=>{this.lastScrollPosition=window.scrollY,this.isScrollTick||(window.requestAnimationFrame(()=>{this.refreshAllTooltips(),this.isScrollTick=!1}),this.isScrollTick=!0)}),ne(this,"formSubmitHandler",o=>{o.preventDefault(),this.isSubmitted=!0,this.validateHandler(o)}),ne(this,"handleFieldChange",o=>{let p;for(const a in this.fields)if(this.fields[a].elem===o){p=a;break}p&&(this.fields[p].touched=!0,this.validateField(p,!0))}),ne(this,"handleGroupChange",o=>{let p;for(const a in this.groupFields)if(this.groupFields[a].elems.find(k=>k===o)){p=a;break}p&&(this.groupFields[p].touched=!0,this.validateGroup(p,!0))}),ne(this,"handlerChange",o=>{o.target&&(this.handleFieldChange(o.target),this.handleGroupChange(o.target),this.renderErrors())}),this.initialize(e,t,i)}initialize(e,t,i){if(this.form=null,this.errors={},this.isValid=!1,this.isSubmitted=!1,this.globalConfig=Xe,this.errorLabels={},this.successLabels={},this.eventListeners=[],this.customStyleTags={},this.tooltips=[],this.currentLocale="en",typeof e=="string"){const o=document.querySelector(e);if(!o)throw Error(`Form with ${e} selector not found! Please check the form selector`);this.setForm(o)}else if(e instanceof HTMLFormElement)this.setForm(e);else throw Error("Form selector is not valid. Please specify a string selector or a DOM element.");if(this.globalConfig={...Xe,...t},i&&(this.dictLocale=[...i,...vt]),this.isTooltip()){const o=document.createElement("style");o.textContent=fi,this.customStyleTags[Ft.Label]=document.head.appendChild(o),this.addListener("scroll",document,this.handleDocumentScroll)}}getLocalisedString(e,t,i){var o;const p=i??e;let a=(o=this.dictLocale.find(f=>f.key===p))==null?void 0:o.dict[this.currentLocale];if(a||i&&(a=i),a&&t!==void 0)switch(e){case te.MaxLength:case te.MinLength:case te.MaxNumber:case te.MinNumber:case te.MinFilesCount:case te.MaxFilesCount:a=a.replace(":value",String(t))}return a||i||ci}getFieldErrorMessage(e,t){const i=typeof e.errorMessage=="function"?e.errorMessage(this.getElemValue(t),this.fields):e.errorMessage;return this.getLocalisedString(e.rule,e.value,i)}getFieldSuccessMessage(e,t){const i=typeof e=="function"?e(this.getElemValue(t),this.fields):e;return this.getLocalisedString(void 0,void 0,i)}getGroupErrorMessage(e){return this.getLocalisedString(e.rule,void 0,e.errorMessage)}getGroupSuccessMessage(e){if(e.successMessage)return this.getLocalisedString(void 0,void 0,e.successMessage)}setFieldInvalid(e,t){this.fields[e].isValid=!1,this.fields[e].errorMessage=this.getFieldErrorMessage(t,this.fields[e].elem)}setFieldValid(e,t){this.fields[e].isValid=!0,t!==void 0&&(this.fields[e].successMessage=this.getFieldSuccessMessage(t,this.fields[e].elem))}setGroupInvalid(e,t){this.groupFields[e].isValid=!1,this.groupFields[e].errorMessage=this.getGroupErrorMessage(t)}setGroupValid(e,t){this.groupFields[e].isValid=!0,this.groupFields[e].successMessage=this.getGroupSuccessMessage(t)}getElemValue(e){switch(e.type){case"checkbox":return e.checked;case"file":return e.files;default:return e.value}}validateGroupRule(e,t,i){switch(i.rule){case st.Required:t.every(o=>!o.checked)?this.setGroupInvalid(e,i):this.setGroupValid(e,i)}}validateFieldRule(e,t,i,o=!1){const p=i.value,a=this.getElemValue(t);if(i.plugin){i.plugin(a,this.getCompatibleFields())||this.setFieldInvalid(e,i);return}switch(i.rule){case te.Required:{Xt(a)&&this.setFieldInvalid(e,i);break}case te.Email:{if(Oe(a))break;ei(a)||this.setFieldInvalid(e,i);break}case te.MaxLength:{if(p===void 0){console.error(`Value for ${i.rule} rule for [${e}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(e,i);break}if(typeof p!="number"){console.error(`Value for ${i.rule} rule for [${e}] should be a number. The field will be always invalid.`),this.setFieldInvalid(e,i);break}if(Oe(a))break;ti(a,p)&&this.setFieldInvalid(e,i);break}case te.MinLength:{if(p===void 0){console.error(`Value for ${i.rule} rule for [${e}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(e,i);break}if(typeof p!="number"){console.error(`Value for ${i.rule} rule for [${e}] should be a number. The field will be always invalid.`),this.setFieldInvalid(e,i);break}if(Oe(a))break;ii(a,p)&&this.setFieldInvalid(e,i);break}case te.Password:{if(Oe(a))break;si(a)||this.setFieldInvalid(e,i);break}case te.StrongPassword:{if(Oe(a))break;oi(a)||this.setFieldInvalid(e,i);break}case te.Number:{if(Oe(a))break;ni(a)||this.setFieldInvalid(e,i);break}case te.Integer:{if(Oe(a))break;ri(a)||this.setFieldInvalid(e,i);break}case te.MaxNumber:{if(p===void 0){console.error(`Value for ${i.rule} rule for [${e}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(e,i);break}if(typeof p!="number"){console.error(`Value for ${i.rule} rule for [${e}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(e,i);break}if(Oe(a))break;const f=+a;(Number.isNaN(f)||ai(f,p))&&this.setFieldInvalid(e,i);break}case te.MinNumber:{if(p===void 0){console.error(`Value for ${i.rule} rule for [${e}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(e,i);break}if(typeof p!="number"){console.error(`Value for ${i.rule} rule for [${e}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(e,i);break}if(Oe(a))break;const f=+a;(Number.isNaN(f)||li(f,p))&&this.setFieldInvalid(e,i);break}case te.CustomRegexp:{if(p===void 0){console.error(`Value for ${i.rule} rule for [${e}] field is not defined. This field will be always invalid.`),this.setFieldInvalid(e,i);return}let f;try{f=new RegExp(p)}catch{console.error(`Value for ${i.rule} rule for [${e}] should be a valid regexp. This field will be always invalid.`),this.setFieldInvalid(e,i);break}const k=String(a);k!==""&&!f.test(k)&&this.setFieldInvalid(e,i);break}case te.MinFilesCount:{if(p===void 0){console.error(`Value for ${i.rule} rule for [${e}] field is not defined. This field will be always invalid.`),this.setFieldInvalid(e,i);break}if(typeof p!="number"){console.error(`Value for ${i.rule} rule for [${e}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(e,i);break}if(Number.isFinite(a==null?void 0:a.length)&&a.length<p){this.setFieldInvalid(e,i);break}break}case te.MaxFilesCount:{if(p===void 0){console.error(`Value for ${i.rule} rule for [${e}] field is not defined. This field will be always invalid.`),this.setFieldInvalid(e,i);break}if(typeof p!="number"){console.error(`Value for ${i.rule} rule for [${e}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(e,i);break}if(Number.isFinite(a==null?void 0:a.length)&&a.length>p){this.setFieldInvalid(e,i);break}break}case te.Files:{if(p===void 0){console.error(`Value for ${i.rule} rule for [${e}] field is not defined. This field will be always invalid.`),this.setFieldInvalid(e,i);return}if(typeof p!="object"){console.error(`Value for ${i.rule} rule for [${e}] field should be an object. This field will be always invalid.`),this.setFieldInvalid(e,i);return}const f=p.files;if(typeof f!="object"){console.error(`Value for ${i.rule} rule for [${e}] field should be an object with files array. This field will be always invalid.`),this.setFieldInvalid(e,i);return}const k=(u,y)=>{const S=Number.isFinite(y.minSize)&&u.size<y.minSize,M=Number.isFinite(y.maxSize)&&u.size>y.maxSize,j=Array.isArray(y.names)&&!y.names.includes(u.name),T=Array.isArray(y.extensions)&&!y.extensions.includes(u.name.split(".")[u.name.split(".").length-1]),C=Array.isArray(y.types)&&!y.types.includes(u.type);return S||M||j||T||C};if(typeof a=="object"&&a!==null)for(let u=0,y=a.length;u<y;++u){const S=a.item(u);if(!S){this.setFieldInvalid(e,i);break}if(k(S,f)){this.setFieldInvalid(e,i);break}}break}default:{if(typeof i.validator!="function"){console.error(`Validator for custom rule for [${e}] field should be a function. This field will be always invalid.`),this.setFieldInvalid(e,i);return}const f=i.validator(a,this.getCompatibleFields());if(typeof f!="boolean"&&typeof f!="function"&&console.error(`Validator return value for [${e}] field should be boolean or function. It will be cast to boolean.`),typeof f=="function")if(o)this.fields[e].asyncCheckPending=!0;else{this.fields[e].asyncCheckPending=!1;const k=f();if(!Ae(k)){console.error(`Validator function for custom rule for [${e}] field should return a Promise. This field will be always invalid.`),this.setFieldInvalid(e,i);return}return k.then(u=>{u||this.setFieldInvalid(e,i)}).catch(()=>{this.setFieldInvalid(e,i)})}f||this.setFieldInvalid(e,i)}}}isFormValid(){let e=!0;for(let t=0,i=Object.values(this.fields).length;t<i;++t){const o=Object.values(this.fields)[t];if(o.isValid===void 0){e=void 0;break}if(o.isValid===!1){e=!1;break}}for(let t=0,i=Object.values(this.groupFields).length;t<i;++t){const o=Object.values(this.groupFields)[t];if(o.isValid===void 0){e=void 0;break}if(o.isValid===!1){e=!1;break}}return e}validateField(e,t=!1){var i;const o=this.fields[e];o.isValid=!0;const p=[];return[...o.rules].reverse().forEach(a=>{const f=this.validateFieldRule(e,o.elem,a,t);Ae(f)&&p.push(f)}),o.isValid&&this.setFieldValid(e,(i=o.config)==null?void 0:i.successMessage),Promise.allSettled(p).finally(()=>{var a;t&&((a=this.onValidateCallback)==null||a.call(this,{isValid:this.isFormValid(),isSubmitted:this.isSubmitted,fields:this.getCompatibleFields(),groups:{...this.groupFields}}))})}revalidateField(e){if(typeof e!="string"&&!Te(e))throw Error("Field selector is not valid. Please specify a string selector or a valid DOM element.");const t=this.getKeyByFieldSelector(e);return!t||!this.fields[t]?(console.error("Field not found. Check the field selector."),Promise.reject()):new Promise(i=>{this.validateField(t,!0).finally(()=>{this.clearFieldStyle(t),this.clearFieldLabel(t),this.renderFieldError(t,!0),i(!!this.fields[t].isValid)})})}revalidateGroup(e){if(typeof e!="string"&&!Te(e))throw Error("Group selector is not valid. Please specify a string selector or a valid DOM element.");const t=this.getKeyByFieldSelector(e);return!t||!this.groupFields[t]?(console.error("Group not found. Check the group selector."),Promise.reject()):new Promise(i=>{this.validateGroup(t).finally(()=>{this.clearFieldLabel(t),this.renderGroupError(t,!0),i(!!this.groupFields[t].isValid)})})}validateGroup(e,t=!1){const i=this.groupFields[e],o=[];return[...i.rules].reverse().forEach(p=>{const a=this.validateGroupRule(e,i.elems,p);Ae(a)&&o.push(a)}),Promise.allSettled(o).finally(()=>{var p;t&&((p=this.onValidateCallback)==null||p.call(this,{isValid:this.isFormValid(),isSubmitted:this.isSubmitted,fields:this.getCompatibleFields(),groups:{...this.groupFields}}))})}focusInvalidField(){for(const e in this.fields){const t=this.fields[e];if(!t.isValid){setTimeout(()=>t.elem.focus(),0);break}}}afterSubmitValidation(e=!1){this.renderErrors(e),this.globalConfig.focusInvalidField&&this.focusInvalidField()}validate(e=!1){return new Promise(t=>{const i=[];Object.keys(this.fields).forEach(o=>{const p=this.validateField(o);Ae(p)&&i.push(p)}),Object.keys(this.groupFields).forEach(o=>{const p=this.validateGroup(o);Ae(p)&&i.push(p)}),Promise.allSettled(i).then(()=>{var o;this.afterSubmitValidation(e),(o=this.onValidateCallback)==null||o.call(this,{isValid:this.isFormValid(),isSubmitted:this.isSubmitted,fields:this.getCompatibleFields(),groups:{...this.groupFields}}),t(!!i.length)})})}revalidate(){return new Promise(e=>{this.validateHandler(void 0,!0).finally(()=>{this.globalConfig.focusInvalidField&&this.focusInvalidField(),e(this.isValid)})})}validateHandler(e,t=!1){return this.globalConfig.lockForm&&this.lockForm(),this.validate(t).finally(()=>{var i,o,p;this.globalConfig.lockForm&&this.unlockForm(),this.isValid?((i=this.onSuccessCallback)==null||i.call(this,e),this.globalConfig.submitFormAutomatically&&((o=e==null?void 0:e.currentTarget)==null||o.submit())):(p=this.onFailCallback)==null||p.call(this,this.getCompatibleFields(),this.groupFields)})}setForm(e){this.form=e,this.form.setAttribute("novalidate","novalidate"),this.removeListener("submit",this.form,this.formSubmitHandler),this.addListener("submit",this.form,this.formSubmitHandler)}addListener(e,t,i){t.addEventListener(e,i),this.eventListeners.push({type:e,elem:t,func:i})}removeListener(e,t,i){t.removeEventListener(e,i),this.eventListeners=this.eventListeners.filter(o=>o.type!==e||o.elem!==t)}addField(e,t,i){if(typeof e!="string"&&!Te(e))throw Error("Field selector is not valid. Please specify a string selector or a valid DOM element.");let o;if(typeof e=="string"?o=this.form.querySelector(e):o=e,!o)throw Error("Field doesn't exist in the DOM! Please check the field selector.");if(!Array.isArray(t)||!t.length)throw Error("Rules argument should be an array and should contain at least 1 element.");t.forEach(a=>{if(!("rule"in a||"validator"in a||"plugin"in a))throw Error("Rules argument must contain at least one rule or validator property.");if(!a.validator&&!a.plugin&&(!a.rule||!Object.values(te).includes(a.rule)))throw Error(`Rule should be one of these types: ${Object.values(te).join(", ")}. Provided value: ${a.rule}`)});const p=this.setKeyByFieldSelector(e);return this.fields[p]={elem:o,rules:t,isValid:void 0,touched:!1,config:i},this.setListeners(o),(this.isSubmitted||this.globalConfig.validateBeforeSubmitting)&&this.validateField(p),this}removeField(e){if(typeof e!="string"&&!Te(e))throw Error("Field selector is not valid. Please specify a string selector or a valid DOM element.");const t=this.getKeyByFieldSelector(e);if(!t||!this.fields[t])return console.error("Field not found. Check the field selector."),this;const i=this.getListenerType(this.fields[t].elem.type);return this.removeListener(i,this.fields[t].elem,this.handlerChange),this.clearErrors(),delete this.fields[t],this}removeGroup(e){if(typeof e!="string")throw Error("Group selector is not valid. Please specify a string selector.");const t=this.getKeyByFieldSelector(e);return!t||!this.groupFields[t]?(console.error("Group not found. Check the group selector."),this):(this.groupFields[t].elems.forEach(i=>{const o=this.getListenerType(i.type);this.removeListener(o,i,this.handlerChange)}),this.clearErrors(),delete this.groupFields[t],this)}addRequiredGroup(e,t,i,o){if(typeof e!="string"&&!Te(e))throw Error("Group selector is not valid. Please specify a string selector or a valid DOM element.");let p;if(typeof e=="string"?p=this.form.querySelector(e):p=e,!p)throw Error("Group selector not found! Please check the group selector.");const a=p.querySelectorAll("input"),f=Array.from(a).filter(u=>{const y=di(this.groupFields,ui(u));return y?y[1].elems.find(S=>S!==u):!0}),k=this.setKeyByFieldSelector(e);return this.groupFields[k]={rules:[{rule:st.Required,errorMessage:t,successMessage:o}],groupElem:p,elems:f,touched:!1,isValid:void 0,config:i},a.forEach(u=>{this.setListeners(u)}),this}getListenerType(e){switch(e){case"checkbox":case"select-one":case"file":case"radio":return"change";default:return"input"}}setListeners(e){const t=this.getListenerType(e.type);this.removeListener(t,e,this.handlerChange),this.addListener(t,e,this.handlerChange)}clearFieldLabel(e){var t,i;(t=this.errorLabels[e])==null||t.remove(),(i=this.successLabels[e])==null||i.remove()}clearFieldStyle(e){var t,i,o,p;const a=this.fields[e],f=((t=a.config)==null?void 0:t.errorFieldStyle)||this.globalConfig.errorFieldStyle;Object.keys(f).forEach(u=>{a.elem.style[u]=""});const k=((i=a.config)==null?void 0:i.successFieldStyle)||this.globalConfig.successFieldStyle||{};Object.keys(k).forEach(u=>{a.elem.style[u]=""}),a.elem.classList.remove(...xe(((o=a.config)==null?void 0:o.errorFieldCssClass)||this.globalConfig.errorFieldCssClass),...xe(((p=a.config)==null?void 0:p.successFieldCssClass)||this.globalConfig.successFieldCssClass))}clearErrors(){var e,t;Object.keys(this.errorLabels).forEach(i=>this.errorLabels[i].remove()),Object.keys(this.successLabels).forEach(i=>this.successLabels[i].remove());for(const i in this.fields)this.clearFieldStyle(i);for(const i in this.groupFields){const o=this.groupFields[i],p=((e=o.config)==null?void 0:e.errorFieldStyle)||this.globalConfig.errorFieldStyle;Object.keys(p).forEach(f=>{o.elems.forEach(k=>{var u;k.style[f]="",k.classList.remove(...xe(((u=o.config)==null?void 0:u.errorFieldCssClass)||this.globalConfig.errorFieldCssClass))})});const a=((t=o.config)==null?void 0:t.successFieldStyle)||this.globalConfig.successFieldStyle||{};Object.keys(a).forEach(f=>{o.elems.forEach(k=>{var u;k.style[f]="",k.classList.remove(...xe(((u=o.config)==null?void 0:u.successFieldCssClass)||this.globalConfig.successFieldCssClass))})})}this.tooltips=[]}isTooltip(){return!!this.globalConfig.tooltip}lockForm(){const e=this.form.querySelectorAll("input, textarea, button, select");for(let t=0,i=e.length;t<i;++t)e[t].setAttribute("data-just-validate-fallback-disabled",e[t].disabled?"true":"false"),e[t].setAttribute("disabled","disabled"),e[t].style.pointerEvents="none",e[t].style.webkitFilter="grayscale(100%)",e[t].style.filter="grayscale(100%)"}unlockForm(){const e=this.form.querySelectorAll("input, textarea, button, select");for(let t=0,i=e.length;t<i;++t)e[t].getAttribute("data-just-validate-fallback-disabled")!=="true"&&e[t].removeAttribute("disabled"),e[t].style.pointerEvents="",e[t].style.webkitFilter="",e[t].style.filter=""}renderTooltip(e,t,i){var o;const{top:p,left:a,width:f,height:k}=e.getBoundingClientRect(),u=t.getBoundingClientRect(),y=i||((o=this.globalConfig.tooltip)==null?void 0:o.position);switch(y){case"left":{t.style.top=`${p+k/2-u.height/2}px`,t.style.left=`${a-u.width-Be}px`;break}case"top":{t.style.top=`${p-u.height-Be}px`,t.style.left=`${a+f/2-u.width/2}px`;break}case"right":{t.style.top=`${p+k/2-u.height/2}px`,t.style.left=`${a+f+Be}px`;break}case"bottom":{t.style.top=`${p+k+Be}px`,t.style.left=`${a+f/2-u.width/2}px`;break}}return t.dataset.direction=y,{refresh:()=>{this.renderTooltip(e,t,i)}}}createErrorLabelElem(e,t,i){const o=document.createElement("div");o.innerHTML=t;const p=this.isTooltip()?i==null?void 0:i.errorLabelStyle:(i==null?void 0:i.errorLabelStyle)||this.globalConfig.errorLabelStyle;return Object.assign(o.style,p),o.classList.add(...xe((i==null?void 0:i.errorLabelCssClass)||this.globalConfig.errorLabelCssClass),"just-validate-error-label"),this.isTooltip()&&(o.dataset.tooltip="true"),this.globalConfig.testingMode&&(o.dataset.testId=`error-label-${e}`),this.errorLabels[e]=o,o}createSuccessLabelElem(e,t,i){if(t===void 0)return null;const o=document.createElement("div");o.innerHTML=t;const p=(i==null?void 0:i.successLabelStyle)||this.globalConfig.successLabelStyle;return Object.assign(o.style,p),o.classList.add(...xe((i==null?void 0:i.successLabelCssClass)||this.globalConfig.successLabelCssClass),"just-validate-success-label"),this.globalConfig.testingMode&&(o.dataset.testId=`success-label-${e}`),this.successLabels[e]=o,o}renderErrorsContainer(e,t){const i=t||this.globalConfig.errorsContainer;if(typeof i=="string"){const o=this.form.querySelector(i);if(o)return o.appendChild(e),!0;console.error(`Error container with ${i} selector not found. Errors will be rendered as usual`)}return i instanceof Element?(i.appendChild(e),!0):(i!==void 0&&console.error("Error container not found. It should be a string or existing Element. Errors will be rendered as usual"),!1)}renderGroupLabel(e,t,i,o){!o&&this.renderErrorsContainer(t,i)||e.appendChild(t)}renderFieldLabel(e,t,i,o){var p,a,f,k,u,y,S;if(!(!o&&this.renderErrorsContainer(t,i)))if(e.type==="checkbox"||e.type==="radio"){const M=document.querySelector(`label[for="${e.getAttribute("id")}"]`);((a=(p=e.parentElement)==null?void 0:p.tagName)==null?void 0:a.toLowerCase())==="label"?(k=(f=e.parentElement)==null?void 0:f.parentElement)==null||k.appendChild(t):M?(u=M.parentElement)==null||u.appendChild(t):(y=e.parentElement)==null||y.appendChild(t)}else(S=e.parentElement)==null||S.appendChild(t)}showLabels(e,t){Object.keys(e).forEach((i,o)=>{const p=e[i],a=this.getKeyByFieldSelector(i);if(!a||!this.fields[a]){console.error("Field not found. Check the field selector.");return}const f=this.fields[a];f.isValid=!t,this.clearFieldStyle(a),this.clearFieldLabel(a),this.renderFieldError(a,!1,p),o===0&&this.globalConfig.focusInvalidField&&setTimeout(()=>f.elem.focus(),0)})}showErrors(e){if(typeof e!="object")throw Error("[showErrors]: Errors should be an object with key: value format");this.showLabels(e,!0)}showSuccessLabels(e){if(typeof e!="object")throw Error("[showSuccessLabels]: Labels should be an object with key: value format");this.showLabels(e,!1)}renderFieldError(e,t=!1,i){var o,p,a,f,k,u;const y=this.fields[e];if(y.isValid===!1&&(this.isValid=!1),y.isValid===void 0||!t&&!this.isSubmitted&&!y.touched&&i===void 0)return;if(y.isValid){if(!y.asyncCheckPending){const M=this.createSuccessLabelElem(e,i!==void 0?i:y.successMessage,y.config);M&&this.renderFieldLabel(y.elem,M,(o=y.config)==null?void 0:o.errorsContainer,!0),y.elem.classList.add(...xe(((p=y.config)==null?void 0:p.successFieldCssClass)||this.globalConfig.successFieldCssClass))}return}y.elem.classList.add(...xe(((a=y.config)==null?void 0:a.errorFieldCssClass)||this.globalConfig.errorFieldCssClass));const S=this.createErrorLabelElem(e,i!==void 0?i:y.errorMessage,y.config);this.renderFieldLabel(y.elem,S,(f=y.config)==null?void 0:f.errorsContainer),this.isTooltip()&&this.tooltips.push(this.renderTooltip(y.elem,S,(u=(k=y.config)==null?void 0:k.tooltip)==null?void 0:u.position))}renderGroupError(e,t=!0){var i,o,p,a;const f=this.groupFields[e];if(f.isValid===!1&&(this.isValid=!1),f.isValid===void 0||!t&&!this.isSubmitted&&!f.touched)return;if(f.isValid){f.elems.forEach(y=>{var S,M;Object.assign(y.style,((S=f.config)==null?void 0:S.successFieldStyle)||this.globalConfig.successFieldStyle),y.classList.add(...xe(((M=f.config)==null?void 0:M.successFieldCssClass)||this.globalConfig.successFieldCssClass))});const u=this.createSuccessLabelElem(e,f.successMessage,f.config);u&&this.renderGroupLabel(f.groupElem,u,(i=f.config)==null?void 0:i.errorsContainer,!0);return}this.isValid=!1,f.elems.forEach(u=>{var y,S;Object.assign(u.style,((y=f.config)==null?void 0:y.errorFieldStyle)||this.globalConfig.errorFieldStyle),u.classList.add(...xe(((S=f.config)==null?void 0:S.errorFieldCssClass)||this.globalConfig.errorFieldCssClass))});const k=this.createErrorLabelElem(e,f.errorMessage,f.config);this.renderGroupLabel(f.groupElem,k,(o=f.config)==null?void 0:o.errorsContainer),this.isTooltip()&&this.tooltips.push(this.renderTooltip(f.groupElem,k,(a=(p=f.config)==null?void 0:p.tooltip)==null?void 0:a.position))}renderErrors(e=!1){if(!(!this.isSubmitted&&!e&&!this.globalConfig.validateBeforeSubmitting)){this.clearErrors(),this.isValid=!0;for(const t in this.groupFields)this.renderGroupError(t);for(const t in this.fields)this.renderFieldError(t)}}destroy(){this.eventListeners.forEach(e=>{this.removeListener(e.type,e.elem,e.func)}),Object.keys(this.customStyleTags).forEach(e=>{this.customStyleTags[e].remove()}),this.clearErrors(),this.globalConfig.lockForm&&this.unlockForm()}refresh(){this.destroy(),this.form?(this.initialize(this.form,this.globalConfig),Object.keys(this.fields).forEach(e=>{const t=this.getFieldSelectorByKey(e);t&&this.addField(t,[...this.fields[e].rules],this.fields[e].config)})):console.error("Cannot initialize the library! Form is not defined")}setCurrentLocale(e){if(typeof e!="string"&&e!==void 0){console.error("Current locale should be a string");return}this.currentLocale=e,this.isSubmitted&&this.validate()}onSuccess(e){return this.onSuccessCallback=e,this}onFail(e){return this.onFailCallback=e,this}onValidate(e){return this.onValidateCallback=e,this}}const Ne=Ie.getInstance(),hi=(n,e,t,i,o,p)=>{const a=new pi(n,{errorFieldCssClass:"booking__input_invalid",successFieldCssClass:"booking__input_valid"});new gt("+7(999)-999-9999").mask(t),new gt("99999999").mask(i),a.addField(e,[{rule:"required",errorMessage:"Введите Имя"}]).addField(t,[{rule:"required",errorMessage:"Введите телефон"},{validator(){const f=t.inputmask.unmaskedvalue();return f.length===10&&!!Number(f)},errorMessage:"Некорректный телефон"}]).addField(i,[{rule:"required",errorMessage:"Введите номер билета"},{validator(){const f=i.inputmask.unmaskedvalue();return f.length===8&&!!Number(f)},errorMessage:"Неверный номер билета"}]).onFail(f=>{let k="";for(const u in f){if(!Object.hasOwnProperty.call(f,u))continue;const y=f[u];y.isValid||(k+=`${y.errorMessage}, `)}Ne.show(k.slice(0,-2),!1)}),n.addEventListener("submit",async f=>{if(f.preventDefault(),!a.isValid)return;const k={booking:[]},u=new Set;if(new FormData(n).forEach((M,j)=>{if(console.log("value, field: ",M,j),j==="booking"){const[T,C]=M.split(",");T&&C&&(k.booking.push({game:T,time:C}),u.add(C))}else k[j]=M}),u.size!==k.booking.length){Ne.show("Вы уже записаны на это время",!1);return}if(!u.size){Ne.show("Вы не выбрали время",!1);return}const y=n.getAttribute("method");let S=!1;y==="PATCH"?S=await ht(y,k,ticketNumber):S=await ht(y,k),S&&(Ne.show("Бронь принята",!0),o(),n.reset(),p.textContent=""),console.log(" data: ",k)})};function et(n,e){n.split(/\s+/).forEach(t=>{e(t)})}class gi{constructor(){this._events=void 0,this._events={}}on(e,t){et(e,i=>{const o=this._events[i]||[];o.push(t),this._events[i]=o})}off(e,t){var i=arguments.length;if(i===0){this._events={};return}et(e,o=>{if(i===1){delete this._events[o];return}const p=this._events[o];p!==void 0&&(p.splice(p.indexOf(t),1),this._events[o]=p)})}trigger(e,...t){var i=this;et(e,o=>{const p=i._events[o];p!==void 0&&p.forEach(a=>{a.apply(i,t)})})}}function vi(n){return n.plugins={},class extends n{constructor(...e){super(...e),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(e,t){n.plugins[e]={name:e,fn:t}}initializePlugins(e){var t,i;const o=this,p=[];if(Array.isArray(e))e.forEach(a=>{typeof a=="string"?p.push(a):(o.plugins.settings[a.name]=a.options,p.push(a.name))});else if(e)for(t in e)e.hasOwnProperty(t)&&(o.plugins.settings[t]=e[t],p.push(t));for(;i=p.shift();)o.require(i)}loadPlugin(e){var t=this,i=t.plugins,o=n.plugins[e];if(!n.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');i.requested[e]=!0,i.loaded[e]=o.fn.apply(t,[t.plugins.settings[e]||{}]),i.names.push(e)}require(e){var t=this,i=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(i.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return i.loaded[e]}}}/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */const Ye=n=>(n=n.filter(Boolean),n.length<2?n[0]||"":bi(n)==1?"["+n.join("")+"]":"(?:"+n.join("|")+")"),Pt=n=>{if(!mi(n))return n.join("");let e="",t=0;const i=()=>{t>1&&(e+="{"+t+"}")};return n.forEach((o,p)=>{if(o===n[p-1]){t++;return}i(),e+=o,t=1}),i(),e},Mt=n=>{let e=ct(n);return Ye(e)},mi=n=>new Set(n).size!==n.length,je=n=>(n+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),bi=n=>n.reduce((e,t)=>Math.max(e,yi(t)),0),yi=n=>ct(n).length,ct=n=>Array.from(n);/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */const Lt=n=>{if(n.length===1)return[[n]];let e=[];const t=n.substring(1);return Lt(t).forEach(function(o){let p=o.slice(0);p[0]=n.charAt(0)+p[0],e.push(p),p=o.slice(0),p.unshift(n.charAt(0)),e.push(p)}),e};/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */const ki=[[0,65535]],_i="[̀-ͯ·ʾʼ]";let Ke,At;const wi=3,ut={},mt={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let n in mt){let e=mt[n]||"";for(let t=0;t<e.length;t++){let i=e.substring(t,t+1);ut[i]=n}}const xi=new RegExp(Object.keys(ut).join("|")+"|"+_i,"gu"),Si=n=>{Ke===void 0&&(Ke=Fi(n||ki))},bt=(n,e="NFKD")=>n.normalize(e),ze=n=>ct(n).reduce((e,t)=>e+Oi(t),""),Oi=n=>(n=bt(n).toLowerCase().replace(xi,e=>ut[e]||""),bt(n,"NFC"));function*Ei(n){for(const[e,t]of n)for(let i=e;i<=t;i++){let o=String.fromCharCode(i),p=ze(o);p!=o.toLowerCase()&&(p.length>wi||p.length!=0&&(yield{folded:p,composed:o,code_point:i}))}}const Ci=n=>{const e={},t=(i,o)=>{const p=e[i]||new Set,a=new RegExp("^"+Mt(p)+"$","iu");o.match(a)||(p.add(je(o)),e[i]=p)};for(let i of Ei(n))t(i.folded,i.folded),t(i.folded,i.composed);return e},Fi=n=>{const e=Ci(n),t={};let i=[];for(let p in e){let a=e[p];a&&(t[p]=Mt(a)),p.length>1&&i.push(je(p))}i.sort((p,a)=>a.length-p.length);const o=Ye(i);return At=new RegExp("^"+o,"u"),t},Pi=(n,e=1)=>{let t=0;return n=n.map(i=>(Ke[i]&&(t+=i.length),Ke[i]||i)),t>=e?Pt(n):""},Mi=(n,e=1)=>(e=Math.max(e,n.length-1),Ye(Lt(n).map(t=>Pi(t,e)))),yt=(n,e=!0)=>{let t=n.length>1?1:0;return Ye(n.map(i=>{let o=[];const p=e?i.length():i.length()-1;for(let a=0;a<p;a++)o.push(Mi(i.substrs[a]||"",t));return Pt(o)}))},Li=(n,e)=>{for(const t of e){if(t.start!=n.start||t.end!=n.end||t.substrs.join("")!==n.substrs.join(""))continue;let i=n.parts;const o=a=>{for(const f of i){if(f.start===a.start&&f.substr===a.substr)return!1;if(!(a.length==1||f.length==1)&&(a.start<f.start&&a.end>f.start||f.start<a.start&&f.end>a.start))return!0}return!1};if(!(t.parts.filter(o).length>0))return!0}return!1};class Ue{constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(e){e&&(this.parts.push(e),this.substrs.push(e.substr),this.start=Math.min(e.start,this.start),this.end=Math.max(e.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(e,t){let i=new Ue,o=JSON.parse(JSON.stringify(this.parts)),p=o.pop();for(const k of o)i.add(k);let a=t.substr.substring(0,e-p.start),f=a.length;return i.add({start:p.start,end:p.start+f,length:f,substr:a}),i}}const Ai=n=>{Si(),n=ze(n);let e="",t=[new Ue];for(let i=0;i<n.length;i++){let p=n.substring(i).match(At);const a=n.substring(i,i+1),f=p?p[0]:null;let k=[],u=new Set;for(const y of t){const S=y.last();if(!S||S.length==1||S.end<=i)if(f){const M=f.length;y.add({start:i,end:i+M,length:M,substr:f}),u.add("1")}else y.add({start:i,end:i+1,length:1,substr:a}),u.add("2");else if(f){let M=y.clone(i,S);const j=f.length;M.add({start:i,end:i+j,length:j,substr:f}),k.push(M)}else u.add("3")}if(k.length>0){k=k.sort((y,S)=>y.length()-S.length());for(let y of k)Li(y,t)||t.push(y);continue}if(i>0&&u.size==1&&!u.has("3")){e+=yt(t,!1);let y=new Ue;const S=t[0];S&&y.add(S.last()),t=[y]}}return e+=yt(t,!0),e};/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */const Ti=(n,e)=>{if(n)return n[e]},Ii=(n,e)=>{if(n){for(var t,i=e.split(".");(t=i.shift())&&(n=n[t]););return n}},tt=(n,e,t)=>{var i,o;return!n||(n=n+"",e.regex==null)||(o=n.search(e.regex),o===-1)?0:(i=e.string.length/n.length,o===0&&(i+=.5),i*t)},it=(n,e)=>{var t=n[e];if(typeof t=="function")return t;t&&!Array.isArray(t)&&(n[e]=[t])},ye=(n,e)=>{if(Array.isArray(n))n.forEach(e);else for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)},ji=(n,e)=>typeof n=="number"&&typeof e=="number"?n>e?1:n<e?-1:0:(n=ze(n+"").toLowerCase(),e=ze(e+"").toLowerCase(),n>e?1:e>n?-1:0);/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */class Di{constructor(e,t){this.items=void 0,this.settings=void 0,this.items=e,this.settings=t||{diacritics:!0}}tokenize(e,t,i){if(!e||!e.length)return[];const o=[],p=e.split(/\s+/);var a;return i&&(a=new RegExp("^("+Object.keys(i).map(je).join("|")+"):(.*)$")),p.forEach(f=>{let k,u=null,y=null;a&&(k=f.match(a))&&(u=k[1],f=k[2]),f.length>0&&(this.settings.diacritics?y=Ai(f)||null:y=je(f),y&&t&&(y="\\b"+y)),o.push({string:f,regex:y?new RegExp(y,"iu"):null,field:u})}),o}getScoreFunction(e,t){var i=this.prepareSearch(e,t);return this._getScoreFunction(i)}_getScoreFunction(e){const t=e.tokens,i=t.length;if(!i)return function(){return 0};const o=e.options.fields,p=e.weights,a=o.length,f=e.getAttrFn;if(!a)return function(){return 1};const k=function(){return a===1?function(u,y){const S=o[0].field;return tt(f(y,S),u,p[S]||1)}:function(u,y){var S=0;if(u.field){const M=f(y,u.field);!u.regex&&M?S+=1/a:S+=tt(M,u,1)}else ye(p,(M,j)=>{S+=tt(f(y,j),u,M)});return S/a}}();return i===1?function(u){return k(t[0],u)}:e.options.conjunction==="and"?function(u){var y,S=0;for(let M of t){if(y=k(M,u),y<=0)return 0;S+=y}return S/i}:function(u){var y=0;return ye(t,S=>{y+=k(S,u)}),y/i}}getSortFunction(e,t){var i=this.prepareSearch(e,t);return this._getSortFunction(i)}_getSortFunction(e){var t,i=[];const o=this,p=e.options,a=!e.query&&p.sort_empty?p.sort_empty:p.sort;if(typeof a=="function")return a.bind(this);const f=function(y,S){return y==="$score"?S.score:e.getAttrFn(o.items[S.id],y)};if(a)for(let u of a)(e.query||u.field!=="$score")&&i.push(u);if(e.query){t=!0;for(let u of i)if(u.field==="$score"){t=!1;break}t&&i.unshift({field:"$score",direction:"desc"})}else i=i.filter(u=>u.field!=="$score");return i.length?function(u,y){var S,M;for(let j of i)if(M=j.field,S=(j.direction==="desc"?-1:1)*ji(f(M,u),f(M,y)),S)return S;return 0}:null}prepareSearch(e,t){const i={};var o=Object.assign({},t);if(it(o,"sort"),it(o,"sort_empty"),o.fields){it(o,"fields");const p=[];o.fields.forEach(a=>{typeof a=="string"&&(a={field:a,weight:1}),p.push(a),i[a.field]="weight"in a?a.weight:1}),o.fields=p}return{options:o,query:e.toLowerCase().trim(),tokens:this.tokenize(e,o.respect_word_boundaries,i),total:0,items:[],weights:i,getAttrFn:o.nesting?Ii:Ti}}search(e,t){var i=this,o,p;p=this.prepareSearch(e,t),t=p.options,e=p.query;const a=t.score||i._getScoreFunction(p);e.length?ye(i.items,(k,u)=>{o=a(k),(t.filter===!1||o>0)&&p.items.push({score:o,id:u})}):ye(i.items,(k,u)=>{p.items.push({score:1,id:u})});const f=i._getSortFunction(p);return f&&p.items.sort(f),p.total=p.items.length,typeof t.limit=="number"&&(p.items=p.items.slice(0,t.limit)),p}}const Me=(n,e)=>{if(Array.isArray(n))n.forEach(e);else for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)},pe=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Tt(n)){var e=document.createElement("template");return e.innerHTML=n.trim(),e.content.firstChild}return document.querySelector(n)},Tt=n=>typeof n=="string"&&n.indexOf("<")>-1,Vi=n=>n.replace(/['"\\]/g,"\\$&"),nt=(n,e)=>{var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!1),n.dispatchEvent(t)},$e=(n,e)=>{Object.assign(n.style,e)},be=(n,...e)=>{var t=It(e);n=jt(n),n.map(i=>{t.map(o=>{i.classList.add(o)})})},Ee=(n,...e)=>{var t=It(e);n=jt(n),n.map(i=>{t.map(o=>{i.classList.remove(o)})})},It=n=>{var e=[];return Me(n,t=>{typeof t=="string"&&(t=t.trim().split(/[\11\12\14\15\40]/)),Array.isArray(t)&&(e=e.concat(t))}),e.filter(Boolean)},jt=n=>(Array.isArray(n)||(n=[n]),n),Ge=(n,e,t)=>{if(!(t&&!t.contains(n)))for(;n&&n.matches;){if(n.matches(e))return n;n=n.parentNode}},kt=(n,e=0)=>e>0?n[n.length-1]:n[0],Bi=n=>Object.keys(n).length===0,Qe=(n,e)=>{if(!n)return-1;e=e||n.nodeName;for(var t=0;n=n.previousElementSibling;)n.matches(e)&&t++;return t},ae=(n,e)=>{Me(e,(t,i)=>{t==null?n.removeAttribute(i):n.setAttribute(i,""+t)})},ot=(n,e)=>{n.parentNode&&n.parentNode.replaceChild(e,n)},Ni=(n,e)=>{if(e===null)return;if(typeof e=="string"){if(!e.length)return;e=new RegExp(e,"i")}const t=p=>{var a=p.data.match(e);if(a&&p.data.length>0){var f=document.createElement("span");f.className="highlight";var k=p.splitText(a.index);k.splitText(a[0].length);var u=k.cloneNode(!0);return f.appendChild(u),ot(k,f),1}return 0},i=p=>{p.nodeType===1&&p.childNodes&&!/(script|style)/i.test(p.tagName)&&(p.className!=="highlight"||p.tagName!=="SPAN")&&Array.from(p.childNodes).forEach(a=>{o(a)})},o=p=>p.nodeType===3?t(p):(i(p),0);o(n)},$i=n=>{var e=n.querySelectorAll("span.highlight");Array.prototype.forEach.call(e,function(t){var i=t.parentNode;i.replaceChild(t.firstChild,t),i.normalize()})},Ri=65,Gi=13,Dt=27,at=37,Hi=38,Vt=39,qi=40,_t=8,Ki=46,lt=9,zi=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),Re=zi?"metaKey":"ctrlKey";var wt={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(n){return n.length>0},render:{}};const _e=n=>typeof n>"u"||n===null?null:He(n),He=n=>typeof n=="boolean"?n?"1":"0":n+"",qe=n=>(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Ui=(n,e)=>e>0?setTimeout(n,e):(n.call(null),null),Qi=(n,e)=>{var t;return function(i,o){var p=this;t&&(p.loading=Math.max(p.loading-1,0),clearTimeout(t)),t=setTimeout(function(){t=null,p.loadedSearches[i]=!0,n.call(p,i,o)},e)}},xt=(n,e,t)=>{var i,o=n.trigger,p={};n.trigger=function(){var a=arguments[0];if(e.indexOf(a)!==-1)p[a]=arguments;else return o.apply(n,arguments)},t.apply(n,[]),n.trigger=o;for(i of e)i in p&&o.apply(n,p[i])},Yi=n=>({start:n.selectionStart||0,length:(n.selectionEnd||0)-(n.selectionStart||0)}),se=(n,e=!1)=>{n&&(n.preventDefault(),e&&n.stopPropagation())},oe=(n,e,t,i)=>{n.addEventListener(e,t,i)},Fe=(n,e)=>{if(!e||!e[n])return!1;var t=(e.altKey?1:0)+(e.ctrlKey?1:0)+(e.shiftKey?1:0)+(e.metaKey?1:0);return t===1},rt=(n,e)=>{const t=n.getAttribute("id");return t||(n.setAttribute("id",e),e)},St=n=>n.replace(/[\\"']/g,"\\$&"),Pe=(n,e)=>{e&&n.append(e)};function Ot(n,e){var t=Object.assign({},wt,e),i=t.dataAttr,o=t.labelField,p=t.valueField,a=t.disabledField,f=t.optgroupField,k=t.optgroupLabelField,u=t.optgroupValueField,y=n.tagName.toLowerCase(),S=n.getAttribute("placeholder")||n.getAttribute("data-placeholder");if(!S&&!t.allowEmptyOption){let C=n.querySelector('option[value=""]');C&&(S=C.textContent)}var M={placeholder:S,options:[],optgroups:[],items:[],maxItems:null},j=()=>{var C,O=M.options,x={},h=1;let d=0;var s=r=>{var c=Object.assign({},r.dataset),v=i&&c[i];return typeof v=="string"&&v.length&&(c=Object.assign(c,JSON.parse(v))),c},b=(r,c)=>{var v=_e(r.value);if(v!=null&&!(!v&&!t.allowEmptyOption)){if(x.hasOwnProperty(v)){if(c){var g=x[v][f];g?Array.isArray(g)?g.push(c):x[v][f]=[g,c]:x[v][f]=c}}else{var _=s(r);_[o]=_[o]||r.textContent,_[p]=_[p]||v,_[a]=_[a]||r.disabled,_[f]=_[f]||c,_.$option=r,_.$order=_.$order||++d,x[v]=_,O.push(_)}r.selected&&M.items.push(v)}},l=r=>{var c,v;v=s(r),v[k]=v[k]||r.getAttribute("label")||"",v[u]=v[u]||h++,v[a]=v[a]||r.disabled,v.$order=v.$order||++d,M.optgroups.push(v),c=v[u],Me(r.children,g=>{b(g,c)})};M.maxItems=n.hasAttribute("multiple")?null:1,Me(n.children,r=>{C=r.tagName.toLowerCase(),C==="optgroup"?l(r):C==="option"&&b(r)})},T=()=>{const C=n.getAttribute(i);if(C)M.options=JSON.parse(C),Me(M.options,x=>{M.items.push(x[p])});else{var O=n.value.trim()||"";if(!t.allowEmptyOption&&!O.length)return;const x=O.split(t.delimiter);Me(x,h=>{const d={};d[o]=h,d[p]=h,M.options.push(d)}),M.items=x}};return y==="select"?j():T(),Object.assign({},wt,M,e)}var Et=0;class ge extends vi(gi){constructor(e,t){super(),this.control_input=void 0,this.wrapper=void 0,this.dropdown=void 0,this.control=void 0,this.dropdown_content=void 0,this.focus_node=void 0,this.order=0,this.settings=void 0,this.input=void 0,this.tabIndex=void 0,this.is_select_tag=void 0,this.rtl=void 0,this.inputId=void 0,this._destroy=void 0,this.sifter=void 0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isRequired=void 0,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.currentResults=void 0,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,Et++;var i,o=pe(e);if(o.tomselect)throw new Error("Tom Select already initialized on this element");o.tomselect=this;var p=window.getComputedStyle&&window.getComputedStyle(o,null);i=p.getPropertyValue("direction");const a=Ot(o,t);this.settings=a,this.input=o,this.tabIndex=o.tabIndex||0,this.is_select_tag=o.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(i),this.inputId=rt(o,"tomselect-"+Et),this.isRequired=o.required,this.sifter=new Di(this.options,{diacritics:a.diacritics}),a.mode=a.mode||(a.maxItems===1?"single":"multi"),typeof a.hideSelected!="boolean"&&(a.hideSelected=a.mode==="multi"),typeof a.hidePlaceholder!="boolean"&&(a.hidePlaceholder=a.mode!=="multi");var f=a.createFilter;typeof f!="function"&&(typeof f=="string"&&(f=new RegExp(f)),f instanceof RegExp?a.createFilter=O=>f.test(O):a.createFilter=O=>this.settings.duplicates||!this.options[O]),this.initializePlugins(a.plugins),this.setupCallbacks(),this.setupTemplates();const k=pe("<div>"),u=pe("<div>"),y=this._render("dropdown"),S=pe('<div role="listbox" tabindex="-1">'),M=this.input.getAttribute("class")||"",j=a.mode;var T;if(be(k,a.wrapperClass,M,j),be(u,a.controlClass),Pe(k,u),be(y,a.dropdownClass,j),a.copyClassesToDropdown&&be(y,M),be(S,a.dropdownContentClass),Pe(y,S),pe(a.dropdownParent||k).appendChild(y),Tt(a.controlInput)){T=pe(a.controlInput);var C=["autocorrect","autocapitalize","autocomplete","spellcheck"];ye(C,O=>{o.getAttribute(O)&&ae(T,{[O]:o.getAttribute(O)})}),T.tabIndex=-1,u.appendChild(T),this.focus_node=T}else a.controlInput?(T=pe(a.controlInput),this.focus_node=T):(T=pe("<input/>"),this.focus_node=u);this.wrapper=k,this.dropdown=y,this.dropdown_content=S,this.control=u,this.control_input=T,this.setup()}setup(){const e=this,t=e.settings,i=e.control_input,o=e.dropdown,p=e.dropdown_content,a=e.wrapper,f=e.control,k=e.input,u=e.focus_node,y={passive:!0},S=e.inputId+"-ts-dropdown";ae(p,{id:S}),ae(u,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":S});const M=rt(u,e.inputId+"-ts-control"),j="label[for='"+Vi(e.inputId)+"']",T=document.querySelector(j),C=e.focus.bind(e);if(T){oe(T,"click",C),ae(T,{for:M});const h=rt(T,e.inputId+"-ts-label");ae(u,{"aria-labelledby":h}),ae(p,{"aria-labelledby":h})}if(a.style.width=k.style.width,e.plugins.names.length){const h="plugin-"+e.plugins.names.join(" plugin-");be([a,o],h)}(t.maxItems===null||t.maxItems>1)&&e.is_select_tag&&ae(k,{multiple:"multiple"}),t.placeholder&&ae(i,{placeholder:t.placeholder}),!t.splitOn&&t.delimiter&&(t.splitOn=new RegExp("\\s*"+je(t.delimiter)+"+\\s*")),t.load&&t.loadThrottle&&(t.load=Qi(t.load,t.loadThrottle)),oe(o,"mousemove",()=>{e.ignoreHover=!1}),oe(o,"mouseenter",h=>{var d=Ge(h.target,"[data-selectable]",o);d&&e.onOptionHover(h,d)},{capture:!0}),oe(o,"click",h=>{const d=Ge(h.target,"[data-selectable]");d&&(e.onOptionSelect(h,d),se(h,!0))}),oe(f,"click",h=>{var d=Ge(h.target,"[data-ts-item]",f);if(d&&e.onItemSelect(h,d)){se(h,!0);return}i.value==""&&(e.onClick(),se(h,!0))}),oe(u,"keydown",h=>e.onKeyDown(h)),oe(i,"keypress",h=>e.onKeyPress(h)),oe(i,"input",h=>e.onInput(h)),oe(u,"blur",h=>e.onBlur(h)),oe(u,"focus",h=>e.onFocus(h)),oe(i,"paste",h=>e.onPaste(h));const O=h=>{const d=h.composedPath()[0];if(!a.contains(d)&&!o.contains(d)){e.isFocused&&e.blur(),e.inputState();return}d==i&&e.isOpen?h.stopPropagation():se(h,!0)},x=()=>{e.isOpen&&e.positionDropdown()};oe(document,"mousedown",O),oe(window,"scroll",x,y),oe(window,"resize",x,y),this._destroy=()=>{document.removeEventListener("mousedown",O),window.removeEventListener("scroll",x),window.removeEventListener("resize",x),T&&T.removeEventListener("click",C)},this.revertSettings={innerHTML:k.innerHTML,tabIndex:k.tabIndex},k.tabIndex=-1,k.insertAdjacentElement("afterend",e.wrapper),e.sync(!1),t.items=[],delete t.optgroups,delete t.options,oe(k,"invalid",()=>{e.isValid&&(e.isValid=!1,e.isInvalid=!0,e.refreshState())}),e.updateOriginalInput(),e.refreshItems(),e.close(!1),e.inputState(),e.isSetup=!0,k.disabled?e.disable():k.readOnly?e.setReadOnly(!0):e.enable(),e.on("change",this.onChange),be(k,"tomselected","ts-hidden-accessible"),e.trigger("initialize"),t.preload===!0&&e.preload()}setupOptions(e=[],t=[]){this.addOptions(e),ye(t,i=>{this.registerOptionGroup(i)})}setupTemplates(){var e=this,t=e.settings.labelField,i=e.settings.optgroupLabelField,o={optgroup:p=>{let a=document.createElement("div");return a.className="optgroup",a.appendChild(p.options),a},optgroup_header:(p,a)=>'<div class="optgroup-header">'+a(p[i])+"</div>",option:(p,a)=>"<div>"+a(p[t])+"</div>",item:(p,a)=>"<div>"+a(p[t])+"</div>",option_create:(p,a)=>'<div class="create">Add <strong>'+a(p.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};e.settings.render=Object.assign({},o,e.settings.render)}setupCallbacks(){var e,t,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in i)t=this.settings[i[e]],t&&this.on(e,t)}sync(e=!0){const t=this,i=e?Ot(t.input,{delimiter:t.settings.delimiter}):t.settings;t.setupOptions(i.options,i.optgroups),t.setValue(i.items||[],!0),t.lastQuery=null}onClick(){var e=this;if(e.activeItems.length>0){e.clearActiveItems(),e.focus();return}e.isFocused&&e.isOpen?e.blur():e.focus()}onMouseDown(){}onChange(){nt(this.input,"input"),nt(this.input,"change")}onPaste(e){var t=this;if(t.isInputHidden||t.isLocked){se(e);return}t.settings.splitOn&&setTimeout(()=>{var i=t.inputValue();if(i.match(t.settings.splitOn)){var o=i.trim().split(t.settings.splitOn);ye(o,p=>{_e(p)&&(this.options[p]?t.addItem(p):t.createItem(p))})}},0)}onKeyPress(e){var t=this;if(t.isLocked){se(e);return}var i=String.fromCharCode(e.keyCode||e.which);if(t.settings.create&&t.settings.mode==="multi"&&i===t.settings.delimiter){t.createItem(),se(e);return}}onKeyDown(e){var t=this;if(t.ignoreHover=!0,t.isLocked){e.keyCode!==lt&&se(e);return}switch(e.keyCode){case Ri:if(Fe(Re,e)&&t.control_input.value==""){se(e),t.selectAll();return}break;case Dt:t.isOpen&&(se(e,!0),t.close()),t.clearActiveItems();return;case qi:if(!t.isOpen&&t.hasOptions)t.open();else if(t.activeOption){let i=t.getAdjacent(t.activeOption,1);i&&t.setActiveOption(i)}se(e);return;case Hi:if(t.activeOption){let i=t.getAdjacent(t.activeOption,-1);i&&t.setActiveOption(i)}se(e);return;case Gi:t.canSelect(t.activeOption)?(t.onOptionSelect(e,t.activeOption),se(e)):(t.settings.create&&t.createItem()||document.activeElement==t.control_input&&t.isOpen)&&se(e);return;case at:t.advanceSelection(-1,e);return;case Vt:t.advanceSelection(1,e);return;case lt:t.settings.selectOnTab&&(t.canSelect(t.activeOption)&&(t.onOptionSelect(e,t.activeOption),se(e)),t.settings.create&&t.createItem()&&se(e));return;case _t:case Ki:t.deleteSelection(e);return}t.isInputHidden&&!Fe(Re,e)&&se(e)}onInput(e){if(this.isLocked)return;const t=this.inputValue();if(this.lastValue!==t){if(this.lastValue=t,t==""){this._onInput();return}this.refreshTimeout&&clearTimeout(this.refreshTimeout),this.refreshTimeout=Ui(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){const e=this.lastValue;this.settings.shouldLoad.call(this,e)&&this.load(e),this.refreshOptions(),this.trigger("type",e)}onOptionHover(e,t){this.ignoreHover||this.setActiveOption(t,!1)}onFocus(e){var t=this,i=t.isFocused;if(t.isDisabled||t.isReadOnly){t.blur(),se(e);return}t.ignoreFocus||(t.isFocused=!0,t.settings.preload==="focus"&&t.preload(),i||t.trigger("focus"),t.activeItems.length||(t.inputState(),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())}onBlur(e){if(document.hasFocus()!==!1){var t=this;if(t.isFocused){t.isFocused=!1,t.ignoreFocus=!1;var i=()=>{t.close(),t.setActiveItem(),t.setCaret(t.items.length),t.trigger("blur")};t.settings.create&&t.settings.createOnBlur?t.createItem(null,i):i()}}}onOptionSelect(e,t){var i,o=this;t.parentElement&&t.parentElement.matches("[data-disabled]")||(t.classList.contains("create")?o.createItem(null,()=>{o.settings.closeAfterSelect&&o.close()}):(i=t.dataset.value,typeof i<"u"&&(o.lastQuery=null,o.addItem(i),o.settings.closeAfterSelect&&o.close(),!o.settings.hideSelected&&e.type&&/click/.test(e.type)&&o.setActiveOption(t))))}canSelect(e){return!!(this.isOpen&&e&&this.dropdown_content.contains(e))}onItemSelect(e,t){var i=this;return!i.isLocked&&i.settings.mode==="multi"?(se(e),i.setActiveItem(t,e),!0):!1}canLoad(e){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(e))}load(e){const t=this;if(!t.canLoad(e))return;be(t.wrapper,t.settings.loadingClass),t.loading++;const i=t.loadCallback.bind(t);t.settings.load.call(t,e,i)}loadCallback(e,t){const i=this;i.loading=Math.max(i.loading-1,0),i.lastQuery=null,i.clearActiveOption(),i.setupOptions(e,t),i.refreshOptions(i.isFocused&&!i.isInputHidden),i.loading||Ee(i.wrapper,i.settings.loadingClass),i.trigger("load",e,t)}preload(){var e=this.wrapper.classList;e.contains("preloaded")||(e.add("preloaded"),this.load(""))}setTextboxValue(e=""){var t=this.control_input,i=t.value!==e;i&&(t.value=e,nt(t,"update"),this.lastValue=e)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(e,t){var i=t?[]:["change"];xt(this,i,()=>{this.clear(t),this.addItems(e,t)})}setMaxItems(e){e===0&&(e=null),this.settings.maxItems=e,this.refreshState()}setActiveItem(e,t){var i=this,o,p,a,f,k,u;if(i.settings.mode!=="single"){if(!e){i.clearActiveItems(),i.isFocused&&i.inputState();return}if(o=t&&t.type.toLowerCase(),o==="click"&&Fe("shiftKey",t)&&i.activeItems.length){for(u=i.getLastActive(),a=Array.prototype.indexOf.call(i.control.children,u),f=Array.prototype.indexOf.call(i.control.children,e),a>f&&(k=a,a=f,f=k),p=a;p<=f;p++)e=i.control.children[p],i.activeItems.indexOf(e)===-1&&i.setActiveItemClass(e);se(t)}else o==="click"&&Fe(Re,t)||o==="keydown"&&Fe("shiftKey",t)?e.classList.contains("active")?i.removeActiveItem(e):i.setActiveItemClass(e):(i.clearActiveItems(),i.setActiveItemClass(e));i.inputState(),i.isFocused||i.focus()}}setActiveItemClass(e){const t=this,i=t.control.querySelector(".last-active");i&&Ee(i,"last-active"),be(e,"active last-active"),t.trigger("item_select",e),t.activeItems.indexOf(e)==-1&&t.activeItems.push(e)}removeActiveItem(e){var t=this.activeItems.indexOf(e);this.activeItems.splice(t,1),Ee(e,"active")}clearActiveItems(){Ee(this.activeItems,"active"),this.activeItems=[]}setActiveOption(e,t=!0){e!==this.activeOption&&(this.clearActiveOption(),e&&(this.activeOption=e,ae(this.focus_node,{"aria-activedescendant":e.getAttribute("id")}),ae(e,{"aria-selected":"true"}),be(e,"active"),t&&this.scrollToOption(e)))}scrollToOption(e,t){if(!e)return;const i=this.dropdown_content,o=i.clientHeight,p=i.scrollTop||0,a=e.offsetHeight,f=e.getBoundingClientRect().top-i.getBoundingClientRect().top+p;f+a>o+p?this.scroll(f-o+a,t):f<p&&this.scroll(f,t)}scroll(e,t){const i=this.dropdown_content;t&&(i.style.scrollBehavior=t),i.scrollTop=e,i.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(Ee(this.activeOption,"active"),ae(this.activeOption,{"aria-selected":null})),this.activeOption=null,ae(this.focus_node,{"aria-activedescendant":null})}selectAll(){const e=this;if(e.settings.mode==="single")return;const t=e.controlChildren();t.length&&(e.inputState(),e.close(),e.activeItems=t,ye(t,i=>{e.setActiveItemClass(i)}))}inputState(){var e=this;e.control.contains(e.control_input)&&(ae(e.control_input,{placeholder:e.settings.placeholder}),e.activeItems.length>0||!e.isFocused&&e.settings.hidePlaceholder&&e.items.length>0?(e.setTextboxValue(),e.isInputHidden=!0):(e.settings.hidePlaceholder&&e.items.length>0&&ae(e.control_input,{placeholder:""}),e.isInputHidden=!1),e.wrapper.classList.toggle("input-hidden",e.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var e=this;e.isDisabled||e.isReadOnly||(e.ignoreFocus=!0,e.control_input.offsetWidth?e.control_input.focus():e.focus_node.focus(),setTimeout(()=>{e.ignoreFocus=!1,e.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())}getSearchOptions(){var e=this.settings,t=e.sortField;return typeof e.sortField=="string"&&(t=[{field:e.sortField}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t,nesting:e.nesting}}search(e){var t,i,o=this,p=this.getSearchOptions();if(o.settings.score&&(i=o.settings.score.call(o,e),typeof i!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return e!==o.lastQuery?(o.lastQuery=e,t=o.sifter.search(e,Object.assign(p,{score:i})),o.currentResults=t):t=Object.assign({},o.currentResults),o.settings.hideSelected&&(t.items=t.items.filter(a=>{let f=_e(a.id);return!(f&&o.items.indexOf(f)!==-1)})),t}refreshOptions(e=!0){var t,i,o,p,a,f,k,u,y,S;const M={},j=[];var T=this,C=T.inputValue();const O=C===T.lastQuery||C==""&&T.lastQuery==null;var x=T.search(C),h=null,d=T.settings.shouldOpen||!1,s=T.dropdown_content;O&&(h=T.activeOption,h&&(y=h.closest("[data-group]"))),p=x.items.length,typeof T.settings.maxOptions=="number"&&(p=Math.min(p,T.settings.maxOptions)),p>0&&(d=!0);const b=(r,c)=>{let v=M[r];if(v!==void 0){let _=j[v];if(_!==void 0)return[v,_.fragment]}let g=document.createDocumentFragment();return v=j.length,j.push({fragment:g,order:c,optgroup:r}),[v,g]};for(t=0;t<p;t++){let r=x.items[t];if(!r)continue;let c=r.id,v=T.options[c];if(v===void 0)continue;let g=He(c),_=T.getOption(g,!0);for(T.settings.hideSelected||_.classList.toggle("selected",T.items.includes(g)),a=v[T.settings.optgroupField]||"",f=Array.isArray(a)?a:[a],i=0,o=f&&f.length;i<o;i++){a=f[i];let m=v.$order,w=T.optgroups[a];w===void 0?a="":m=w.$order;const[F,I]=b(a,m);i>0&&(_=_.cloneNode(!0),ae(_,{id:v.$id+"-clone-"+i,"aria-selected":null}),_.classList.add("ts-cloned"),Ee(_,"active"),T.activeOption&&T.activeOption.dataset.value==c&&y&&y.dataset.group===a.toString()&&(h=_)),I.appendChild(_),a!=""&&(M[a]=F)}}T.settings.lockOptgroupOrder&&j.sort((r,c)=>r.order-c.order),k=document.createDocumentFragment(),ye(j,r=>{let c=r.fragment,v=r.optgroup;if(!c||!c.children.length)return;let g=T.optgroups[v];if(g!==void 0){let _=document.createDocumentFragment(),m=T.render("optgroup_header",g);Pe(_,m),Pe(_,c);let w=T.render("optgroup",{group:g,options:_});Pe(k,w)}else Pe(k,c)}),s.innerHTML="",Pe(s,k),T.settings.highlight&&($i(s),x.query.length&&x.tokens.length&&ye(x.tokens,r=>{Ni(s,r.regex)}));var l=r=>{let c=T.render(r,{input:C});return c&&(d=!0,s.insertBefore(c,s.firstChild)),c};if(T.loading?l("loading"):T.settings.shouldLoad.call(T,C)?x.items.length===0&&l("no_results"):l("not_loading"),u=T.canCreate(C),u&&(S=l("option_create")),T.hasOptions=x.items.length>0||u,d){if(x.items.length>0){if(!h&&T.settings.mode==="single"&&T.items[0]!=null&&(h=T.getOption(T.items[0])),!s.contains(h)){let r=0;S&&!T.settings.addPrecedence&&(r=1),h=T.selectable()[r]}}else S&&(h=S);e&&!T.isOpen&&(T.open(),T.scrollToOption(h,"auto")),T.setActiveOption(h)}else T.clearActiveOption(),e&&T.isOpen&&T.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(e,t=!1){const i=this;if(Array.isArray(e))return i.addOptions(e,t),!1;const o=_e(e[i.settings.valueField]);return o===null||i.options.hasOwnProperty(o)?!1:(e.$order=e.$order||++i.order,e.$id=i.inputId+"-opt-"+e.$order,i.options[o]=e,i.lastQuery=null,t&&(i.userOptions[o]=t,i.trigger("option_add",o,e)),o)}addOptions(e,t=!1){ye(e,i=>{this.addOption(i,t)})}registerOption(e){return this.addOption(e)}registerOptionGroup(e){var t=_e(e[this.settings.optgroupValueField]);return t===null?!1:(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)}addOptionGroup(e,t){var i;t[this.settings.optgroupValueField]=e,(i=this.registerOptionGroup(t))&&this.trigger("optgroup_add",i,t)}removeOptionGroup(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.clearCache(),this.trigger("optgroup_remove",e))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(e,t){const i=this;var o,p;const a=_e(e),f=_e(t[i.settings.valueField]);if(a===null)return;const k=i.options[a];if(k==null)return;if(typeof f!="string")throw new Error("Value must be set in option data");const u=i.getOption(a),y=i.getItem(a);if(t.$order=t.$order||k.$order,delete i.options[a],i.uncacheValue(f),i.options[f]=t,u){if(i.dropdown_content.contains(u)){const S=i._render("option",t);ot(u,S),i.activeOption===u&&i.setActiveOption(S)}u.remove()}y&&(p=i.items.indexOf(a),p!==-1&&i.items.splice(p,1,f),o=i._render("item",t),y.classList.contains("active")&&be(o,"active"),ot(y,o)),i.lastQuery=null}removeOption(e,t){const i=this;e=He(e),i.uncacheValue(e),delete i.userOptions[e],delete i.options[e],i.lastQuery=null,i.trigger("option_remove",e),i.removeItem(e,t)}clearOptions(e){const t=(e||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const i={};ye(this.options,(o,p)=>{t(o,p)&&(i[p]=o)}),this.options=this.sifter.items=i,this.lastQuery=null,this.trigger("option_clear")}clearFilter(e,t){return this.items.indexOf(t)>=0}getOption(e,t=!1){const i=_e(e);if(i===null)return null;const o=this.options[i];if(o!=null){if(o.$div)return o.$div;if(t)return this._render("option",o)}return null}getAdjacent(e,t,i="option"){var o=this,p;if(!e)return null;i=="item"?p=o.controlChildren():p=o.dropdown_content.querySelectorAll("[data-selectable]");for(let a=0;a<p.length;a++)if(p[a]==e)return t>0?p[a+1]:p[a-1];return null}getItem(e){if(typeof e=="object")return e;var t=_e(e);return t!==null?this.control.querySelector(`[data-value="${St(t)}"]`):null}addItems(e,t){var i=this,o=Array.isArray(e)?e:[e];o=o.filter(a=>i.items.indexOf(a)===-1);const p=o[o.length-1];o.forEach(a=>{i.isPending=a!==p,i.addItem(a,t)})}addItem(e,t){var i=t?[]:["change","dropdown_close"];xt(this,i,()=>{var o,p;const a=this,f=a.settings.mode,k=_e(e);if(!(k&&a.items.indexOf(k)!==-1&&(f==="single"&&a.close(),f==="single"||!a.settings.duplicates))&&!(k===null||!a.options.hasOwnProperty(k))&&(f==="single"&&a.clear(t),!(f==="multi"&&a.isFull()))){if(o=a._render("item",a.options[k]),a.control.contains(o)&&(o=o.cloneNode(!0)),p=a.isFull(),a.items.splice(a.caretPos,0,k),a.insertAtCaret(o),a.isSetup){if(!a.isPending&&a.settings.hideSelected){let u=a.getOption(k),y=a.getAdjacent(u,1);y&&a.setActiveOption(y)}!a.isPending&&!a.settings.closeAfterSelect&&a.refreshOptions(a.isFocused&&f!=="single"),a.settings.closeAfterSelect!=!1&&a.isFull()?a.close():a.isPending||a.positionDropdown(),a.trigger("item_add",k,o),a.isPending||a.updateOriginalInput({silent:t})}(!a.isPending||!p&&a.isFull())&&(a.inputState(),a.refreshState())}})}removeItem(e=null,t){const i=this;if(e=i.getItem(e),!e)return;var o,p;const a=e.dataset.value;o=Qe(e),e.remove(),e.classList.contains("active")&&(p=i.activeItems.indexOf(e),i.activeItems.splice(p,1),Ee(e,"active")),i.items.splice(o,1),i.lastQuery=null,!i.settings.persist&&i.userOptions.hasOwnProperty(a)&&i.removeOption(a,t),o<i.caretPos&&i.setCaret(i.caretPos-1),i.updateOriginalInput({silent:t}),i.refreshState(),i.positionDropdown(),i.trigger("item_remove",a,e)}createItem(e=null,t=()=>{}){arguments.length===3&&(t=arguments[2]),typeof t!="function"&&(t=()=>{});var i=this,o=i.caretPos,p;if(e=e||i.inputValue(),!i.canCreate(e))return t(),!1;i.lock();var a=!1,f=k=>{if(i.unlock(),!k||typeof k!="object")return t();var u=_e(k[i.settings.valueField]);if(typeof u!="string")return t();i.setTextboxValue(),i.addOption(k,!0),i.setCaret(o),i.addItem(u),t(k),a=!0};return typeof i.settings.create=="function"?p=i.settings.create.call(this,e,f):p={[i.settings.labelField]:e,[i.settings.valueField]:e},a||f(p),!0}refreshItems(){var e=this;e.lastQuery=null,e.isSetup&&e.addItems(e.items),e.updateOriginalInput(),e.refreshState()}refreshState(){const e=this;e.refreshValidityState();const t=e.isFull(),i=e.isLocked;e.wrapper.classList.toggle("rtl",e.rtl);const o=e.wrapper.classList;o.toggle("focus",e.isFocused),o.toggle("disabled",e.isDisabled),o.toggle("readonly",e.isReadOnly),o.toggle("required",e.isRequired),o.toggle("invalid",!e.isValid),o.toggle("locked",i),o.toggle("full",t),o.toggle("input-active",e.isFocused&&!e.isInputHidden),o.toggle("dropdown-active",e.isOpen),o.toggle("has-options",Bi(e.options)),o.toggle("has-items",e.items.length>0)}refreshValidityState(){var e=this;e.input.validity&&(e.isValid=e.input.validity.valid,e.isInvalid=!e.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(e={}){const t=this;var i,o;const p=t.input.querySelector('option[value=""]');if(t.is_select_tag){let u=function(y,S,M){return y||(y=pe('<option value="'+qe(S)+'">'+qe(M)+"</option>")),y!=p&&t.input.append(y),f.push(y),(y!=p||k>0)&&(y.selected=!0),y};var a=u;const f=[],k=t.input.querySelectorAll("option:checked").length;t.input.querySelectorAll("option:checked").forEach(y=>{y.selected=!1}),t.items.length==0&&t.settings.mode=="single"?u(p,"",""):t.items.forEach(y=>{if(i=t.options[y],o=i[t.settings.labelField]||"",f.includes(i.$option)){const S=t.input.querySelector(`option[value="${St(y)}"]:not(:checked)`);u(S,y,o)}else i.$option=u(i.$option,y,o)})}else t.input.value=t.getValue();t.isSetup&&(e.silent||t.trigger("change",t.getValue()))}open(){var e=this;e.isLocked||e.isOpen||e.settings.mode==="multi"&&e.isFull()||(e.isOpen=!0,ae(e.focus_node,{"aria-expanded":"true"}),e.refreshState(),$e(e.dropdown,{visibility:"hidden",display:"block"}),e.positionDropdown(),$e(e.dropdown,{visibility:"visible",display:"block"}),e.focus(),e.trigger("dropdown_open",e.dropdown))}close(e=!0){var t=this,i=t.isOpen;e&&(t.setTextboxValue(),t.settings.mode==="single"&&t.items.length&&t.inputState()),t.isOpen=!1,ae(t.focus_node,{"aria-expanded":"false"}),$e(t.dropdown,{display:"none"}),t.settings.hideSelected&&t.clearActiveOption(),t.refreshState(),i&&t.trigger("dropdown_close",t.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var e=this.control,t=e.getBoundingClientRect(),i=e.offsetHeight+t.top+window.scrollY,o=t.left+window.scrollX;$e(this.dropdown,{width:t.width+"px",top:i+"px",left:o+"px"})}}clear(e){var t=this;if(t.items.length){var i=t.controlChildren();ye(i,o=>{t.removeItem(o,!0)}),t.inputState(),e||t.updateOriginalInput(),t.trigger("clear")}}insertAtCaret(e){const t=this,i=t.caretPos,o=t.control;o.insertBefore(e,o.children[i]||null),t.setCaret(i+1)}deleteSelection(e){var t,i,o,p,a=this;t=e&&e.keyCode===_t?-1:1,i=Yi(a.control_input);const f=[];if(a.activeItems.length)p=kt(a.activeItems,t),o=Qe(p),t>0&&o++,ye(a.activeItems,k=>f.push(k));else if((a.isFocused||a.settings.mode==="single")&&a.items.length){const k=a.controlChildren();let u;t<0&&i.start===0&&i.length===0?u=k[a.caretPos-1]:t>0&&i.start===a.inputValue().length&&(u=k[a.caretPos]),u!==void 0&&f.push(u)}if(!a.shouldDelete(f,e))return!1;for(se(e,!0),typeof o<"u"&&a.setCaret(o);f.length;)a.removeItem(f.pop());return a.inputState(),a.positionDropdown(),a.refreshOptions(!1),!0}shouldDelete(e,t){const i=e.map(o=>o.dataset.value);return!(!i.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(i,t)===!1)}advanceSelection(e,t){var i,o,p=this;p.rtl&&(e*=-1),!p.inputValue().length&&(Fe(Re,t)||Fe("shiftKey",t)?(i=p.getLastActive(e),i?i.classList.contains("active")?o=p.getAdjacent(i,e,"item"):o=i:e>0?o=p.control_input.nextElementSibling:o=p.control_input.previousElementSibling,o&&(o.classList.contains("active")&&p.removeActiveItem(i),p.setActiveItemClass(o))):p.moveCaret(e))}moveCaret(e){}getLastActive(e){let t=this.control.querySelector(".last-active");if(t)return t;var i=this.control.querySelectorAll(".active");if(i)return kt(i,e)}setCaret(e){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(e=this.isReadOnly||this.isDisabled){this.isLocked=e,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(e){this.focus_node.tabIndex=e?-1:this.tabIndex,this.isDisabled=e,this.input.disabled=e,this.control_input.disabled=e,this.setLocked()}setReadOnly(e){this.isReadOnly=e,this.input.readOnly=e,this.control_input.readOnly=e,this.setLocked()}destroy(){var e=this,t=e.revertSettings;e.trigger("destroy"),e.off(),e.wrapper.remove(),e.dropdown.remove(),e.input.innerHTML=t.innerHTML,e.input.tabIndex=t.tabIndex,Ee(e.input,"tomselected","ts-hidden-accessible"),e._destroy(),delete e.input.tomselect}render(e,t){var i,o;const p=this;if(typeof this.settings.render[e]!="function"||(o=p.settings.render[e].call(this,t,qe),!o))return null;if(o=pe(o),e==="option"||e==="option_create"?t[p.settings.disabledField]?ae(o,{"aria-disabled":"true"}):ae(o,{"data-selectable":""}):e==="optgroup"&&(i=t.group[p.settings.optgroupValueField],ae(o,{"data-group":i}),t.group[p.settings.disabledField]&&ae(o,{"data-disabled":""})),e==="option"||e==="item"){const a=He(t[p.settings.valueField]);ae(o,{"data-value":a}),e==="item"?(be(o,p.settings.itemClass),ae(o,{"data-ts-item":""})):(be(o,p.settings.optionClass),ae(o,{role:"option",id:t.$id}),t.$div=o,p.options[a]=t)}return o}_render(e,t){const i=this.render(e,t);if(i==null)throw"HTMLElement expected";return i}clearCache(){ye(this.options,e=>{e.$div&&(e.$div.remove(),delete e.$div)})}uncacheValue(e){const t=this.getOption(e);t&&t.remove()}canCreate(e){return this.settings.create&&e.length>0&&this.settings.createFilter.call(this,e)}hook(e,t,i){var o=this,p=o[t];o[t]=function(){var a,f;return e==="after"&&(a=p.apply(o,arguments)),f=i.apply(o,arguments),e==="instead"?f:(e==="before"&&(a=p.apply(o,arguments)),a)}}}function Zi(){oe(this.input,"change",()=>{this.sync()})}function Wi(n){var e=this,t=e.onOptionSelect;e.settings.hideSelected=!1;const i=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},n);var o=function(f,k){k?(f.checked=!0,i.uncheckedClassNames&&f.classList.remove(...i.uncheckedClassNames),i.checkedClassNames&&f.classList.add(...i.checkedClassNames)):(f.checked=!1,i.checkedClassNames&&f.classList.remove(...i.checkedClassNames),i.uncheckedClassNames&&f.classList.add(...i.uncheckedClassNames))},p=function(f){setTimeout(()=>{var k=f.querySelector("input."+i.className);k instanceof HTMLInputElement&&o(k,f.classList.contains("selected"))},1)};e.hook("after","setupTemplates",()=>{var a=e.settings.render.option;e.settings.render.option=(f,k)=>{var u=pe(a.call(e,f,k)),y=document.createElement("input");i.className&&y.classList.add(i.className),y.addEventListener("click",function(M){se(M)}),y.type="checkbox";const S=_e(f[e.settings.valueField]);return o(y,!!(S&&e.items.indexOf(S)>-1)),u.prepend(y),u}}),e.on("item_remove",a=>{var f=e.getOption(a);f&&(f.classList.remove("selected"),p(f))}),e.on("item_add",a=>{var f=e.getOption(a);f&&p(f)}),e.hook("instead","onOptionSelect",(a,f)=>{if(f.classList.contains("selected")){f.classList.remove("selected"),e.removeItem(f.dataset.value),e.refreshOptions(),se(a,!0);return}t.call(e,a,f),p(f)})}function Ji(n){const e=this,t=Object.assign({className:"clear-button",title:"Clear All",html:i=>`<div class="${i.className}" title="${i.title}">&#10799;</div>`},n);e.on("initialize",()=>{var i=pe(t.html(t));i.addEventListener("click",o=>{e.isLocked||(e.clear(),e.settings.mode==="single"&&e.settings.allowEmptyOption&&e.addItem(""),o.preventDefault(),o.stopPropagation())}),e.control.appendChild(i)})}const Xi=(n,e)=>{var t;(t=n.parentNode)==null||t.insertBefore(e,n.nextSibling)},en=(n,e)=>{var t;(t=n.parentNode)==null||t.insertBefore(e,n)},tn=(n,e)=>{do{var t;if(e=(t=e)==null?void 0:t.previousElementSibling,n==e)return!0}while(e&&e.previousElementSibling);return!1};function nn(){var n=this;if(n.settings.mode!=="multi")return;var e=n.lock,t=n.unlock;let i=!0,o;n.hook("after","setupTemplates",()=>{var p=n.settings.render.item;n.settings.render.item=(a,f)=>{const k=pe(p.call(n,a,f));ae(k,{draggable:"true"});const u=C=>{i||se(C),C.stopPropagation()},y=C=>{o=k,setTimeout(()=>{k.classList.add("ts-dragging")},0)},S=C=>{C.preventDefault(),k.classList.add("ts-drag-over"),j(k,o)},M=()=>{k.classList.remove("ts-drag-over")},j=(C,O)=>{O!==void 0&&(tn(O,k)?Xi(C,O):en(C,O))},T=()=>{var C;document.querySelectorAll(".ts-drag-over").forEach(x=>x.classList.remove("ts-drag-over")),(C=o)==null||C.classList.remove("ts-dragging"),o=void 0;var O=[];n.control.querySelectorAll("[data-value]").forEach(x=>{if(x.dataset.value){let h=x.dataset.value;h&&O.push(h)}}),n.setValue(O)};return oe(k,"mousedown",u),oe(k,"dragstart",y),oe(k,"dragenter",S),oe(k,"dragover",S),oe(k,"dragleave",M),oe(k,"dragend",T),k}}),n.hook("instead","lock",()=>(i=!1,e.call(n))),n.hook("instead","unlock",()=>(i=!0,t.call(n)))}function rn(n){const e=this,t=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:i=>'<div class="'+i.headerClass+'"><div class="'+i.titleRowClass+'"><span class="'+i.labelClass+'">'+i.title+'</span><a class="'+i.closeClass+'">&times;</a></div></div>'},n);e.on("initialize",()=>{var i=pe(t.html(t)),o=i.querySelector("."+t.closeClass);o&&o.addEventListener("click",p=>{se(p,!0),e.close()}),e.dropdown.insertBefore(i,e.dropdown.firstChild)})}function sn(){var n=this;n.hook("instead","setCaret",e=>{n.settings.mode==="single"||!n.control.contains(n.control_input)?e=n.items.length:(e=Math.max(0,Math.min(n.items.length,e)),e!=n.caretPos&&!n.isPending&&n.controlChildren().forEach((t,i)=>{i<e?n.control_input.insertAdjacentElement("beforebegin",t):n.control.appendChild(t)})),n.caretPos=e}),n.hook("instead","moveCaret",e=>{if(!n.isFocused)return;const t=n.getLastActive(e);if(t){const i=Qe(t);n.setCaret(e>0?i+1:i),n.setActiveItem(),Ee(t,"last-active")}else n.setCaret(n.caretPos+e)})}function on(){const n=this;n.settings.shouldOpen=!0,n.hook("before","setup",()=>{n.focus_node=n.control,be(n.control_input,"dropdown-input");const e=pe('<div class="dropdown-input-wrap">');e.append(n.control_input),n.dropdown.insertBefore(e,n.dropdown.firstChild);const t=pe('<input class="items-placeholder" tabindex="-1" />');t.placeholder=n.settings.placeholder||"",n.control.append(t)}),n.on("initialize",()=>{n.control_input.addEventListener("keydown",t=>{switch(t.keyCode){case Dt:n.isOpen&&(se(t,!0),n.close()),n.clearActiveItems();return;case lt:n.focus_node.tabIndex=-1;break}return n.onKeyDown.call(n,t)}),n.on("blur",()=>{n.focus_node.tabIndex=n.isDisabled?-1:n.tabIndex}),n.on("dropdown_open",()=>{n.control_input.focus()});const e=n.onBlur;n.hook("instead","onBlur",t=>{if(!(t&&t.relatedTarget==n.control_input))return e.call(n)}),oe(n.control_input,"blur",()=>n.onBlur()),n.hook("before","close",()=>{n.isOpen&&n.focus_node.focus({preventScroll:!0})})})}function an(){var n=this;n.on("initialize",()=>{var e=document.createElement("span"),t=n.control_input;e.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",n.wrapper.appendChild(e);var i=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const p of i)e.style[p]=t.style[p];var o=()=>{e.textContent=t.value,t.style.width=e.clientWidth+"px"};o(),n.on("update item_add item_remove",o),oe(t,"input",o),oe(t,"keyup",o),oe(t,"blur",o),oe(t,"update",o)})}function ln(){var n=this,e=n.deleteSelection;this.hook("instead","deleteSelection",t=>n.activeItems.length?e.call(n,t):!1)}function cn(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}function un(){var n=this,e=n.onKeyDown;n.hook("instead","onKeyDown",t=>{var i,o,p,a;if(!n.isOpen||!(t.keyCode===at||t.keyCode===Vt))return e.call(n,t);n.ignoreHover=!0,a=Ge(n.activeOption,"[data-group]"),i=Qe(n.activeOption,"[data-selectable]"),a&&(t.keyCode===at?a=a.previousSibling:a=a.nextSibling,a&&(p=a.querySelectorAll("[data-selectable]"),o=p[Math.min(p.length-1,i)],o&&n.setActiveOption(o)))})}function dn(n){const e=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},n);var t=this;if(e.append){var i='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+qe(e.title)+'">'+e.label+"</a>";t.hook("after","setupTemplates",()=>{var o=t.settings.render.item;t.settings.render.item=(p,a)=>{var f=pe(o.call(t,p,a)),k=pe(i);return f.appendChild(k),oe(k,"mousedown",u=>{se(u,!0)}),oe(k,"click",u=>{t.isLocked||(se(u,!0),!t.isLocked&&t.shouldDelete([f],u)&&(t.removeItem(f),t.refreshOptions(!1),t.inputState()))}),f}})}}function fn(n){const e=this,t=Object.assign({text:i=>i[e.settings.labelField]},n);e.on("item_remove",function(i){if(e.isFocused&&e.control_input.value.trim()===""){var o=e.options[i];o&&e.setTextboxValue(t.text.call(e,o))}})}function pn(){const n=this,e=n.canLoad,t=n.clearActiveOption,i=n.loadCallback;var o={},p,a=!1,f,k=[];if(n.settings.shouldLoadMore||(n.settings.shouldLoadMore=()=>{if(p.clientHeight/(p.scrollHeight-p.scrollTop)>.9)return!0;if(n.activeOption){var M=n.selectable(),j=Array.from(M).indexOf(n.activeOption);if(j>=M.length-2)return!0}return!1}),!n.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";n.settings.sortField=[{field:"$order"},{field:"$score"}];const u=S=>typeof n.settings.maxOptions=="number"&&p.children.length>=n.settings.maxOptions?!1:!!(S in o&&o[S]),y=(S,M)=>n.items.indexOf(M)>=0||k.indexOf(M)>=0;n.setNextUrl=(S,M)=>{o[S]=M},n.getUrl=S=>{if(S in o){const M=o[S];return o[S]=!1,M}return n.clearPagination(),n.settings.firstUrl.call(n,S)},n.clearPagination=()=>{o={}},n.hook("instead","clearActiveOption",()=>{if(!a)return t.call(n)}),n.hook("instead","canLoad",S=>S in o?u(S):e.call(n,S)),n.hook("instead","loadCallback",(S,M)=>{if(!a)n.clearOptions(y);else if(f){const j=S[0];j!==void 0&&(f.dataset.value=j[n.settings.valueField])}i.call(n,S,M),a=!1}),n.hook("after","refreshOptions",()=>{const S=n.lastValue;var M;u(S)?(M=n.render("loading_more",{query:S}),M&&(M.setAttribute("data-selectable",""),f=M)):S in o&&!p.querySelector(".no-results")&&(M=n.render("no_more_results",{query:S})),M&&(be(M,n.settings.optionClass),p.append(M))}),n.on("initialize",()=>{k=Object.keys(n.options),p=n.dropdown_content,n.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},n.settings.render),p.addEventListener("scroll",()=>{n.settings.shouldLoadMore.call(n)&&u(n.lastValue)&&(a||(a=!0,n.load.call(n,n.lastValue)))})})}ge.define("change_listener",Zi);ge.define("checkbox_options",Wi);ge.define("clear_button",Ji);ge.define("drag_drop",nn);ge.define("dropdown_header",rn);ge.define("caret_position",sn);ge.define("dropdown_input",on);ge.define("input_autogrow",an);ge.define("no_backspace_delete",ln);ge.define("no_active_items",cn);ge.define("optgroup_columns",un);ge.define("remove_button",dn);ge.define("restore_on_backspace",fn);ge.define("virtual_scroll",pn);const Bt=(n,e)=>{const i=document.createElement("li");i.classList.add("booking__game");const o=document.createElement("select");o.classList.add("booking__select","booking__select_game");const p=document.createElement("select");p.classList.add("booking__select","booking__select_time");const a=document.createElement("input");a.type="hidden",a.name="booking";const f=document.createElement("button");f.classList.add("booking__hall"),f.type="button",i.append(o,p,a);const k=new ge(o,{hideSelected:!0,placeholder:"Выбрать турнир",options:n.map(S=>({value:S.id,text:S.game}))}),u=new ge(p,{hideSelected:!0,placeholder:"Выбрать время"});u.disable(),k.on("change",S=>{u.enable(),k.blur();const{performances:M}=n.find(j=>j.id===S);u.clear(),u.clearOptions(),u.addOption(M.map(j=>({value:j.time,text:j.time}))),f.remove()}),u.on("change",S=>{if(!S)return;const M=k.getValue(),{performances:j}=n.find(C=>C.id===M),{hall:T}=j.find(C=>C.time===S);a.value=`${M},${S}`,u.blur(),f.textContent=T,i.append(f)});const y=()=>{if(e.children.length<6){const S=Bt(n,e);e.append(S)}u.off("change",y)};return u.on("change",y),i},hn=(n,e,t,i,o,p,a,f)=>{i.classList.remove("event__button_hidden"),o.classList.remove("event__button_hidden");const k=()=>{if(e.classList.toggle("event_hidden"),t.classList.toggle("booking_hidden"),!t.classList.contains("booking_hidden")){const u=Bt(a,f);f.append(u)}};return i.addEventListener("click",()=>{k(),p.textContent="Забронируйте место в зале",n.method="POST"}),o.addEventListener("click",()=>{k(),p.textContent="Редактирование брони",n.method="PATCH"}),k},gn=async()=>{const n=document.querySelector(".booking__games-list"),e=document.querySelector(".booking__form"),t=document.querySelector(".event__info-item_games .event__info-number"),i=document.querySelector(".booking__input_fullname"),o=document.querySelector(".booking__input_phone"),p=document.querySelector(".booking__input_ticket"),a=document.querySelector(".event"),f=document.querySelector(".booking"),k=document.querySelector(".event__button_reserve"),u=document.querySelector(".event__button_edit"),y=document.querySelector(".booking__title"),S=await Ht();if(!S)return;t.textContent=S.length;const M=hn(e,a,f,k,u,y,S,n);hi(e,i,o,p,M,n)};gn();
